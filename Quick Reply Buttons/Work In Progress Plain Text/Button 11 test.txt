/setvar key=catgen "Additional Notes"|
/setvar key=genid "11"|


//setvar key=swipe Yes|

/:"Character Maker V4.Get Char info"|
		


/setvar key=genState Redo|
/setvar key=outputString []|

/while left=genState right=Redo rule=eq {:
	/echo Generating strengths|
	/setvar key=genState []|
	/setvar key=skip {{noop}}|
	/setvar key=skip1 {{noop}}|
	/foreach var=outputString {:
			/addvar key=skip "<div>{{item}}</div>"|
			/ife {: /test left={{index}} right=0 rule=eq :}|
				/then {: /addvar key=skip1 {{item}} :}|
				/else {: /addvar key=skip1 ", {{item}}" :}|
	:}|
	
	
    /setvar key=genState []|  
	
	
	/setvar key=system {{noop}}|
	/setvar key=prompt {{noop}}|
	/setvar key=instruct {{noop}}|
	
	//Button 11 - 01|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 322|
	/setvar key=system {{pipe}}|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 323|
	/setvar key=prompt {{pipe}}|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 324|
	/setvar key=instruct {{pipe}}|
	
    /genraw lock=on name={{char}} 
	system="{{getvar::system}}"
{{getvar::prompt}}
{{getvar::instruct}}|

	
	/addvar key=genState {{pipe}}|  
	
    /addvar key=genState Edit|
	/addvar key=genState Done|
    /addvar key=genState Redo|

    /buttons labels={{getvar::genState}} <div>Select the Strenght you want {{getvar::fname}} to have.</div><div>Here is what you already have chosen</div>{{getvar::skip}} |

    /setvar key=selected_btn {{pipe}}|

    /ife {: /test left=selected_btn right="" rule=eq :}|
		/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}||
    /elseif {: /test left={{getvar::selected_btn}} right="Edit" rule=eq :}|
		/then {:
			/getvar key=genState index=0| /setvar key=t {{pipe}}|
			/input default={{getvar::t}} rows=8 Add a strenght to {{getvar::fname}}.|
			/setvar key=t {{pipe}}|
			/ife {: /test left=t right="" rule=eq :}|
				/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}|
			/else {:
				/addvar key=outputString {{getvar::t}}|
				/setvar key=genState Redo
			:}|
		:}|
	/elseif {: /test left={{getvar::selected_btn}} right=Done rule=eq :}|
		/then {::}|
	/elseif {: /test left={{getvar::selected_btn}} right=Redo rule=neq :}|
		/then {:
			
			/addvar key=outputString {{getvar::selected_btn}}|
			/setvar key=genState Redo
			
		:}|
	/else  {: /setvar key=genState Redo :}|
:}|
/setvar key=strengths {{getvar::outputString}}|



/setvar key=genState Redo|
/setvar key=outputString []|

/while left=genState right=Redo rule=eq {:
	/echo Generating Weaknesses|
	/setvar key=genState []|
	
	/setvar key=skip {{noop}}|
	/setvar key=skip1 {{noop}}|

	
	/foreach var=outputString {:
			/addvar key=skip "<div>{{item}}</div>"|
			/ife {: /test left={{index}} right=0 rule=eq :}|
				/then {: /addvar key=skip1 {{item}} :}|
				/else {: /addvar key=skip1 ", {{item}}" :}|
	:}|
		
		
    /setvar key=genState []|  
	
	/setvar key=system {{noop}}|
	/setvar key=prompt {{noop}}|
	/setvar key=instruct {{noop}}|
	
	//Button 11 - 02|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 326|
	/setvar key=system {{pipe}}|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 327|
	/setvar key=prompt {{pipe}}|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 328|
	/setvar key=instruct {{pipe}}|
	
    /genraw lock=on name={{char}} 
	system="{{getvar::system}}"
{{getvar::prompt}}
{{getvar::instruct}}|

	/add key=genState {{pipe}}|  
	
	
    /addvar key=genState Edit|
	/addvar key=genState Done|
    /addvar key=genState Redo|

    /buttons labels={{getvar::genState}} <div>Select the Weakness you want {{getvar::fname}} to have.</div><div>Here is what you already have chosen</div>{{getvar::skip}} |

    /setvar key=selected_btn {{pipe}}|

    /ife {: /test left=selected_btn right="" rule=eq :}|
		/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}||
    /elseif {: /test left={{getvar::selected_btn}} right="Edit" rule=eq :}|
		/then {:
			/getvar key=genState index=0| /setvar key=t {{pipe}}|
			/input default={{getvar::t}} rows=8 Edit the weakness to your liking.|
			/setvar key=t {{pipe}}|
			/ife {: /test left=t right="" rule=eq :}|
				/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}|
			/else {:
				/addvar key=outputString {{getvar::t}}|
				/setvar key=genState Redo
			:}|
		:}|
	/elseif {: /test left={{getvar::selected_btn}} right=Done rule=eq :}|
		/then {::}|
	/elseif {: /test left={{getvar::selected_btn}} right=Redo rule=neq :}|
		/then {:
			
			/addvar key=outputString {{getvar::selected_btn}}|
			/setvar key=genState Redo
			
		:}|
	/else  {: /setvar key=genState Redo :}|
:}|
/setvar key=weaknesses {{getvar::outputString}}|



/setvar key=genState Redo|
/setvar key=outputString []|

/while left=genState right=Redo rule=eq {:
	/echo Generating Likes|
	/setvar key=genState []|
	/setvar key=skip {{noop}}|
	/setvar key=skip1 {{noop}}|
	/foreach var=outputString {:
			/addvar key=skip "<div>{{item}}</div>"|
			/ife {: /test left={{index}} right=0 rule=eq :}|
				/then {: /addvar key=skip1 {{item}} :}|
				/else {: /addvar key=skip1 ", {{item}}" :}|
	:}|
	
    /setvar key=genState []|  
	
	/setvar key=system {{noop}}|
	/setvar key=prompt {{noop}}|
	/setvar key=instruct {{noop}}|
	
	//Button 11 - 03|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 330|
	/setvar key=system {{pipe}}|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 331|
	/setvar key=prompt {{pipe}}|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 332|
	/setvar key=instruct {{pipe}}|
	
    /genraw lock=on name={{char}} 
	system="{{getvar::system}}"
{{getvar::prompt}}
{{getvar::instruct}}|

	/addvar key=genState {{pipe}}|  
	
	
    /addvar key=genState Edit|
	/addvar key=genState Done|
    /addvar key=genState Redo|

    /buttons labels={{getvar::genState}} <div>Select what you want {{getvar::fname}} to like.</div><div>Here is what you already have chosen</div>{{getvar::skip}} |

    /setvar key=selected_btn {{pipe}}|

    /ife {: /test left=selected_btn right="" rule=eq :}|
		/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}||
    /elseif {: /test left={{getvar::selected_btn}} right="Edit" rule=eq :}|
		/then {:
			/getvar key=genState index=0| /setvar key=t {{pipe}}|
			/input default={{getvar::t}} rows=8 Edit the like to your liking.|
			/setvar key=t {{pipe}}|
			/ife {: /test left=t right="" rule=eq :}|
				/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}|
			/else {:
				/addvar key=outputString {{getvar::t}}|
				/setvar key=genState Redo
			:}|
		:}|
	/elseif {: /test left={{getvar::selected_btn}} right=Done rule=eq :}|
		/then {::}|
	/elseif {: /test left={{getvar::selected_btn}} right=Redo rule=neq :}|
		/then {:
			
			/addvar key=outputString {{getvar::selected_btn}}|
			/setvar key=genState Redo
			
		:}|
	/else  {: /setvar key=genState Redo :}|
:}|

/setvar key=likes {{getvar::outputString}}|



/setvar key=genState Redo|
/setvar key=outputString {{noop}}|

/while left=genState right=Redo rule=eq {:
	/echo Generating Dislikes|
	/setvar key=genState []|
	/setvar key=skip {{noop}}|
	/setvar key=skip1 {{noop}}|
	/foreach var=outputString {:
			/addvar key=skip "<div>{{item}}</div>"|
			/ife {: /test left={{index}} right=0 rule=eq :}|
				/then {: /addvar key=skip1 {{item}} :}|
				/else {: /addvar key=skip1 ", {{item}}" :}|
	:}|
	
    /setvar key=genState []|  
	
	/setvar key=system {{noop}}|
	/setvar key=prompt {{noop}}|
	/setvar key=instruct {{noop}}|
	
	//Button 11 - 04|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 334|
	/setvar key=system {{pipe}}|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 335|
	/setvar key=prompt {{pipe}}|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 336|
	/setvar key=instruct {{pipe}}|
	
    /genraw lock=on name={{char}} 
	system="{{getvar::system}}"
{{getvar::prompt}}
{{getvar::instruct}}|

	/addvar key=genState {{pipe}}|  
	
	
    /addvar key=genState Edit|
	/addvar key=genState Done|
    /addvar key=genState Redo|

    /buttons labels={{getvar::genState}} <div>Select what you want {{getvar::fname}} to dislike.</div><div>Here is what you already have chosen</div>{{getvar::skip}}|

    /setvar key=selected_btn {{pipe}}|

    /ife {: /test left=selected_btn right="" rule=eq :}|
		/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}||
    /elseif {: /test left={{getvar::selected_btn}} right="Edit" rule=eq :}|
		/then {:
			/getvar key=genState index=0| /setvar key=t {{pipe}}|
			/input default={{getvar::t}} rows=8 Edit the dislike to your liking.|
			/setvar key=t {{pipe}}|
			/ife {: /test left=t right="" rule=eq :}|
				/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}|
			/else {:
				/addvar key=outputString {{getvar::t}}|
				/setvar key=genState Redo
			:}|
		:}|
	/elseif {: /test left={{getvar::selected_btn}} right=Done rule=eq :}|
		/then {::}|
	/elseif {: /test left={{getvar::selected_btn}} right=Redo rule=neq :}|
		/then {:
			
			/addvar key=outputString {{getvar::selected_btn}}|
			/setvar key=genState Redo
			
		:}|
	/else  {: /setvar key=genState Redo :}|
:}|

/setvar key=dislikes {{getvar::outputString}}|



/setvar key=genState Redo|
/setvar key=outputString {{noop}}|

/while left=genState right=Redo rule=eq {:
	/echo Generating Fears|
	/setvar key=genState []|
	/setvar key=skip {{noop}}|
	/setvar key=skip1 {{noop}}|
	/foreach var=outputString {:
			/addvar key=skip "<div>{{item}}</div>"|
			/ife {: /test left={{index}} right=0 rule=eq :}|
				/then {: /addvar key=skip1 {{item}} :}|
				/else {: /addvar key=skip1 ", {{item}}" :}|
	:}|
	
    /setvar key=genState []|  
	
	/setvar key=system {{noop}}|
	/setvar key=prompt {{noop}}|
	/setvar key=instruct {{noop}}|
	
	//Button 11 - 05|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 338|
	/setvar key=system {{pipe}}|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 339|
	/setvar key=prompt {{pipe}}|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 340|
	/setvar key=instruct {{pipe}}|

    /genraw lock=on name={{char}} 
	system="{{getvar::system}}"
{{getvar::prompt}}
{{getvar::instruct}}|

	/setvar key=t {{pipe}}|
	/re-replace replace="" find="/\./g" var=t | /setvar key=t {{pipe}}|
	/split var=t | 
	/setvar key=genState {{pipe}}|  
	
	
    /addvar key=genState "Manually add to List"|
	/addvar key=genState Done|
    /addvar key=genState Redo|

    /buttons labels={{getvar::genState}} <div>Select what you want {{getvar::fname}} to be afraid of.</div><div>Here is what you already have chosen</div>{{getvar::skip}}|

    /setvar key=selected_btn {{pipe}}|

    /ife {: /test left=selected_btn right="" rule=eq :}|
		/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}||
    /elseif {: /test left={{getvar::selected_btn}} right="Edit" rule=eq :}|
		/then {:
			/getvar key=genState index=0| /setvar key=t {{pipe}}|
			/input default={{getvar::t}} rows=8 Edit the fear to your liking.|
			/setvar key=t {{pipe}}|
			/ife {: /test left=t right="" rule=eq :}|
				/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}|
			/else {:
				/addvar key=outputString {{getvar::t}}|
				/setvar key=genState Redo
			:}|
		:}|
	/elseif {: /test left={{getvar::selected_btn}} right=Done rule=eq :}|
		/then {::}|
	/elseif {: /test left={{getvar::selected_btn}} right=Redo rule=neq :}|
		/then {:
			
			/addvar key=outputString {{getvar::selected_btn}}|
			/setvar key=genState Redo
			
		:}|
	/else  {: /setvar key=genState Redo :}|
:}|
/setvar key=fears {{getvar::outputString}}|




/setvar key=genState Redo|

/while left=genState right=Redo rule=eq {:
	/echo Generating Sexual knowledge|
    /setvar key=genState []|  
	
	/setvar key=system {{noop}}|
	/setvar key=prompt {{noop}}|
	/setvar key=instruct {{noop}}|
	
	//Button 11 - 06|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 342|
	/setvar key=system {{pipe}}|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 343|
	/setvar key=prompt {{pipe}}|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 344|
	/setvar key=instruct {{pipe}}|
	
    /genraw lock=on name={{char}} 
	system="{{getvar::system}}"
{{getvar::prompt}}
{{getvar::instruct}}|

	/addvar key=genState {{pipe}}|
    /addvar key=genState Edit|  
    /addvar key=genState Redo|  

    /buttons labels={{getvar::genState}} Is this the sexual knowlage you want {{getvar::fname}} to have.|

    /setvar key=selected_btn {{pipe}}|

    /ife {: /test left=selected_btn right="" rule=eq :}|
		/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}||
    /elseif {: /test left={{getvar::selected_btn}} right=Edit rule=eq :}|
		/then {:
			/getvar key=genState index=0 | /setvar key=t {{pipe}}|
			/input rows=8 default={{getvar::t}} Edit the description of {{getvar::fname}}'s sexual knowlage.|
			/setvar key=selected_btn {{pipe}}|
			/ife {: /test left=selected_btn right="" rule=eq :}|
				/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}|
		:}|

    /elseif {: /test left={{getvar::selected_btn}} right=Redo rule=eq :}|
		/then {:
			/setvar key=genState Redo|
		:}|
:}|
/setvar key=sknowlage {{getvar::selected_btn}}|



/setvar key=genState Redo|

/while left=genState right=Redo rule=eq {:
	/echo Generating Sexual experiance|
    /setvar key=genState []|  
	
	/setvar key=system {{noop}}|
	/setvar key=prompt {{noop}}|
	/setvar key=instruct {{noop}}|
	
	//Button 11 - 07|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 346|
	/setvar key=system {{pipe}}|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 347|
	/setvar key=prompt {{pipe}}|
	/getentryfield file="Character Maker Combined NSFW GenRaw" 348|
	/setvar key=instruct {{pipe}}|
	
    /genraw lock=on name={{char}} 
	system="{{getvar::system}}"
{{getvar::prompt}}
{{getvar::instruct}}|

	/addvar key=genState {{pipe}}|
    /addvar key=genState Edit|  
    /addvar key=genState Redo|  

    /buttons labels={{getvar::genState}} Is this the sexual experiance you want {{getvar::fname}} to have.|

    /setvar key=selected_btn {{pipe}}|

    /ife {: /test left=selected_btn right="" rule=eq :}|
		/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}||
    /elseif {: /test left={{getvar::selected_btn}} right=Edit rule=eq :}|
		/then {:
			/getvar key=genState index=0 | /setvar key=t {{pipe}}|
			/input rows=8 default={{getvar::t}} Edit the description.|
			/setvar key=selected_btn {{pipe}}|
			/ife {: /test left=selected_btn right="" rule=eq :}|
				/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}|
		:}|

    /elseif {: /test left={{getvar::selected_btn}} right=Redo rule=eq :}|
		/then {:
			/setvar key=genState Redo|
		:}|
:}|
/setvar key=sexperiance {{getvar::selected_btn}}|


/ife {: /test left=species right=Human rule=eq:}|
	/then {: /setvar key=isTrue false :}|
/elseif {: /test left=species right=Anthro rule=in:}|
	/then {: /setvar key=isTrue false :}|
/elseif {: /test left=species right=Beastkin rule=in:}|
	/then {: /setvar key=isTrue false :}|
/elseif {: /test left=species right=Pokèmon rule=in:}|
	/then {: /setvar key=isTrue true :}|
/elseif {: /test left=species right=Animal rule=in:}|
	/then {: /setvar key=isTrue true :}|
/else {: /setvar key=isTrue true :}|
/setvar key=mating {{noop}}|
/ife {: /test left=isTrue right=true rule=eq:}|
	/then {:
		/setvar key=genState Redo|

		/while left=genState right=Redo rule=eq {:
			/echo Generating {{getvar::species}} Mating|
			/setvar key=genState []|  
			
			/setvar key=system {{noop}}|
			/setvar key=prompt {{noop}}|
			/setvar key=instruct {{noop}}|
			
			//Button 11 - 08|
			/getentryfield file="Character Maker Combined NSFW GenRaw" 350|
			/setvar key=system {{pipe}}|
			/getentryfield file="Character Maker Combined NSFW GenRaw" 351|
			/setvar key=prompt {{pipe}}|
			/getentryfield file="Character Maker Combined NSFW GenRaw" 352|
			/setvar key=instruct {{pipe}}|
			
			/genraw lock=on name={{char}} 
			system="{{getvar::system}}"
{{getvar::prompt}}
{{getvar::instruct}}|
			
			
			
			
			/addvar key=genState {{pipe}}|
			/addvar key=genState Edit|  
			/addvar key=genState Redo|  
		
			/buttons labels={{getvar::genState}} Is this the a good mating description of {{getvar::species}}.|
		
			/setvar key=selected_btn {{pipe}}|
		
			/ife {: /test left=selected_btn right="" rule=eq :}|
				/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}||
			/elseif {: /test left={{getvar::selected_btn}} right=Edit rule=eq :}|
				/then {:
					/getvar key=genState index=0 | /setvar key=t {{pipe}}|
					/input rows=8 default={{getvar::t}} Edit the description to your liking.|
					/setvar key=selected_btn {{pipe}}|
					/ife {: /test left=selected_btn right="" rule=eq :}|
						/then {: /:"Character Maker V4.Flushvar"| /echo Aborting | /abort :}|
				:}|
		
			/elseif {: /test left={{getvar::selected_btn}} right=Redo rule=eq :}|
				/then {:
					/setvar key=genState Redo|
				:}|
		:}|
		/setvar key=mating {{getvar::selected_btn}}|
	:}|	
/setvar key=output "<h2 align='center'>{{getvar::catgen}}</h2>

Strengths"|

/foreach var=strengths {:
	/addvar key=output "
- {{item}}"| 
:}|
		
/addvar key=output "
		
Weaknesses"|
		
/foreach var=weaknesses {:
	/addvar key=output "
- {{item}}"| 
:}|
		
/addvar key=output "
		
Likes"|
		
/foreach var=likes {:
	/addvar key=output "
- {{item}}"| 
:}|
		
/addvar key=output "
		
Dislikes"|
		
/foreach var=dislikes {:
	/addvar key=output "
- {{item}}"| 
:}|
		
/addvar key=output "
		
Fears"|
		
/foreach var=fears {:
	/addvar key=output "
- {{item}}"| 
:}|
		
/addvar key=output "
		
Sexual Knowlage: {{getvar::sknowlage}}

Sexual Experiance: {{getvar::sexperiance}}"|

/ife {: /test left=mating right="" rule=neq :}|
	/then {:
		/addvar key=output "

Mating: {{getvar::mating}}"|
	:}|
/message-edit message={{lastMessageId}} {{getvar::output}}