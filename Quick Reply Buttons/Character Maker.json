{"version":2,"name":"Character Maker","disableSend":false,"placeBeforeInput":false,"injectInput":false,"color":"rgba(0, 0, 0, 0)","onlyBorderColor":false,"qrList":[{"id":2,"showLabel":false,"label":"New Chat and Set Character Gender and Type","title":"Will make a new character and let you set the Gender, type(Human, Anthro etc..), Set transformations, Set information of 'Real' Characters","message":"/extension-exists SillyTavern-LALib | /setvar key=lalib {{pipe}}|\n/if else={: /popup The Extension LALib is needed for this to work. :} left=lalib right=true rule=eq {:\n  /extension-state SillyTavern-LALib | /setvar key=laliben {{pipe}}|\n  /if else={: /popup The Extension LALib needs to be enabled for this to work. :} left=laliben right=true rule=eq {:\n    /if left={{getglobalvar::run}} right=Yes rule=neq {:\n      /:\"Character Maker V4.New Char\"|\n    :}|\n  :}|\n:}|","contextList":[],"preventAutoExecute":false,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":true,"automationId":""},{"id":8,"showLabel":false,"label":"Character Generator Swipe","title":"Swipes the last message after loading needed information. (Use this instead of the built in swipe)","message":"/unhide {{lastMessageId}}|\n/setvar key=t {{lastmessage}}|\n/re-replace replace=\"\" find=\"/Character Maker QR: /g\" {{getvar::t}} | /setvar key=p {{pipe}} |\n/re-replace replace=\"\" find=\"/(?<=<\\/h2>)([\\s\\S]*)/g\" {{getvar::p}} | /setvar key=d {{pipe}} |\n/try {:\n\t/swipes-add {{getvar::d}}|\n\t/setvar key=swipe Yes|\n\t/setvar key=new No|\n:}|\n/catch  {:\n\t/setvar key=d \"<h2 align='center'>Basic Information\"|\n\t/setvar key=swipe No|\n\t/setvar key=new Yes|\n:}|\n\n\n\n\n/ife ( 'Basic Information' in d){:\n\t/:\"Character Maker V4.01. Generate Basic Information (form)\"\n:}|\n/elseif ( 'Appearance Info' in d){:\n\t/:\"Character Maker V4.02. Generate Appearance Info (Can Generate Multiple)\"\n:}|\n/elseif ( 'Personality Traits And Quirks' in d){:\n\t/:\"Character Maker V4.03. Generate Personality Traits And Quirks\"\n:}|\n/elseif ( 'Character\\'s Relation to user' in d){:\n\t/:\"Character Maker V4.04. Character's Relation to user\"\n:}|\n/elseif ( 'Relationship Information' in d){:\n\t/:\"Character Maker V4.05. Generate Relationship Information\"\n:}|\n/elseif ( 'Known Kinks' in d){:\n\t/:\"Character Maker V4.06. Generate Known Kinks\"|\n:}|\n/elseif ( 'Latent Kinks' in d){:\n\t/:\"Character Maker V4.07. Generate Latent Kinks\"|\n:}|\n/elseif ( 'Outfit and Gear' in d){:\n\t/:\"Character Maker V4.08. Generate Outfit and Gear (Can Generate Multiple)\"\n:}|\n/elseif ( 'Background Info' in d){:\n\t/:\"Character Maker V4.09. Generate Background Info\"\n:}|\n/elseif  'Interaction Style' in d){:\n\t/:\"Character Maker V4.10. Generate Interaction Style\"\n:}|\n/elseif ( 'Contextual Information' in d){:\n\t/:\"Character Maker V4.11. Generate Contextual Information\"\n:}|\n/elseif ( 'Additional Notes' in d){:\n\t/:\"Character Maker V4.12. Generate Additional Notes\"\n:}|\n/elseif ( 'Spells and Abilities' in d){:\n\t/:\"Character Maker V4.13. Generate Spells and Abilities\"\n:}|\n/elseif ( 'Character Rules' in d){:\n\t/echo Rules does nothing with a swipe. Insted Edit it manualy and add/remove rules to your liking.|\n\t/:\"Character Maker V4.Flushvar\"\n:}|\n/elseif ( 'Extras' in d){:\n\t/:\"Character Maker V4.15. Generate Extras\"\n:}|\n/elseif ( 'Extra Character' in d){:\n\t/:\"Character Maker V4.16. Generate Extra Character\"\n:}|\n/elseif ( 'Scenario' in d){:\n\t/:\"Character Maker V4.17. Generate Scenario\"\n:}|\n/:\"Character Maker V4.Flushvar\"","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"automationId":""},{"id":4,"showLabel":false,"label":"Generate Character Choice","title":"Select what to generate next","message":"/setvar key=qr Character Maker V4.|\n\n/try {:\n\t/setvar key=swipe No|\n\t/setvar key=new Yes|\n:}|\n/catch  {:\n\t/setvar key=swipe No|\n\t/setvar key=new Yes|\n:}|\n\n/db-get source=chat tags| /setvar key=tags {{pipe}}|\n/messages hidden=on 0-{{lastMessageId}}|\n/setvar key=mess {{pipe}}|\n/setvar key=labels  []|\n/ife ( 'NSFW' in tags) {:\n\t/setvar key=NSFW Yes|\n:}|\n/elseif ( 'SFW' in tags) {:\n\t/setvar key=NSFW No|\n:}|\n\n/setvar key=start \"<h2 align='center'>\"|\n/setvar key=end \"</h2>\"|\n\n/ife ('Required Downloads' not in mess){:\n\t/addvar key=labels \"Swipe\"|\n:}|\n\n/setvar key=mid \"Basic Information\"|\n/setvar key=com \"{{getvar::start}}{{getvar::mid}}{{getvar::end}}\"|\n/ife ( com not in mess) {:\n\t/addvar key=labels \"01. Generate Basic Information (form)\"|\n:}|\n\n/addvar key=labels \"02. Generate Appearance Info (Can Generate Multiple)\"|\n\n/setvar key=mid \"Personality Traits And Quirks\"|\n/setvar key=com \"{{getvar::start}}{{getvar::mid}}{{getvar::end}}\"|\n/ife ( com not in mess) {:\n\t/addvar key=labels \"03. Generate Personality Traits And Quirks\"|\n:}|\n\n/setvar key=mid \"Character's Relation to user\"|\n/setvar key=com \"{{getvar::start}}{{getvar::mid}}{{getvar::end}}\"|\n/ife ( com not in mess) {:\n\t/addvar key=labels \"04. Character's Relation to user\"|\n:}|\n\n/setvar key=mid \"Relationship Information\"|\n/setvar key=com \"{{getvar::start}}{{getvar::mid}}{{getvar::end}}\"|\n/ife ( com not in mess) {:\n\t/addvar key=labels \"05. Generate Relationship Information\"|\n:}|\n\n/ife (NSFW == 'Yes'){:\n\t/setvar key=mid \"Known Kinks\"|\n\t/setvar key=com \"{{getvar::start}}{{getvar::mid}}{{getvar::end}}\"|\n\t/ife ( com not in mess) {:\n\t\t/addvar key=labels \"06. Generate Known Kinks\"|\n\t:}|\n\n\t/setvar key=mid \"Latent Kinks\"|\n\t/setvar key=com \"{{getvar::start}}{{getvar::mid}}{{getvar::end}}\"|\n\t/ife ( com not in mess) {:\n\t\t/addvar key=labels \"07. Generate Latent Kinks\"|\n\t:}|\n:}|\n\n/addvar key=labels \"08. Generate Outfit and Gear (Can Generate Multiple)\"|\n\n/setvar key=mid \"Background Info\"|\n/setvar key=com \"{{getvar::start}}{{getvar::mid}}{{getvar::end}}\"|\n/ife ( com not in mess) {:\n\t/addvar key=labels \"09. Generate Background Info\"|\n:}|\n\n/setvar key=mid \"Interaction Style\"|\n/setvar key=com \"{{getvar::start}}{{getvar::mid}}{{getvar::end}}\"|\n/ife ( com not in mess) {:\n\t/addvar key=labels \"10. Generate Interaction Style\"|\n:}|\n\n/setvar key=mid \"Contextual Information\"|\n/setvar key=com \"{{getvar::start}}{{getvar::mid}}{{getvar::end}}\"|\n/ife ( com not in mess) {:\n\t/addvar key=labels \"11. Generate Contextual Information\"|\n:}|\n\n/setvar key=mid \"Additional Notes\"|\n/setvar key=com \"{{getvar::start}}{{getvar::mid}}{{getvar::end}}\"|\n/ife ( com not in mess) {:\n\t/addvar key=labels \"12. Generate Additional Notes\"|\n:}|\n\n/setvar key=mid \"Spells and Abilities\"|\n/setvar key=com \"{{getvar::start}}{{getvar::mid}}{{getvar::end}}\"|\n/ife ( com not in mess) {:\n\t/addvar key=labels \"13. Generate Spells and Abilities\"|\n:}|\n\n/setvar key=mid \"Character Rules\"|\n/setvar key=com \"{{getvar::start}}{{getvar::mid}}{{getvar::end}}\"|\n/ife ( com not in mess) {:\n\t/addvar key=labels \"14. Copy Character Rules\"|\n:}|\n\n/setvar key=mid \"Extras\"|\n/setvar key=com \"{{getvar::start}}{{getvar::mid}}{{getvar::end}}\"|\n/ife ( com not in mess) {:\n\t/addvar key=labels \"15. Generate Extras\"|\n:}|\n\n/addvar key=labels \"16. Generate Extra Character\"|\n\n/addvar key=labels \"17. Generate Scenario\"|\n\n\n/buttons labels=labels What do you want to do?|\n/setvar key=choice {{pipe}}|\n\n/setvar key=new Yes|\n/setvar key=swipe No|\n\n/ife ( choice == ''){:\n\t/:\"Character Maker V4.Flushvar\"|\n\t/echo Aborting | /abort\n:}|\n/elseif ( choice == 'Swipe'){:\n\t/:\"Character Maker.Character Generator Swipe\"\n:}|\n/else {:\n\t/addvar key=qr {{getvar::choice}}|\n\n\t/:{{getvar::qr}}|\n\t/:\"Character Maker V4.Flushvar\"\n:}|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"automationId":""},{"id":10,"showLabel":false,"label":"Debug","title":"Enables or Disables the Debug mode","message":"/extension-exists SillyTavern-Variable-Viewer | /setvar key=stvv {{pipe}}|\n/ife ( stvv != true ) {:\n  /echo The extention SillyTavern-Variable-Viewer is reccomended\n:}|\n/else {:\n  /extension-state SillyTavern-Variable-Viewer| /setvar key=stvven {{pipe}}|\n  /ife ( stvven != true ){:\n    /echo The extention SillyTavern-Variable-Viewer needs to be enabled to work.\n  :}|\n  else {:\n    /variableviewer\n  :}|\n:}|\n\n/ife (debug != 'Yes' ){:\n\t/setvar key=debug Yes|\n\t/echo Debug Enabled\n:}|\n/else {:\n\t/setvar key=debug No|\n\t/echo Debug Disabled\n:}|\n/flushvar stvv|\n/flushvar stvven","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"automationId":""},{"id":16,"showLabel":false,"label":"Export to Lorebook","title":"Exports part of the character to a LoreBook(The book needs to be manually renamed)","message":"/setvar key=catgen \"Export\"|\n/setvar key=genid \"0\"|\n\n/buttons labels=[\"Yes\", \"No\"] This is the last time you have to look over the character and make any neccisary changes. Do you want to continue?|\n/setvar key=selected_btn {{pipe}}|\n\n/ife ( selected_btn != 'Yes'){:\n  /echo Aborting | /:\"Character Maker V4.Flushvar\"|\n:}|\n\n/:\"Character Maker V4.Get Char info\"|\n\n\n/setvar key=wi \"{{getvar::fname}} {{getvar::lname}}\"|\n\n/let remove_accents {: string=\n    /re-exec find=/(.)/g \"ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ\" | /map {{pipe}} {: /getat index=\"1\" {{var::item}} :} | /let key=mfrom ||\n    /re-exec find=/(.)/g \"AAAAAACEEEEIIIINOOOOOUUUUYaaaaaaceeeeiiiinooooouuuuyy\" | /map {{pipe}} {: /getat index=\"1\" {{var::item}} :} | /let key=mto ||\n    /foreach {{var::mfrom}} {:\n        /getat index={{var::index}} {{var::mto}}\n        | /let lto {{pipe}}\n        | /re-replace find=/{{var::item}}/g replace={{var::lto}} {{var::string}}\n        | /var string {{pipe}}\n    :}\n:} ||\n\n\n\n/:remove_accents string={{getvar::wi}} |\n/setvar as=string key=wi {{pipe}}|\n\n\n//getchatbook file={{getvar::wi}}|\n/createlore file={{getvar::wi}}|\n/setvar key=wiBook {{getvar::wi}}|\n\n\n/setvar key=entryName Appearance Info|\n/echo Processing: {{getvar::entryName}}|\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/setvar key=appinfo []|\n/whilee ( i <= x ){:\n\t/messages hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n\t/ife ( entryName in mess){:\n    /ife ( 'Character Rules' not in mess){:\n  \t\t/unhide {{getvar::i}}|\n      /addvar key=appinfo {{getvar::i}}|\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n/setvar key=trigger [\"Appearance\", \"Look\", \"Nude\", \"Height\", \"Weight\", \"Appearance\", \"Face\", \"Hair\", \"Ear\", \"Eye\", \"Nose\", \"Mouth\", \"Tongue\", \"Upper Body\", \"Body Type\", \"Torso\", \"Arm\", \"Hand\", \"Stomach\", \"Lower Body\", \"Butt\", \"Buttocks\", \"Leg\", \"Feet\", \"Public Hair\", \"Tightness\", \"Depth\", \"Size\"]|\n/ife ( gender == 'Female'){:\n  /addvar key=trigger \"Breast\"|\n  /addvar key=trigger \"Cup size\"|\n  /addvar key=trigger \"Firmness\"|\n  /addvar key=trigger \"Nipples\"|\n  /addvar key=trigger \"Sensativity\"|\n  /addvar key=trigger \"Pussy\"|\n  /addvar key=trigger \"Clit\"|\n  /addvar key=trigger \"Hood\"|\n  /addvar key=trigger \"Hymen\"|\n\n:}|\n/else {:\n  /addvar key=trigger \"Lenght\"|\n  /addvar key=trigger \"Girth\"|\n  /addvar key=trigger \"Flacid\"|\n  /addvar key=trigger \"Erect\"|\n  /addvar key=trigger \"Scrotum\"|\n  /addvar key=trigger \"Balls\"|\n  /addvar key=trigger \"Feature\"|\n  /addvar key=trigger \"Form\"|\n:}|\n\n/setvar key=triggers {{noop}}|\n/foreach {{getvar::trigger}} {:\n  /setvar key=it {{var::item}}|\n  /ife ( it != ''){:\n    /addvar key=triggers \", {{getvar::it}}\"|\n  :}|\n  /else {:\n    /setvar key=triggers {{getvar::it}}|\n  :}|\n:}|\n\n\n/foreach {{getvar::appinfo}} {:\n  /messages names=off hidden=on {{var::item}}|\n  /setvar key=mess {{pipe}}|\n  /wait 10|\n  /re-replace replace=\"\" find=\"/<h2 align='center'>Outfit/g\" {{getvar::mess}}|\n  /setvar key=mess {{pipe}}|\n  /re-replace replace=\"{{getvar::fname}}'s nude \" find=\"/<h2 align='center'>/g\" {{getvar::mess}}|\n  /setvar key=mess {{pipe}}|\n  /re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess}}|\n  /setvar key=mess {{pipe}}|\n  /re-replace replace=\"\" find=\"/^-\\s/g\" {{getvar::mess}}|\n  /setvar key=mess {{pipe}}|\n  /trim {{getvar::mess}}|\n  /setvar key=mess {{pipe}}|\n  /wait 1000|\n  /setvar key=in {{var::index}}|\n  /createentry file={{getvar::wiBook}} key={{getvar::triggers}} {{getvar::mess}}|\n  /setvar key=uid {{pipe}}|\n  /setentryfield file=\"{{getvar::wiBook}}\" uid={{getvar::uid}} field=comment \"{{getvar::entryName}} {{getvar::form}}\"|\n  /ife ( in > 0){:\n    /setentryfield file=\"{{getvar::wiBook}}\" uid={{getvar::uid}} field=disable true|\n  :}|\n  /ife ( form != ''){:\n    /setentryfield file=\"{{getvar::wiBook}}\" uid={{getvar::uid}} field=keysecondary {{getvar::form}}|\n  :}|\n:}|\n\n\n\n\n/setvar key=entryName <h2 align='center'>Outfit</h2>|\n/echo Processing: Outfits|\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/setvar key=index1 0|\n/setvar key=outfit []|\n/whilee ( i <= x ){:\n\t/messages hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n\t/ife ( entryName in mess){:\n    /ife ( 'Character Rules' not in mess){:\n      /incvar index1|\n      /setvar key=index1 {{pipe}}|\n      /setvar key=i2 {{getvar::i}}|\n      /incvar i2|\n      /addvar key=outfit {{getvar::i}}|\n\n      /setvar key=trigger1 []|\n      /setvar key=temptrigger1 {{noop}}|\n      /messages hidden=on names=off {{getvar::i}}|\n      /setvar key=mess1 {{pipe}}|\n\n      /setvar key=trigger2 []|\n      /setvar key=temptrigger2 {{noop}}|\n      /messages hidden=on names=off {{getvar::i2}}|\n      /setvar key=mess2 {{pipe}}|\n\n      /setvar key=outfitLook1 {{noop}}|\n      /genraw Using this message '{{getvar::mess1}}' identify the overall look of the outfit(If most fields are None, {{getvar::fname}} is considered Nude.).\nEXAMPLES: 'Outfit: Nude', 'Outfit: Office', 'Outfit: Bikini', 'Outfit: Swimsuit'\nINSTRUCTION: Never have {{getvar::fname}}'s name in the reply. Keep the reply to a maximum of four tokens. Start the reply with 'Outfit: ' then the overall look. Reply with only the overall look of the outfit and nothing else.|\n      /setvar key=outfitLook1 {{pipe}}|\n      /re-replace find=\"/Outfit:\\s/g\" replace=\"\" {{getvar::outfitLook1}}|\n      /addvar key=trigger1 {{pipe}}|\n\n      /buttons labels=[\"Leisure\", \"{{getvar::octype}}\", \"Other\"] What thype is the {{getvar::outfitLook1}} considerd?|\n      /setvar key=selected_btn  {{pipe}}|\n      /ife ( selected_btn == ''){:\n    \t\t/echo Aborting | /:\"Character Maker V4.Flushvar\"|\n    \t:}|\n      /elseif ( selected_btn == 'Other') {:\n        /input rows=8 What is the type of outfit considered if not Leisure or {{getvar::octype}}?\n        /setvar key=selected_btn  {{pipe}}|\n        /ife ( selected_btn == ''){:\n      \t\t/echo Aborting | /:\"Character Maker V4.Flushvar\"|\n      \t:}|\n        /setvar key=outfitLook1Clean {{getvar::selected_btn}}|\n      :}|\n      /else {:\n        /setvar key=outfitLook1Clean {{getvar::selected_btn}}|\n      :}|\n\n      /addvar key=trigger1 {{getvar::outfitLook1Clean}}|\n\n      /setvar key=outfitLook2 {{noop}}|\n      /genraw Using this message '{{getvar::mess2}}' identify the overall usage of the gear.\nEXAMPLES: 'Gear: Swimming', 'Gear: Office', 'Gear: Climbing'\nINSTRUCTION: Start the reply with 'Gear: ' then the overall Category name. Reply with only the overall Category name of the gear and nothing else.|\n      /setvar key=outfitLook2 {{pipe}}|\n      /re-replace find=\"/Gear:\\s/g\" replace=\"\" {{getvar::outfitLook2}}|\n      /setvar key=outfitLook2Clean {{pipe}}\n      /addvar key=trigger2 {{getvar::outfitLook2Clean}}|\n      /addvar key=outfitLook2Clean , {{getvar::outfitLook1Clean}}|\n      /addvar key=trigger2 {{getvar::outfitLook1Clean}}|\n      /setvar key=a1 {{noop}}|\n      /genraw Using the message '{{getvar::mess1}}', extract a list of specific clothing items. Follow these rules:\n\n1. Identify Specific Items: Extract only the names of clothing items, e.g., \"Turtleneck,\" \"Sweater,\" \"Panties,\" \"Pantyhose,\" \"Heels.\"\n2. Simplify: Exclude all descriptive details (e.g., colors, patterns, fit, or materials).\n - Example: \"Navy Top\" becomes \"Top\", \"Sports Bra\" becomes \"Bra\", \"Pencil Skirt\" becomes \"Skirt\"\n3. Include All Relevant Clothing: List all distinct pieces of clothing explicitly mentioned.\n4. Formatting: Reply with only the clothing item names in a comma-separated list.\n5. Do Not Exclude: Ensure all items of clothing mentioned are included in their simplest form.\nExample Outputs:\n\n-Input:\n - \"She wore a sleek black turtleneck, fitted jeans, and white sneakers.\"\n - Output: \"Turtleneck, Jeans, Sneakers\"\n- Input:\n - \"Her outfit included a patterned shirt, loose shorts, and ankle socks.\"\n-Output: \"Shirt, Shorts, Socks\"|\n      /setvar key=a1 {{pipe}}|\n      /ife ( a1 == ''){:\n        /ife ( gender == 'Female'){:\n          /addvar key=a1 Panties, Briefs, Thong, Boyshorts, Skirt, Bra, Undershirt, Top, Blouse\n        :}|\n        /ife ( gender == 'Male'){:\n          /addvar key=a1 Boxers, Briefs\n        :}|\n\n        /addvar key=a1 Shorts, Pants, Jeans, Trouser, Sweater, T-shirt, Jacket, Coat, Blazer, Hat, Cap, Beanie\n\n      :}|\n      /split {{getvar::a1}}|\n      /setvar as=array key=a1 {{pipe}}|\n      /addvar key=a1 Outfit|\n      /addvar key=a1 Upper Body|\n      /addvar key=a1 Lower Body|\n      /ife ( 'One-Piece' in mess1){:\n        /addvar key=a1 One-Piece|\n      :}|\n      /elseif ( 'Two-Piece' in mess1){:\n        /addvar key=a1 Two-Piece|\n      :}|\n      /foreach {{getvar::a1}} {:\n        /setvar key=it1 {{var::item}}|\n        /addvar key=trigger1 {{getvar::it1}}|\n      :}|\n\n      /setvar key=a2 {{noop}}|\n      /genraw In the message '{{getvar::mess2}}', extract a list of all gear items. Follow these rules:\n\n1. Generalize the Item: Remove all descriptors and adjectives. For example:\n\"Luxurious Blindfold\" becomes \"Blindfold.\"\n\"Carefully Crafted Gag\" becomes \"Gag.\"\n\"Wireless Mouse\" becomes \"Mouse.\"\n2. Use Singular Form: Ensure items are in singular form. Avoid plurals.\n3. Focus on Concrete Gear: Ignore descriptions or context; extract only the base gear items.\n4. Formatting: Reply with a simple, comma-separated list of items. No extra text, explanations, or formatting.\n\nExample Outputs:\n\nInput: \"A luxurious blindfold, crafted gag, and noise-canceling headphones.\"\nOutput: \"Blindfold, Gag, Headphones\"\nInput: \"Safety helmet, rope, and a set of carabiners.\"\nOutput: \"Helmet, Rope, Carabiner\"|\n      /setvar key=a2 {{pipe}}|\n      /split {{getvar::a2}}|\n      /setvar as=array key=a2 {{pipe}}|\n      /addvar key=a2 Gear|\n      /foreach {{getvar::a2}} {:\n        /setvar key=it1 {{var::item}}|\n        /addvar key=trigger2 {{getvar::it1}}|\n      :}|\n\n      /setvar key=triggers1 {{noop}}|\n      /foreach {{getvar::trigger1}} {:\n      \t/setvar key=it1 {{var::item}}|\n      \t/setvar key=in {{var::index}}|\n      \t/ife ( in == 0){:\n          /addvar key=triggers1 {{getvar::it1}}|\n        :}|\n        /else {:\n          /addvar key=triggers1 \", {{getvar::it1}}\"|\n        :}|\n\n      :}|\n\n      /setvar key=triggers2 {{noop}}|\n      /foreach {{getvar::trigger2}} {:\n      \t/setvar key=it1 {{var::item}}|\n      \t/setvar key=in {{var::index}}|\n      \t/ife ( in == 0){:\n          /addvar key=triggers2 {{getvar::it1}}|\n        :}|\n        /else {:\n          /addvar key=triggers2 \", {{getvar::it1}}\"|\n        :}|\n\n      :}|\n\n\n      /re-replace replace=\"\" find=\"/<h2 align='center'>Outfit<\\/h2>/g\" {{getvar::mess1}}|\n      /setvar key=mess1 {{pipe}}|\n      /re-replace replace=\"\" find=\"/<h2 align='center'>/g\" {{getvar::mess1}}|\n      /setvar key=mess1 {{pipe}}|\n      /re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess1}}|\n      /setvar key=mess1 {{pipe}}|\n      /re-replace replace=\"\" find=\"/^-\\s/g\" {{getvar::mess1}}|\n      /setvar key=mess1 {{pipe}}|\n      /trim {{getvar::mess1}}|\n      /setvar key=mess1 {{pipe}}|\n\n      /re-replace replace=\"\" find=\"/<h2 align='center'>Gear<\\/h2>/g\" {{getvar::mess2}}|\n      /setvar key=mess2 {{pipe}}|\n      /re-replace replace=\"\" find=\"/<h2 align='center'>/g\" {{getvar::mess2}}|\n      /setvar key=mess2 {{pipe}}|\n      /re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess2}}|\n      /setvar key=mess2 {{pipe}}|\n      /re-replace replace=\"\" find=\"/^-\\s/g\" {{getvar::mess2}}|\n      /setvar key=mess2 {{pipe}}|\n      /trim {{getvar::mess2}}|\n      /setvar key=mess2 {{pipe}}|\n\n      /setvar key=mess1 {{getvar::fname}}'s {{getvar::outfitLook1Clean}} {{getvar::mess1}}|\n      /setvar key=mess2 {{getvar::fname}}'s {{getvar::outfitLook2Clean}} Gear{{newline}}{{getvar::mess2}}|\n      /wait 1000|\n      /len {{getvar::outfit}}| /setvar key=len {{pipe}}|\n      /createentry file={{getvar::wiBook}} key={{getvar::triggers1}} {{getvar::mess1}}|\n      /setvar key=uid {{pipe}}|\n      /setentryfield file=\"{{getvar::wiBook}}\" uid={{getvar::uid}} field=comment \"{{getvar::index1}}A-{{getvar::outfitLook1}} {{getvar::outfitLook1Clean}} {{getvar::form}}\"|\n      /ife ( len > 1){:\n        /setentryfield file=\"{{getvar::wiBook}}\" uid={{getvar::uid}} field=disable true|\n        /hide {{getvar::key=i}}|\n      :}|\n      /ife ( form != ''){:\n        /setentryfield file=\"{{getvar::wiBook}}\" uid={{getvar::uid}} field=keysecondary {{getvar::form}}|\n      :}|\n      /createentry file={{getvar::wiBook}} key={{getvar::triggers2}} {{getvar::mess2}}|\n      /setvar key=uid {{pipe}}|\n      /setentryfield file=\"{{getvar::wiBook}}\" uid={{getvar::uid}} field=comment \"{{getvar::index1}}B-{{getvar::outfitLook2}} {{getvar::form}}\"|\n      /ife ( len > 1){:\n        /setentryfield file=\"{{getvar::wiBook}}\" uid={{getvar::uid}} field=disable true|\n        /hide {{getvar::key=i2}}|\n      :}|\n      /ife ( form != ''){:\n        /setentryfield file=\"{{getvar::wiBook}}\" uid={{getvar::uid}} field=keysecondary {{getvar::form}}|\n      :}|\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n\n\n\n/setvar key=entryName Known Kinks|\n/echo Processing: {{getvar::entryName}}|\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n\t/ife ( entryName in mess){:\n    /ife ( 'Character Rules' not in mess){:\n      /setvar key=trigger []|\n      /setvar key=temptrigger {{noop}}|\n      /messages hidden=on names=off {{getvar::i}}|\n      /setvar key=mess {{pipe}}|\n\n      /genraw Using this message '{{getvar::mess}}' identify the name of the kink.\nINSTRUCTION: Do not include parentheses or the content within them in your response under any circumstances. Reply with only the name of the kink and nothing else.|\n      /setvar key=kinkName {{pipe}}|\n      /re-replace replace=\"\" find=\"/ \\(.*/g\" {{getvar::kinkName}}|\n      /setvar key=kinkName {{pipe}}|\n      /addvar key=trigger {{pipe}}|\n      /genraw in this message '{{getvar::mess}}' reply with a list of alternate name for the kink.\nINSTRUCTION: Never include anything inside '()', Only reply with a comma-separated list, nothing else.|\n      /setvar key=a {{pipe}}|\n      /split {{getvar::a}}|\n      /setvar as=array key=a {{pipe}}|\n      /foreach {{getvar::a}} {:\n        /setvar key=it1 {{var::item}}|\n        /addvar key=trigger {{getvar::it1}}|\n      :}|\n\n      /addvar key=trigger Kink|\n      /addvar key=trigger Known Kink|\n\n      /setvar key=triggers {{noop}}|\n      /foreach {{getvar::trigger}} {:\n      \t/setvar key=it1 {{var::item}}|\n      \t/setvar key=in {{var::index}}|\n      \t/ife ( in == 0){:\n          /addvar key=triggers {{getvar::it1}}|\n        :}|\n        /else {:\n          /addvar key=triggers \", {{getvar::it1}}\"|\n        :}|\n\n      :}|\n\n      /re-replace replace=\"\" find=\"/<h2 align='center'>Known Kinks<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/<h2 align='center'>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/^-\\s/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /trim {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-exec first=true find=\"/^[^\\(\\n]*/g\" {{getvar::mess}}|\n      /setvar key=preKinkName {{pipe}}|\n      /getvar key=preKinkName index=0|\n      /setvar key=kinkName {{pipe}}|\n      /setvar key=mess {{getvar::fname}}'s {{getvar::kinkName}} knowlage{{newline}}{{getvar::mess}}|\n      /wait 1000|\n      /createentry file={{getvar::wiBook}} key={{getvar::triggers}} {{getvar::mess}}|\n      /setvar key=uid {{pipe}}|\n      /setentryfield file=\"{{getvar::wiBook}}\" uid={{getvar::uid}} field=comment \"Known {{getvar::kinkName}}\"|\n\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n\n\n\n/setvar key=entryName Latent Kinks|\n/echo Processing: {{getvar::entryName}}|\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n\t/ife ( entryName in mess){:\n    /ife ( 'Character Rules' not in mess){:\n      /setvar key=trigger []|\n      /setvar key=temptrigger {{noop}}|\n      /messages hidden=on names=off {{getvar::i}}|\n      /setvar key=mess {{pipe}}|\n\n      /genraw Using this message '{{getvar::mess}}' identify the name of the kink.\nINSTRUCTION: Do not include parentheses or the content within them in your response under any circumstances. Reply with only the name of the kink and nothing else.|\n      /setvar key=kinkName {{pipe}}|\n      /re-replace replace=\"\" find=\"/ \\(.*/g\" {{getvar::kinkName}}|\n      /setvar key=kinkName {{pipe}}|\n      /addvar key=trigger {{pipe}}|\n      /genraw in this message '{{getvar::mess}}' reply with a list of alternate name for the kink.\nINSTRUCTION: Never include anything inside '()', Only reply with a comma-separated list, nothing else.|\n      /setvar key=a {{pipe}}|\n      /split {{getvar::a}}|\n      /setvar as=array key=a {{pipe}}|\n      /foreach {{getvar::a}} {:\n        /setvar key=it1 {{var::item}}|\n        /addvar key=trigger {{getvar::it1}}|\n      :}|\n\n      /addvar key=trigger Kink|\n      /addvar key=trigger Latent Kink|\n\n      /setvar key=triggers {{noop}}|\n      /foreach {{getvar::trigger}} {:\n      \t/setvar key=it1 {{var::item}}|\n      \t/setvar key=in {{var::index}}|\n      \t/ife ( in == 0){:\n          /addvar key=triggers {{getvar::it1}}|\n        :}|\n        /else {:\n          /addvar key=triggers \", {{getvar::it1}}\"|\n        :}|\n\n      :}|\n\n      /re-replace replace=\"\" find=\"/<h2 align='center'>Latent Kinks<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/<h2 align='center'>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/^-\\s/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /trim {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-exec first=true find=\"/^[^\\(\\n]*/g\" {{getvar::mess}}|\n      /setvar key=preKinkName {{pipe}}|\n      /getvar key=preKinkName index=0|\n      /setvar key=kinkName {{pipe}}|\n      /setvar key=mess {{getvar::fname}}'s {{getvar::kinkName}} latent interest{{newline}}{{getvar::mess}}|\n      /wait 1000|\n      /createentry file={{getvar::wiBook}} key={{getvar::triggers}} {{getvar::mess}}|\n      /setvar key=uid {{pipe}}|\n      /setentryfield file=\"{{getvar::wiBook}}\" uid={{getvar::uid}} field=comment \"Latent: {{getvar::kinkName}}\"|\n\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n\n\n\n/setvar key=entryName <h2 align='center'>Sibling</h2>|\n/echo Processing: Siblings|\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n\t/ife ( entryName in mess){:\n    /ife ( 'Character Rules' not in mess){:\n      /re-replace find=\"/<h2 align='center'>/g\" replace=\"\" {{getvar::entryName}}|\n      /setvar key=entryName {{pipe}}|\n      /re-replace find=\"/<\\/h2>/g\" replace=\"\" {{getvar::entryName}}|\n      /setvar key=entryName {{pipe}}|\n  \t\t/unhide {{getvar::i}}|\n      /setvar key=trigger []|\n      /setvar key=temptrigger {{noop}}|\n      /messages names=off {{getvar::i}}|\n      /setvar key=mess {{pipe}}|\n\n      /genraw Using this message '{{getvar::mess}}' identify the name of the sibling of {{getvar::fname}}.\nINSTRUCTION: Reply with only the name of the sibling and nothing else.|\n      /setvar key=sName {{pipe}}|\n      /re-replace replace=\"\" find=\"/ \\(.*/g\" {{getvar::sName}}|\n      /setvar key=sName {{pipe}}|\n      /addvar key=trigger {{pipe}}|\n      /genraw in this message '{{getvar::mess}}' reply with a Sister or Brother depending on what {{getvar::sName}} is to {{getvar::fname}}.\nINSTRUCTION: Only reply with Sister or Brother, nothing else.|\n      /setvar key=a {{pipe}}|\n      /split {{getvar::a}}|\n      /setvar as=array key=a {{pipe}}|\n      /foreach {{getvar::a}} {:\n        /setvar key=it1 {{var::item}}|\n        /addvar key=trigger {{getvar::it1}}|\n      :}|\n\n      /addvar key=trigger Sibling|\n\n      /setvar key=triggers {{noop}}|\n      /foreach {{getvar::trigger}} {:\n      \t/setvar key=it1 {{var::item}}|\n      \t/setvar key=in {{var::index}}|\n      \t/ife ( in == 0){:\n          /addvar key=triggers {{getvar::it1}}|\n        :}|\n        /else {:\n          /addvar key=triggers \", {{getvar::it1}}\"|\n        :}|\n\n      :}|\n\n      /re-replace replace=\"\" find=\"/<h2 align='center'>Sibling<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/<h2 align='center'>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/^-\\s/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /trim {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /wait 1000|\n      /createentry file={{getvar::wiBook}} key={{getvar::triggers}} {{getvar::mess}}|\n      /setvar key=uid {{pipe}}|\n      /setentryfield file=\"{{getvar::wiBook}}\" uid={{getvar::uid}} field=comment \"Sibling: {{getvar::sName}}\"|\n\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n\n/setvar key=entryName <h2 align='center'>Extra Character</h2>|\n/echo Processing: Siblings|\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n\t/ife ( entryName in mess){:\n    /ife ( 'Character Rules' not in mess){:\n      /re-replace find=\"/<h2 align='center'>/g\" replace=\"\" {{getvar::entryName}}|\n      /setvar key=entryName {{pipe}}|\n      /re-replace find=\"/<\\/h2>/g\" replace=\"\" {{getvar::entryName}}|\n      /setvar key=entryName {{pipe}}|\n      /setvar key=trigger []|\n      /setvar key=temptrigger {{noop}}|\n      /messages hidden=on names=off {{getvar::i}}|\n      /setvar key=mess {{pipe}}|\n\n      /genraw Using this message '{{getvar::mess}}' identify the name of the character that is not {{getvar::fname}}.\nINSTRUCTION: Reply with only the name of the character and nothing else.|\n      /setvar key=cName {{pipe}}|\n      /re-replace replace=\"\" find=\"/ \\(.*/g\" {{getvar::cName}}|\n      /setvar key=cName {{pipe}}|\n      /addvar key=trigger {{pipe}}|\n      /genraw in this message '{{getvar::mess}}' identify {{getvar::cName}} relation to {{getvar::fname}}.\nINSTRUCTION: The reply should only be one or two tokens. Only reply with the relation, nothing else.|\n      /setvar key=cRel {{pipe}}|\n      /addvar key=trigger {{getvar::cRel}}|\n\n\n      /setvar key=triggers {{noop}}|\n      /foreach {{getvar::trigger}} {:\n      \t/setvar key=it1 {{var::item}}|\n      \t/setvar key=in {{var::index}}|\n      \t/ife ( in == 0){:\n          /addvar key=triggers {{getvar::it1}}|\n        :}|\n        /else {:\n          /addvar key=triggers \", {{getvar::it1}}\"|\n        :}|\n\n      :}|\n\n      /re-replace replace=\"\" find=\"/<h2 align='center'>Extra Character<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/<h2 align='center'>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/^-\\s/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /trim {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /wait 1000|\n      /createentry file={{getvar::wiBook}} key={{getvar::triggers}} {{getvar::mess}}|\n      /setvar key=uid {{pipe}}|\n      /setentryfield file=\"{{getvar::wiBook}}\" uid={{getvar::uid}} field=comment \"{{getvar::cName}}'s information\"|\n\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n\n/wi-list-entries {{getvar::wiBook}}|\n/setvar key=wiList {{pipe}}|\n\n/foreach {{getvar::wiList}} {:\n  /setvar key=it {{var::item}}|\n  /getvar key=it index=uid|\n  /setvar key=in {{pipe}}|\n  /getvar key=it index=content|\n  /setvar key=content {{pipe}}|\n  /re-replace find=\"/\\buser\\b(?![a-zA-Z])/g\" replace=\"\\{\\{user--remove--\\}\\}\" {{getvar::content}}|\n  /setvar key=content {{pipe}}|\n\n  /setentryfield file={{getvar::wiBook}} uid={{getvar::in}} field=content {{getvar::content}}|\n:}|\n/:\"Character Maker V4.Flushvar\"|\n/popup <div>Done</div>\n<div>Remember to check the Primary Keywords of the Lorebooks entries.</div>\n<div>Refresh the SillyTavern page to see the new Lorebook.</div>\n<div>It will be named {{getvar::wiBook}}</div>","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"automationId":""},{"id":18,"showLabel":false,"label":"Export character Card","title":"Exports the rest of the Character to a Character Sheet that needs to be downloaded from the Data Bank. More info at the end of the generation","message":"/setvar key=catgen \"Export\"|\n/setvar key=genid \"0\"|\n\n/:\"Character Maker V4.Get Char info\"|\n\n/getentryfield file=\"Character Maker Combined NSFW Variables\" 8|\n/setvar key=charCard {{pipe}}|\n\n\n/re-replace find=\"/--CharName--/g\" replace=\"{{getvar::fname}}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n\n\n//Personality Summary|\n\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages names=off hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n  /setvar key=check \"<h2 align='center'>Personality</h2>\"|\n\t/ife ( check in mess){:\n    /ife ( 'Character Rules' not in mess){:\n      /re-replace replace=\"\" find=\"/<h2 align='center'>Personality<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/<h2 align='center'>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/^-\\s/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /trim {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\\\\\"\" find=\"/\\\"/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\\r\\n\" find=\"/(\\r\\n\\|\\r\\|\\n)/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n  \t\t/setvar key=Summary {{getvar::mess}}|\n      //break|\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n\n/re-replace find=\"/--Summary--/g\" replace=\"{{getvar::Summary}}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n\n\n\n//Scenario not implemented yet|\n\n/setvar key=Scenario {{noop}}|\n\n/re-replace find=\"/--Scenario--/g\" replace=\"{{getvar::Scenario}}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n\n\n\n/setvar key=Main_Prompt {{noop}}|\n\n/re-replace find=\"/--Main_Prompt--/g\" replace=\"{{original}}{{getvar::Main_Prompt}}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n\n\n\n/setvar key=Post_Hist {{noop}}|\n\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages names=off hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n\t/ife ( 'Character Rules' in mess){:\n\t\t/setvar key=Post_Hist {{getvar::mess}}|\n    /re-replace replace=\"\" find=\"/<h2 align='center'>Character Rules<\\/h2>/g\" {{getvar::Post_Hist}}|\n    /setvar key=Post_Hist {{pipe}}|\n    /trim {{getvar::Post_Hist}}|\n    /setvar key=Post_Hist {{pipe}}|\n    /re-replace replace=\"\\\\\"\" find=\"/\\\"/g\" {{getvar::Post_Hist}}|\n    /setvar key=Post_Hist {{pipe}}|\n    /re-replace replace=\"\\r\\n\" find=\"/(\\r\\n\\|\\r\\|\\n)/g\" {{getvar::Post_Hist}}|\n    /setvar key=Post_Hist {{pipe}}|\n\n    //break|\n\t:}|\n\t/incvar i|\n:}|\n\n/re-replace find=\"/--Post_Hist--/g\" replace=\"{{original}}{{getvar::Post_Hist}}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n\n\n\n/setvar key=Char_Notes {{noop}}|\n\n/re-replace find=\"/--Char_Notes--/g\" replace=\"{{getvar::Char_Notes}}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n\n\n\n//Get First_Mess|\n\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/setvar key=scenarios []|\n/setvar key=scenarioindex []|\n/whilee ( i <= x ){:\n\t/messages names=off hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n  /setvar key=check \"<h2 align='center'>Scenario</h2>\"|\n\t/ife ( check in mess){:\n    /ife ( 'Character Rules' not in mess){:\n  \t\t/addvar key=scenarios {{getvar::mess}}|\n\t\t\t/addvar key=scenarioindex {{getvar::i}}|\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n\n/setvar key=shortscenario []|\n\n/len scenarios| /setvar key=scenlen {{pipe}}|\n\n/ife ( scenlen > 1 ){:\n  /foreach {{getvar::scenarios}} {:\n  \t/setvar key=it {{var::item}}|\n  \t/setvar key=in {{var::index}}|\n\n  \t/genraw Make a short one word or sentence of the scenario(This should be overall what is happening) '{{getvar::it}}'|\n  \t/addvar key=shortscenario {{pipe}}|\n\n  :}|\n\n  /buttons labels={{getvar::shortscenario}} Select the scenario that should be The first message.|\n  /setvar key=selected_btn {{pipe}}|\n\n  /foreach {{getvar::shortscenario}} {:\n  \t/setvar key=it {{var::item}}|\n  \t/getvar key=scenarioindex index={{var::index}}|\n  \t/setvar key=in {{pipe}}|\n\n  \t/ife ( it == selected_btn){:\n      /getvar key=scenarios index={{var::index}}|\n  \t\t/setvar key=First_Mess {{pipe}}|\n      /setvar key=scenarioindex index={{var::index}} {{noop}}|\n  \t:}|\n\n  :}|\n\n  /setvar key=tempindex []|\n  /foreach {{getvar::scenarioindex}} {:\n  \t/setvar key=it {{var::item}}|\n  \t/setvar key=in {{var::index}}|\n  \t/ife ( it != ''){:\n      /addvar key=tempindex {{getvar::it}}|\n    :}|\n  :}|\n  /setvar key=scenarioindex {{getvar::tempindex}}|\n:}|\n/elseif ( scenlen == 1){:\n  /getvar key=scenarios index=0|\n  /setvar key=First_Mess {{pipe}}|\n  /setvar key=scenarioindex []|\n:}|\n/else {:\n /setvar key=First_Mess {{noop}}|\n:}|\n/re-replace replace=\"\" find=\"/<h2 align='center'>Scenario<\\/h2>/g\" {{getvar::First_Mess}}|\n/setvar key=First_Mess {{pipe}}|\n/trim {{getvar::First_Mess}}|\n/setvar key=First_Mess {{pipe}}|\n/re-replace replace=\"\\\\\"\" find=\"/\\\"/g\" {{getvar::First_Mess}}|\n/setvar key=First_Mess {{pipe}}|\n/re-replace replace=\"\\r\\n\" find=\"/(\\r\\n\\|\\r\\|\\n)/g\" {{getvar::First_Mess}}|\n/setvar key=First_Mess {{pipe}}|\n\n/re-replace find=\"/--First_Mess--/g\" replace=\"{{getvar::First_Mess}}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n\n\n\n\n/setvar key=Alt_Greet []|\n\n/foreach {{getvar::scenarioindex}} {:\n\t/setvar key=in {{var::item}}|\n  /messages names=off hidden=on {{getvar::in}}|\n  /setvar key=mess {{pipe}}|\n  /re-replace replace=\"\" find=\"/<h2 align='center'>Scenario<\\/h2>/g\" {{getvar::mess}}|\n  /setvar key=mess {{pipe}}|\n  /re-replace replace=\"\" find=\"/<h2 align='center'>/g\" {{getvar::mess}}|\n  /setvar key=mess {{pipe}}|\n  /re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess}}|\n  /setvar key=mess {{pipe}}|\n  /re-replace replace=\"\" find=\"/^-\\s/g\" {{getvar::mess}}|\n  /setvar key=mess {{pipe}}|\n  /trim {{getvar::mess}}|\n  /setvar key=mess {{pipe}}|\n  /re-replace replace=\"\\\\\"\" find=\"/\\\"/g\" {{getvar::mess}}|\n  /setvar key=mess {{pipe}}|\n  /re-replace replace=\"\\r\\n\" find=\"/(\\r\\n\\|\\r\\|\\n)/g\" {{getvar::mess}}|\n  /addvar key=Alt_Greet {{pipe}}|\n\n:}|\n\n/setvar key=Alt_Greet_String {{noop}}|\n/setvar key=t {{noop}}|\n/foreach {{getvar::Alt_Greet}} {:\n\t/setvar key=it {{var::item}}|\n\t/setvar key=in {{var::index}}|\n\t/ife ( in == 0){:\n    /setvar key=t \\\"|\n    /addvar key=t {{getvar::it}}|\n    /addvar key=t \\\"|\n  :}|\n\t/else {:\n  /addvar key=t ,\"|\n  /addvar key=t {{getvar::it}}|\n  /addvar key=t \\\"|\n  :}|\n\n:}|\n\n/setvar key=Alt_Greet_String {{getvar::t}}|\n/re-replace find=\"/\\\"--Alt_Greet1--\\\"/g\" replace=\"{{getvar::Alt_Greet_String}}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n/json-pretty {{getvar::charCard}}|\n\n\n\n/setvar key=Example_Dial {{noop}}|\n\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages names=off hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n\t/ife ( 'Speech Examples' in mess){:\n\t\t/setvar key=Example_Dial {{getvar::mess}}|\n    /re-replace replace=\"\" find=\"/<h2 align='center'>Speech Examples<\\/h2>/g\" {{getvar::Example_Dial}}|\n    /setvar key=Example_Dial {{pipe}}|\n    /trim {{getvar::Example_Dial}}|\n    /setvar key=Example_Dial {{pipe}}|\n    /re-replace replace=\"\\\\\"\" find=\"/\\\"/g\" {{getvar::Example_Dial}}|\n    /setvar key=Example_Dial {{pipe}}|\n    /re-replace replace=\"\\r\\n\" find=\"/(\\r\\n\\|\\r\\|\\n)/g\" {{getvar::Example_Dial}}|\n    /setvar key=Example_Dial {{pipe}}|\n    //break|\n\t:}|\n\t/incvar i|\n:}|\n\n/re-replace find=\"/--Example_Dial--/g\" replace=\"{{getvar::Example_Dial}}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n/json-pretty {{getvar::charCard}}|\n\n\n\n\n/setvar key=Tags []|\n\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages names=off hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n\t/ife ( 'Tags' in mess){:\n\t\t/setvar key=temptags {{getvar::mess}}|\n    /re-replace replace=\"\" find=\"/<h2 align='center'>Tags<\\/h2>/g\" {{getvar::temptags}}|\n    /setvar key=temptags {{pipe}}|\n    /trim {{getvar::temptags}}|\n    /setvar key=temptags {{pipe}}|\n    /split {{getvar::temptags}}|\n    /setvar key=Tags {{pipe}}|\n    //break|\n\t:}|\n\t/incvar i|\n:}|\n\n/setvar key=Tags_String {{noop}}|\n/setvar key=t {{noop}}|\n/foreach {{getvar::Tags}} {:\n\t/setvar key=it {{var::item}}|\n\t/setvar key=in {{var::index}}|\n\t/ife ( in == 0){:\n    /setvar key=t \\\"|\n    /addvar key=t {{getvar::it}}|\n    /addvar key=t \\\"|\n  :}|\n\t/else {:\n  /addvar key=t , \"|\n  /addvar key=t {{getvar::it}}|\n  /addvar key=t \\\"|\n  :}|\n\n:}|\n\n/setvar key=Tags_String {{getvar::t}}|\n/re-replace find=\"/\\\"--Tag1--\\\"/g\" replace=\"{{getvar::Tags_String}}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n/json-pretty {{getvar::charCard}}|\n\n/setvar key=Group_Greeting {{noop}}|\n/re-replace find=\"/\\\"--Group_Greeting1--\\\"/g\" replace=\"{{getvar::Group_Greeting}}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n//Make Character Description|\n\n\n/setvar key=Description \"You are {{getvar::fname}} and will roleplay as {{getvar::genpron}}.\nYou will never speak, act or make choices as user.\"|\n/messages names=off hidden=on 0|\n/setvar key=mess {{pipe}}|\n/re-replace replace=\"\" find=\"/<h2 align='center'>Basic Information<\\/h2>/g\" {{getvar::mess}}|\n/setvar key=mess {{pipe}}|\n/trim {{getvar::mess}}|\n/setvar key=mess {{pipe}}|\n/addvar key=Description \"\n{{getvar::mess}}\"|\n\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages names=off role=assistant hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n  /setvar key=find Personality Traits And Quirks|\n\t/ife ( find in mess){:\n    /ife ( 'Character Rules' not in mess){:\n      /re-replace replace=\"\" find=\"/<h2 align='center'>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /trim {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /addvar key=Description \"\n\n{{getvar::mess}}\"|\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages names=off role=assistant hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n  /setvar key=find Character's Relation to user|\n\t/ife ( find in mess){:\n    /ife ( 'Character Rules' not in mess){:\n      /re-replace replace=\"\" find=\"/<h2 align='center'>{{getvar::find}}<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /trim {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /addvar key=Description \"\n\n{{getvar::mess}}\"|\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages names=off role=assistant hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n  /setvar key=find Relationship Information|\n\t/ife ( find in mess){:\n    /ife ( 'Character Rules' not in mess){:\n      /re-replace replace=\"\" find=\"/<h2 align='center'>{{getvar::find}}<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n\t\t\t/re-replace replace=\"\" find=\"/<h2 align='center'>/g\" {{getvar::mess}}|\n\t\t\t/setvar key=mess {{pipe}}|\n\t\t\t/re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess}}|\n\t\t\t/setvar key=mess {{pipe}}|\n      /trim {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /addvar key=Description \"\n\n{{getvar::mess}}\"|\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n\n\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages names=off role=assistant hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n  /setvar key=find Background Info|\n\t/ife ( find in mess){:\n    /ife ( 'Character Rules' not in mess){:\n      /re-replace replace=\"\" find=\"/<h2 align='center'>{{getvar::find}}<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n\t\t\t/re-replace replace=\"\" find=\"/<h2 align='center'>/g\" {{getvar::mess}}|\n\t\t\t/setvar key=mess {{pipe}}|\n\t\t\t/re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess}}|\n\t\t\t/setvar key=mess {{pipe}}|\n      /trim {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /addvar key=Description \"\n\n{{getvar::mess}}\"|\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n\n\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages names=off role=assistant hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n  /setvar key=find Interaction Style|\n\t/ife ( find in mess){:\n    /ife ( 'Character Rules' not in mess){:\n\t\t\t/re-replace replace=\"\" find=\"/<h2 align='center'>{{getvar::find}}<\\/h2>/g\" {{getvar::mess}}|\n\t\t\t/setvar key=mess {{pipe}}|\n\t\t\t/re-replace replace=\"\" find=\"/<h2 align='center'>/g\" {{getvar::mess}}|\n\t\t\t/setvar key=mess {{pipe}}|\n\t\t\t/re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess}}|\n\t\t\t/setvar key=mess {{pipe}}|\n      /trim {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /addvar key=Description \"\n\n{{getvar::mess}}\"|\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n\n\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages names=off role=assistant hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n  /setvar key=find Contextual Information|\n\t/ife ( find in mess){:\n    /ife ( 'Character Rules' not in mess){:\n      /re-replace replace=\"\" find=\"/<h2 align='center'>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /trim {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /addvar key=Description \"\n\n{{getvar::mess}}\"|\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n\n\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages names=off role=assistant hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n  /setvar key=find Additional Notes|\n\t/ife ( find in mess){:\n    /ife ( 'Character Rules' not in mess){:\n      /re-replace replace=\"\" find=\"/<h2 align='center'>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /trim {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /addvar key=Description \"\n\n{{getvar::mess}}\"|\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n\n\n/setvar key=i 0|\n/setvar key=x {{lastMessageId}}|\n/whilee ( i <= x ){:\n\t/messages names=off role=assistant hidden=on {{getvar::i}}|\n\t/setvar key=mess {{pipe}}|\n  /setvar key=find Spells and Abilities|\n\t/ife ( find in mess){:\n    /ife ( 'Character Rules' not in mess){:\n      /re-replace replace=\"\" find=\"/<h2 align='center'>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /re-replace replace=\"\" find=\"/<\\/h2>/g\" {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /trim {{getvar::mess}}|\n      /setvar key=mess {{pipe}}|\n      /addvar key=Description \"\n\n{{getvar::mess}}\"|\n\t\t:}|\n\t:}|\n\t/incvar i|\n:}|\n\n\n/re-replace replace=\"\\\\\"\" find=\"/\\\"/g\" {{getvar::Description}}|\n/setvar key=Description {{pipe}}|\n/re-replace replace=\"\\r\\n\" find=\"/(\\r\\n\\|\\r\\|\\n)/g\" {{getvar::Description}}|\n/setvar key=Description {{pipe}}|\n\n/re-replace find=\"/\\b{{getvar::fname}}/g\" replace=\"\\{\\{char--remove--\\}\\}\" {{getvar::Description}}|\n/setvar key=Description {{pipe}}|\n\n/re-replace find=\"/--Description--/g\" replace=\"{{getvar::Description}}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n\n/re-replace find=\"/\\buser\\b(?![a-zA-Z])/g\" replace=\"\\{\\{user--remove--\\}\\}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n\n/re-replace find=\"/(?<!\\{\\{\\|\\r\\|\\n)\\bchar\\b(?![a-zA-Z]\\|\\}\\})/g\" replace=\"\\{\\{char--remove--\\}\\}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n\n/re-replace find=\"/(?<!\\\"name\\\": \\\")\\b{{getvar::fname}}\\b(?![a-zA-Z])/g\" replace=\"\\{\\{char--remove--\\}\\}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n\n/setvar key=Creator_Notes Made with [Character Generator QR](https://chub.ai/characters/Drago87/character-maker-sillytavern-quick-reply-driven-0eb2c2852a4f)\\r\\n[Github](https://github.com/drago87/ST-Character-Maker)|\n\n/re-replace find=\"/--Creator_Notes--/g\" replace=\"{{getvar::Creator_Notes}}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n\n/input default=drago87 rows=8 Who/What do you want to display as the creator?|\n/setvar key=Creator {{pipe}}|\n\n/re-replace find=\"/--Created_By--/g\" replace=\"{{getvar::Creator}}\" {{getvar::charCard}}|\n/setvar key=charCard {{pipe}}|\n\n/echo saving Character Card|\n/db-add source=chat name={{getvar::fname}}.json {{getvar::charCard}}|\n/popup <div>Go to the `Extensions`(The wand icon to the left of the chat field)</div>\n<div>Then press the `Open Data Bank`</div>\n<div>Download the {{getvar::fname}}.json file.</div>\n<div>Open the {{getvar::fname}}.json file with a text editor and replace all</div><div>--remove-- with nothing.(Example: \\{\\{char--remove--\\}\\}) to \\{\\{char\\}\\})</div>\n<div>Import this to SillyTavern(If nothing happens when you try to import the character try to refresh the page. Sometimes the import stops working.)</div>\n<div>Now bind the LoreBook named {{getvar::fname}} {{getvar::lname}} to the new character.</div>\n<div>Character Description is men to go in Tagline on Chumb.ai</div>|\n/popup <div>If you have any problems/recommendation or if you notice that i missed something make a comment on chub.ai or make a issue on Github</div>\n<div>I would love for you to link to any character you make with this on chub.ai</div>|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"automationId":""}],"idIndex":18}