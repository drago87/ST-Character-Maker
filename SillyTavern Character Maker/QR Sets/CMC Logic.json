{"version":2,"name":"CMC Logic","disableSend":false,"placeBeforeInput":false,"injectInput":false,"color":"rgba(0, 0, 0, 0)","onlyBorderColor":false,"qrList":[{"id":2,"icon":"","showLabel":false,"label":"Combine Lorebook","title":"","message":"/getvar key=genSettings index=wi_book|\n/setvar key=input {{pipe}}|\n/wi-list-entries \"{{getvar::input}}\"|\n/let key=wi_temp {{pipe}}|\n/map {{pipe}} {:\n\t/getat index=entries {{var::item}} |\n\t/map {{pipe}} {:\n\t\t/getat index=comment {{var::item}}\n\t:}\n:} |\n/setvar key=wi_input_entries {{pipe}}|\n/wait {{getvar::wait}}|\n/getvar key=wi_input_entries index=0 |\n/setvar key=wi_input_entries {{pipe}}|\n/setvar as=array key=wi_input_content []|\n/wait {{getvar::wait}}|\n/foreach {{getvar::wi_input_entries}} {:\n\t/findentry field=comment file=\"{{getvar::input}} {{getglobalvar::model}}\" \"{{var::item}}\"|\n\t/let key=wi_uid {{pipe}}|\n\t/getentryfield field=content file=\"{{getvar::input}} {{getglobalvar::model}}\" {{var::wi_uid}}|\n\t/addvar key=wi_input_content {{pipe}}|\n:}|\n\n/setvar key=a {{getvar::wi_input_entries}}|\n/addvar key=a Done|\n/wait 10|\n/setvar key=b {{getvar::wi_input_content}}|\n\n/flushvar wi_input_entries|\n/flushvar wi_input_content|\n\n/setvar as=array key=genOrder []|\n/setvar as=array key=genContent []|\n\n/let key=selected_btn {{noop}}|\n/whilee (selected_btn != 'Done') {:\n\t/buttons labels={{getvar::a}} Select what and in what order you want the characters information to be selected. Press done when you are happy|\n\t/var key=selected_btn {{pipe}}|\n\n\t/ife ( selected_btn == ''){:\n\t\t/echo Aborting |\n\t\t/break\n\t:}|\n\t/elseif ( selected_btn == 'Done') {:\n\t\t/flushvar a|\n\t\t/flushvar b|\n\t:}|\n\t/else {:\n\t\t/re-replace find=\"/\\b(?:Female\\|Male\\|Both)\\s/\" replace=\"\" {{var::selected_btn}}|\n\t\t/let key=parcedInput {{pipe}}|\n\t\t/ife (parcedInput not in genOrder) {:\n\t\t\t/addvar key=genOrder {{var::parcedInput}}|\n\t\t\t/find index=true {{getvar::a}} {:\n\t\t\t\t/test left={{var::item}} rule=eq right={{var::selected_btn}}|\n\t\t\t:}|\n\t\t\t/let as=number key=workingIndex1 {{pipe}}|\n\t\t\t/getat index={{var::workingIndex1}} {{getvar::b}}|\n\t\t\t/addvar key=genContent {{pipe}}|\n\t\t\t\n\t\t\t/splice start={{var::workingIndex1}} delete=1 {{getvar::a}}|\n\t\t\t/setvar key=a {{pipe}}|\n\t\t\t/splice start={{var::workingIndex1}} delete=1 {{getvar::b}}|\n\t\t\t/setvar key=b {{pipe}}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/find index=true {{getvar::a}} {:\n\t\t\t\t/test left={{var::item}} rule=eq right={{var::selected_btn}}|\n\t\t\t:}|\n\t\t\t/let as=number key=workingIndex1 {{pipe}}|\n\t\t\t/find index=true {{getvar::genOrder}} {:\n\t\t\t\t/test left={{var::item}} rule=eq right={{var::parcedInput}}|\n\t\t\t:}|\n\t\t\t/let as=number key=workingIndex2 {{pipe}}|\n\t\t\t/getat index={{var::workingIndex1}} {{getvar::b}}|\n\t\t\t/setvar key=temp {{pipe}}|\n\t\t\t/re-replace find=\"/Bare/g\" replace=\"\" {{getvar::temp}}|\n\t\t\t/setvar key=temp {{pipe}}|\n\t\t\t/split find=\":\" {{getvar::temp}}|\n\t\t\t/setvar key=temp {{pipe}}|\n\t\t\t/getvar key=b index=workingIndex2|\n\t\t\t/split find=\":\" {{pipe}}|\n\t\t\t/setvar key=temp2 {{pipe}}|\n\t\t\t/setvar key=temp3 []|\n\t\t\t/foreach {{getvar::temp}} {:\n\t\t\t\t/ife ( (item not in temp2) and (item != 'Bare')) {:\n\t\t\t\t\t/addvar key=temp3 {{var::item}}|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/join glue=\": \" {{getvar::temp3}}|\n\t\t\t/setvar key=temp {{pipe}}|\n\t\t\t\n\t\t\t\n\t\t\t/ife ( temp != '') {:\n\t\t\t\t/getvar key=genContent index={{getvar::workingIndex2}}|\n\t\t\t\t/setvar key=genContent index={{getvar::workingIndex2}} \"{{pipe}}: {{getvar::temp}}\"|\n\t\t\t:}|\n\t\t\t\n\t\t\t/splice start={{var::workingIndex1}} delete=1 {{getvar::a}}|\n\t\t\t/setvar key=a {{pipe}}|\n\t\t\t/splice start={{var::workingIndex1}} delete=1 {{getvar::b}}|\n\t\t\t/setvar key=b {{pipe}}|\n\t\t\t/flushvar temp|\n\t\t\t/flushvar temp2|\n\t\t\t/flushvar temp3|\n\t\t:}|\n\t\t\n\t:}|\n:}|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":4,"icon":"","showLabel":false,"label":"SaveGen","title":"","message":"/getvar key=genSettings index=isGeneration|\n/let key=isGeneration_f {{pipe}}|\n/getvar key=genSettings index=outputIsList|\n/let key=outputIsList_f {{pipe}}|\n/getvar key=genSettings index=inputIsList|\n/let key=inputIsList_f {{pipe}}|\n/getvar key=genSettings index=wi_book|\n/let key=wi_book_f {{pipe}}|\n/ife ( save == '') {:\n\t/echo Aborting SaveGen|\n\t/abort\n:}|\n/elseif ( save == 'Done') {:\n\t/ife (tempList != '' ) {:\n\t\t/setvar key=output {{getvar::tempList}}|\n\t:}|\n\t/else {:\n\t\t/setvar key=output None|\n\t:}|\n:}|\n/elseif ( isGeneration_f == 'Yes') {:\n\t/ife ( outputIsList_f == 'Yes') {:\n\t\t/ife ( inputIsList_f == 'Yes') {:\n\t\t\t/addvar key=tempList {{getvar::item}}: {{getvar::save}}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=tempList {{getvar::save}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/ife ( inputIsList_f == 'Yes') {:\n\t\t\t/setvar key=output {{getvar::item}}: {{getvar::save}}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar key=output {{getvar::save}}|\n\t\t:}|\n\t:}|\n:}|\n/else {:\n\t/ife (outputIsList_f == 'Yes') {:\n\t\t/addvar key=tempList {{getvar::save}}|\n\t:}|\n\t/else {:\n\t\t/setvar key=output {{getvar::save}}|\n\t:}|\n:}|\n/flushvar guidence|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":6,"icon":"","showLabel":false,"label":"Set Base Context","title":"","message":"/setvar key=baseContext {{noop}}|\n/ife (parsedName != '') {:\n\t/addvar key=baseContext \"{{newline}}- Name: {{getvar::parsedName}}\"|\n:}|\n/ife (realParcedContext != '') {:\n\t/addvar key=baseContext \"{{newline}}{{getvar::realParcedContext}}\"|\n:}|\n/ife ((parsedOrigin != '') and (parsedOrigin != 'None')) {:\n\t/addvar key=baseContext \"{{newline}}- Origin: {{getvar::parsedOrigin}}\"\n:}|\n/ife (lifeStage != '') {:\n\t/addvar key=baseContext \"{{newline}}- Life Stage: {{getvar::lifeStage}}\"\n:}|\n/ife (parcedAge != '') {:\n\t/addvar key=baseContext \"{{newline}}- Age: {{getvar::parcedAge}}\"\n:}|\n/ife (gender != '') {:\n\t/addvar key=baseContext \"{{newline}}- Gender: {{getvar::gender}}\"\n:}|\n/ife (parsedSpecies != '') {:\n\t/addvar key=baseContext \"{{newline}}- Species: {{getvar::parsedSpecies}}\"\n:}|\n\n\n\n\n/ife (baseContext != '') {:\n\t\n\t/let key=tempContext {{noop}}|\n\t/let key=find {{noop}}|\n\t/let key=wi_uid {{noop}}|\n\t/let key=wi_book_f {{noop}}|\n\t/let key=wi_book_key_f {{noop}}|\n\t\n\t/getvar key=genSettings index=wi_book|\n\t/var key=wi_book_f {{pipe}}|\n\t/ife ( wi_book_f == '') {:\n\t\t/var key=wi_book_f \"CMC Generation Prompts\"|\n\t:}|\n\t\n\t/ife ((wi_book_f == 'CMC Generation Prompts') or (wi_book_f == 'CMC Information')) {:\n\t\t/var key=wi_book_f \"{{var::wi_book_f}} {{getglobalvar::model}}\"|\n\t:}|\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/var key=wi_book_key_f {{pipe}}|\n\t/ife ( wi_book_key_f == '') {:\n\t\t/abort quiet=false Missing wi_book_key name in input.|\n\t:}|\n\t\n\t\n\t/var key=find \"{{var::wi_book_key_f}}: Context\"|\n\t/findentry field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t/var key=wi_uid {{pipe}}|\n\t/getentryfield field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{var::wi_uid}}|\n\t/let key=testPrompt {{pipe}}|\n\t/ife ( find == testPrompt) {:\n\t\t/getentryfield field=content file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{var::wi_uid}}|\n\t\t/var key=tempContext {{pipe}}|\n\t\t/ife (tempContext == '') {:\n\t\t\t/var key=find \"Context\"|\n\t\t\t/findentry field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t\t\t/var key=wi_uid {{pipe}}|\n\t\t\t/getentryfield field=content file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{var::wi_uid}}|\n\t\t\t/var key=tempContext {{pipe}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/var key=find \"Context\"|\n\t\t/findentry field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t\t/var key=wi_uid {{pipe}}|\n\t\t/getentryfield field=content file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{var::wi_uid}}|\n\t\t/var key=tempContext {{pipe}}|\n\t:}|\n\t/setvar key=baseContext {{var::tempContext}}|\n:}|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":8,"icon":"","showLabel":false,"label":"GenerateWithPrompt","title":"","message":"/let key=wi_uid {{noop}}|\n/let key=actionType {{noop}}|\n/let key=context {{noop}}|\n/let key=find {{noop}}|\n/let key=examples {{noop}}|\n/let key=task {{noop}}|\n/let key=instruct {{noop}}|\n/let key=contextStarter {{noop}}|\n/let key=contextStopper {{noop}}|\n/let key=examplesStarter {{noop}}|\n/let key=examplesStopper {{noop}}|\n/let key=taskStarter {{noop}}|\n/let key=taskStopper {{noop}}|\n/let key=instructionsStarter {{noop}}|\n/let key=instructionsStopper {{noop}}|\n\n/findentry field=comment file=\"CMC Static Variables\" \"Need Stopper\"|\n/var key=wi_uid {{pipe}}|\n/getentryfield field=content file=\"CMC Static Variables\" {{var::wi_uid}}|\n/let key=needed {{pipe}}|\n/split find=\"---\" {{var::needed}}|\n/var key=needed {{pipe}}|\n/ife (model in needed) {:\n\t/var key=contextStarter \"<context>{{newline}}\"|\n\t/var key=contextStopper \"{{newline}}</context>\"|\n\t/var key=examplesStarter \"<examples>{{newline}}\"|\n\t/var key=examplesStopper \"{{newline}}</examples>\"|\n\t/var key=taskStarter \"<task>{{newline}}\"|\n\t/var key=taskStopper \"{{newline}}</task>\"|\n\t/var key=instructionsStarter \"<instructions>{{newline}}\"|\n\t/var key=instructionsStopper \"{{newline}}</instructions>\"|\n:}|\n\n/getvar key=genSettings index=wi_book|\n/let key=wi_book_f {{pipe}}|\n/ife ( wi_book_f == '') {:\n\t/var key=wi_book_f \"CMC Generation Prompts\"|\n:}|\n\n/ife ((wi_book_f == 'CMC Generation Prompts') or (wi_book_f == 'CMC Information')) {:\n\t/var key=wi_book_f \"{{var::wi_book_f}} {{getglobalvar::model}}\"|\n:}|\n\n/getvar key=genSettings index=wi_book_key|\n/let key=wi_book_key_f {{pipe}}|\n/ife ( wi_book_key_f == '') {:\n\t/abort quiet=false Missing wi_book_key name in input.|\n:}|\n/getvar key=genSettings index=genIsList|\n/let key=genIsList_f {{pipe}}|\n/ife ( genIsList_f == '') {:\n\t/abort quiet=false Missing genIsList setting in input.|\n:}|\n/getvar key=genSettings index=guidencePrompt|\n/let key=guidencePrompt_f {{pipe}}|\n/ife ( guidencePrompt_f == '') {:\n\t/var key=find \"{{var::wi_book_key_f}}: Guide\"|\n\t/findentry field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t/var key=wi_uid {{pipe}}|\n\t/getentryfield field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{var::wi_uid}}|\n\t/let key=testPrompt {{pipe}}|\n\t/ife ( find == testPrompt) {:\n\t\t/getentryfield field=content file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{var::wi_uid}}|\n\t\t/var key=guidencePrompt_f {{pipe}}|\n\t\t/ife (guidencePrompt_f == '') {:\n\t\t\t/var key=find \"Guidance Template\"|\n\t\t\t/findentry field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t\t\t/var key=wi_uid {{pipe}}|\n\t\t\t/getentryfield field=content file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{var::wi_uid}}|\n\t\t\t/var key=guidencePrompt_f {{pipe}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/var key=find \"Guidance Template\"|\n\t\t/findentry field=comment file=\"CMC Templates\" \"{{var::find}}\"|\n\t\t/var key=wi_uid {{pipe}}|\n\t\t/getentryfield field=content file=\"CMC Templates\" {{var::wi_uid}}|\n\t\t/var key=guidencePrompt_f {{pipe}}|\n\t:}|\n:}|\n/getvar key=genSettings index=genIsSentence|\n/let key=genIsSentence_f {{pipe}}|\n/ife ( genIsSentence_f == '') {:\n\t/abort quiet=false Missing genIsSentence setting in input.|\n:}|\n/getvar key=genSettings index=needOutput|\n/let key=needOutput_f {{pipe}}|\n/ife ( needOutput_f == '') {:\n\t/var key=needOutput_f Yes|\n:}|\n\n\n/getvar key=genSettings index=genAmount|\n/let key=genAmount_f {{pipe}}|\n/ife ( genAmount_f == '') {:\n\t/var as=number key=genAmount_f 5|\n:}|\n/getvar key=genSettings index=useContext|\n/let key=useContext_f {{pipe}}|\n/ife ( useContext_f == '') {:\n\t/abort quiet=false Missing useContext setting in input.|\n:}|\n/getvar key=genSettings index=outputIsList|\n/let key=outputIsList_f {{pipe}}|\n/ife ( outputIsList_f == '') {:\n\t/var key=outputIsList_f No|\n:}|\n/getvar key=genSettings index=maxSizeOfList|\n/let key=maxSizeOfList_f {{pipe}}|\n/ife ( (outputIsList_f == 'Yes') and (maxSizeOfList_f == '')) {:\n\t\n:}|\n/elseif ( (outputIsList_f == 'Yes') and (maxSizeOfList_f is string)) {:\n\t/abort quiet=false maxSizeOfList needs to be empty or Number.|\n:}|\n/getvar key=genSettings index=random|\n/let as=array key=random_f {{pipe}}|\n/getvar key=genSettings index=contextKey|\n/let as=array key=contextKey_f {{pipe}}|\n/getvar key=genSettings index=extraContext|\n/let as=array key=extraContext_f {{pipe}}|\n\n\n/ife ( useContext_f == 'Yes') {:\n\t/setvar key=gen Yes|\n\t/:\"CMC Logic.Get Char info\"|\n\t/:\"CMC Logic.Set Base Context\"|\n\t/var key=context {{getvar::baseContext}}|\n\t/flushvar gen|\n:}|\n/ife (( useContext_f == 'No') and ( extraContext_f != '')) {:\n\t/var key=context CONTEXT (for your reference—do not include in the answer):\"|\n\t/ife (real == Yes) {:\n\t\t/var key=context \"{{var::context}}{{newline}}{{getvar::realParcedContext}}\"|\n\t:}|\n:}|\n\n/ife ( extraContext_f != '') {:\n\n\t/foreach {{var::extraContext_f}} {:\n\t\t/var key=context {{var::context}}{{newline}}{{var::item}}|\n\t:}|\n:}|\n\n/ife ( contextKey_f != '') {:\n\t/foreach {{var::contextKey_f}} {:\n\t\t/var key=find \"{{var::item}}: Context\"|\n\t\t/findentry field=comment file=\"CMC Information {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t\t/var key=wi_uid {{pipe}}|\n\t\t/getentryfield field=comment file=\"CMC Information {{getglobalvar::model}}\" {{var::wi_uid}}|\n\t\t/let key=conTest {{pipe}}|\n\t\t/ife ( find == conTest) {:\n\t\t\t/getentryfield field=content file=\"CMC Information {{getglobalvar::model}}\" {{var::wi_uid}}|\n\t\t\t/let key=cInfo {{pipe}}|\n\t\t\t/ife (context != '') {:\n\t\t\t\t/var key=context \"{{var::context}}{{newline}}{{newline}}{{var::cInfo}}\"|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/var key=context \"{{var::cInfo}}\"|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n:}|\n/ife (context != '') {:\n\t/var key=context \"[{{var::contextStarter}}{{var::context}}{{var::contextStopper}}]{{newline}}{{newline}}\"|\n:}|\n\n/ife (debug == 'Yes') {:\n\t/setvar key=\"01 Context\" {{var::context}}|\n:}|\n/else {:\n\t/flushvar \"01 Context\"|\n:}|\n/var key=find \"{{var::wi_book_key_f}}: Examples\"|\n/findentry field=comment file=\"{{var::wi_book_f}}\" \"{{var::find}}\"|\n/var key=wi_uid {{pipe}}|\n/getentryfield field=comment file=\"{{var::wi_book_f}}\" {{var::wi_uid}}|\n/let key=exaTemp {{pipe}}|\n/ife (find == exaTemp) {:\n\t/getentryfield field=content file=\"{{var::wi_book_f}}\" {{var::wi_uid}}|\n\t/let key=tEx {{pipe}}|\n\t/ife (tEx != '') {:\n\t\t/var key=examples [{{var::examplesStarter}}{{var::tEx}}{{var::examplesStopper}}]|\n\t:}|\n:}|\n/else {:\n\t/echo Missing WI entry '{{var::find}}' from the WI '{{var::wi_book_f}}'|\n\t/echo Aborting |\n\t/abort\n:}|\n/ife (debug == 'Yes') {:\n\t/setvar key=\"02 Examples\" {{var::examples}}|\n:}|\n/else {:\n\t/flushvar \"02 Examples\"|\n:}|\n/var key=find \"{{var::wi_book_key_f}}: Task\"|\n/findentry field=comment file=\"{{var::wi_book_f}}\" \"{{var::find}}\"|\n/var key=wi_uid {{pipe}}|\n/getentryfield field=comment file=\"{{var::wi_book_f}}\" {{var::wi_uid}}|\n/let key=taskTest {{pipe}}|\n/ife (find == taskTest) {:\n\t/getentryfield field=content file=\"{{var::wi_book_f}}\" {{var::wi_uid}}|\n\t/var key=task [{{var::taskStarter}}{{pipe}}{{var::taskStopper}}]|\n:}|\n/else {:\n\t/echo Missing WI entry '{{var::find}}' from the WI '{{var::wi_book_f}}'|\n\t/echo Aborting |\n\t/abort\n:}|\n/ife (debug == 'Yes') {:\n\t/setvar key=\"03 Task\" {{var::task}}|\n:}|\n/else {:\n\t/flushvar \"03 Task\"|\n:}|\n/var key=find \"{{var::wi_book_key_f}}: Instruction\"|\n/findentry field=comment file=\"{{var::wi_book_f}}\" \"{{var::find}}\"|\n/var key=wi_uid {{pipe}}|\n/getentryfield field=comment file=\"{{var::wi_book_f}}\" {{var::wi_uid}}|\n/let key=instructTest {{pipe}}|\n/ife (find == instructTest) {:\n\t/getentryfield field=content file=\"{{var::wi_book_f}}\" {{var::wi_uid}}|\n\t/var key=instruct [{{var::instructionsStarter}}{{pipe}}{{var::instructionsStopper}}]|\n:}|\n/else {:\n\t/echo Missing WI entry '{{var::find}}' from the WI '{{var::wi_book_f}}'|\n\t/echo Aborting |\n\t/abort\n:}|\n/ife (debug == 'Yes') {:\n\t/setvar key=\"04 Instruktions\" {{var::instruct}}|\n:}|\n/else {:\n\t/flushvar \"04 Instruktions\"|\n:}|\n/let key=genState []|\n/let key=selected_btn |\n/let key=man|\n\n/let key=isGeneration 'Yes'|\n/setvar as=array key=tempList []|\n/setvar key=output {{noop}}|\n/setvar key=previousMilestones {{noop}}|\n/setvar key=blackListGen {{noop}}|\n/setvar key=mileS {{noop}}|\n/setvar key=guidance {{noop}}|\n\n\n/ife ( genIsSentence_f != 'Yes') {:\n\t/ife ( outputIsList_f == 'Yes') {:\n\t\t/var key=actionType add|\n\t:}|\n\t/else {:\n\t\t/var key=actionType set|\n\t:}|\n\t/var key=man \"Manually {{var::actionType}}\"|\n:}|\n/else {:\n\t/var key=man \"Edit output\"|\n:}|\n/let t |\n/whilee ( output == '') {:\n\t/ife ( (outputIsList_f == 'Yes') and (maxSizeOfList_f is number)) {:\n\t\t/len {{getvar::tempList}}|\n\t\t/let key=len {{pipe}}|\n\t\t/ife (len == maxSizeOfList_f) {:\n\t\t\t/setvar key=save Done|\n\t\t\t/flushvar guidance|\n\t\t\t/:\"CMC Logic.SaveGen\"|\n\t\t\t/break|\n\t\t:}|\n\t:}|\n\t/ife (wi_book_key_f == 'Story Plan Details') {:\n\t\t/len {{getvar::tempOutputList}}|\n\t\t/let len={{pipe}}|\n\t\t/ife (len > 0 ) {:\n\t\t\t/setvar key=mileS \"Milestone {{var::len}}\"|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar key=mileS \"Start\"|\n\t\t:}|\n\t:}|\n\t\n\t/ife ((wi_book_key_f == 'Sexual Notes') and ((tempList != '') or (sexualNotes != ''))) {:\n\t\t/setvar key=blackListGen \"Avoid duplicating or restating the following existing notes:{{newline}}[ALREADY GENERATED SEXUAL NOTES AVOID THESE]{{newline}}\\\"\"|\n\t\t/foreach {{getvar::sexualNotes}} {:\n\t\t\t/addvar key=blackListGen \"{{newline}}- {{var::item}}\"|\n\t\t:}|\n\t\t/foreach {{getvar::tempList}} {:\n\t\t\t/addvar key=blackListGen \"{{newline}}- {{var::item}}\"|\n\t\t:}|\n\t\t/addvar key=blackListGen \"{{newline}}\\\"\"|\n\t:}|\n\t/elseif ((wi_book_key_f == 'Behavior Notes') and ((tempList != '') or (behaviorNotes != ''))) {:\n\t\t/setvar key=blackListGen \"Avoid duplicating or restating the following existing notes:{{newline}}[ALREADY GENERATED BEHAVIOR NOTES AVOID THESE]{{newline}}\\\"\"|\n\t\t/foreach {{getvar::behaviorNotes}} {:\n\t\t\t/addvar key=blackListGen \"{{newline}}- {{var::item}}\"|\n\t\t:}|\n\t\t/foreach {{getvar::tempList}} {:\n\t\t\t/addvar key=blackListGen \"{{newline}}- {{var::item}}\"|\n\t\t:}|\n\t\t/addvar key=blackListGen \"{{newline}}\\\"\"|\n\t:}|\n\t/elseif (( wi_book_key_f == 'Story Plan Details') and ((tempList != '') or (storyPlanMilestonesList != ''))) {:\n\t\t/setvar key=previousMilestones \"{{newline}}**REFERENCE ONLY:** Earlier milestones are provided below for pacing continuity. Do not mention or duplicate them:\"|\n\t\t/foreach {{getvar::storyPlanMilestonesList}} {:\n\t\t\t/ife (index > 0) {:\n\t\t\t\t/addvar key=previousMilestones \"{{newline}}\"|\n\t\t\t:}|\n\t\t\t/ife (index > 0) {:\n\t\t\t\t/getvar key=tempOutputList index={{var::index}}|\n\t\t\t\t/addvar key=previousMilestones \"{{newline}}- Milestone {{var::index}}: {{var::item}}{{newline}}  - Details: {{pipe}}\"|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/getvar key=tempOutputList index={{var::index}}|\n\t\t\t\t/addvar key=previousMilestones \"{{newline}}- Start: {{var::item}}{{newline}}  - Details: {{pipe}}\"|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n\t/echo Generating {{var::wi_book_key_f}}|\n\t/ife ((random_f is list) and ( wi_book_key_f == 'Speech Single Ticks')) {:\n\t\t/var key=instruct {{noop}}|\n\t\t/pick {{var::random_f}}|\n\t\t/setvar key=rand {{pipe}}|\n\t:}|\n\t/var key=genState []|\n\t/ife (genIsList_f == 'Yes') {:\n\t\t/join {{getvar::tempList}}|\n\t\t/setvar key=excludedList {{pipe}}|\n\t\t/setvar key=outputGen []|\n\t\t/whilee ((i++ < genAmount_f ) and (stuckPrevention++ < 10)) {:\n\t\t\t/var key=task {{noop}}|\n\t\t\t/var key=find \"{{var::wi_book_key_f}}: Task\"|\n\t\t\t/findentry field=comment file=\"{{var::wi_book_f}}\" \"{{var::find}}\"|\n\t\t\t/var key=wi_uid {{pipe}}|\n\t\t\t/getentryfield field=content file=\"{{var::wi_book_f}}\" {{var::wi_uid}}|\n\t\t\t/var key=task [{{var::taskStarter}}{{pipe}}{{var::taskStopper}}]|\n\t\t\t/var key=find \"{{var::wi_book_key_f}}: Instruction\"|\n\t\t\t/findentry field=comment file=\"{{var::wi_book_f}}\" \"{{var::find}}\"|\n\t\t\t/var key=wi_uid {{pipe}}|\n\t\t\t/getentryfield field=content file=\"{{var::wi_book_f}}\" {{var::wi_uid}}|\n\t\t\t/var key=instruct [{{var::instructionsStarter}}{{pipe}}{{var::instructionsStopper}}]|\n\t\t\t/echo Generatig {{var::wi_book_key_f}} {{var::i}}/{{var::genAmount_f}}|\n\t\t\t/genraw \"{{var::context}}{{var::examples}}{{newline}}{{newline}}{{var::task}}{{newline}}{{newline}}{{var::instruct}}\"|\n\t\t\t/var key=t {{pipe}}|\n\t\t\t/ife (debug == 'Yes') {:\n\t\t\t\t/setvar key=\"00 Genraw\" \"{{var::context}}{{var::examples}}{{newline}}{{newline}}{{var::task}}{{newline}}{{newline}}{{var::instruct}}\"|\n\t\t\t\t/setvar key=\"01 Context\" {{var::context}}|\n\t\t\t\t/setvar key=\"02 Examples\" {{var::examples}}|\n\t\t\t\t/setvar key=\"03 Task\" {{var::task}}|\n\t\t\t\t/setvar key=\"04 Instruktions\" {{var::instruct}}|\n\t\t\t:}|\n\t\t\t/ife ((t not in outputGen) and (t != '')) {:\n\t\t\t\t/addvar key=outputGen {{var::t}}|\n\t\t\t\t/join {{getvar::tempList}}|\n\t\t\t\t/setvar key=excludedList {{pipe}}|\n\t\t\t\t/ife (excludedList != '') {:\n\t\t\t\t\t/addvar key=excludedList \", \"|\n\t\t\t\t:}|\n\t\t\t\t/join {{getvar::outputGen}}|\n\t\t\t\t/addvar key=excludedList {{pipe}}|\n\t\t\t\t/var key=stuckPrevention 0|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/add {{var::i}} -1|\n\t\t\t\t/var key=i {{pipe}}|\n\t\t\t:}|\n\t\t:}|\n\t\t/join glue=\"---\" {{getvar::outputGen}}|\n\t\t/var key=t {{pipe}}|\n\t\t/flushvar outputGen|\n\t\t/flushvar excludedList|\n\t\t/ife (debug == 'Yes') {:\n\t\t\t/setvar key=\"05 Output\" {{var::t}}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/flushvar \"05 Output\"|\n\t\t:}|\n\t\t/reasoning-parse return=content {{var::t}}|\n\t\t/var key=t {{pipe}}|\n\t:}|\n\t/else {:\n\t\t/ife ( wi_book_key_f == 'Speech Examples QA') {:\n\t\t\t/*\n\t\t\t/let key=d Not Done|\n\t\t\t/whilee (d == 'Not Done') {:\n\t\t\t\t/split {{var::random_f}}|\n\t\t\t\t/pick {{pipe}}|\n\t\t\t\t/setvar key=target {{pipe}}|\n\t\t\t\t/ife (('--User--' in speechPromptClaim) and (target == '--User--')) {:\n\t\t\t\t:}|\n\t\t\t\t/else {:\n\t\t\t\t\t/var key=d Done|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t*|\n\t\t\t/split {{var::random_f}}|\n\t\t\t/let key=targ {{pipe}}|\n\t\t\t/ife ('{target}' in speechPromptClaim) {:\n\t\t\t\t/buttons labels={{var::targ}} <div>Select the person/entity you want to replace '{target}' with in this sentence:</div><div>{{getvar::speechPromptClaim}}</div>|\n\t\t\t\t/setvar key=target {{pipe}}|\n\t\t\t\t/re-replace find=\"/{target}/g\" replace=\"{{getvar::target}}\" {{getvar::speechPromptClaim}}|\n\t\t\t\t/setvar key=speechPromptClaimRand {{pipe}}|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/getat index=0 {{var::targ}}|\n\t\t\t\t/setvar key=target {{pipe}}|\n\t\t\t\t/re-replace find=\"/{target}/g\" replace=\"{{getvar::target}}\" {{getvar::speechPromptClaim}}|\n\t\t\t\t/setvar key=speechPromptClaimRand {{pipe}}|\n\t\t\t:}|\n\t\t:}|\n\t\t/var key=task {{noop}}|\n\t\t/var key=find \"{{var::wi_book_key_f}}: Task\"|\n\t\t/findentry field=comment file=\"{{var::wi_book_f}}\" \"{{var::find}}\"|\n\t\t/var key=wi_uid {{pipe}}|\n\t\t/getentryfield field=content file=\"{{var::wi_book_f}}\" {{var::wi_uid}}|\n\t\t/var key=task [{{pipe}}]|\n\t\t/var key=find \"{{var::wi_book_key_f}}: Instruction\"|\n\t\t/findentry field=comment file=\"{{var::wi_book_f}}\" \"{{var::find}}\"|\n\t\t/var key=wi_uid {{pipe}}|\n\t\t/getentryfield field=content file=\"{{var::wi_book_f}}\" {{var::wi_uid}}|\n\t\t/var key=instruct [{{pipe}}]|\n\t\t/ife (wi_book_key_f != 'First Message') {:\n\t\t\t/genraw \"{{var::context}}{{var::examples}}{{newline}}{{newline}}{{var::task}}{{newline}}{{newline}}{{var::instruct}}\"|\n\t\t\t/var key=t {{pipe}}|\n\t\t:}|\n\t\t/elseif (wi_book_key_f == 'First Message') {:\n\t\t\t/messages names=off 0|\n\t\t\t/setvar key=fullCharacterSheet {{pipe}}|\n\t\t\t/re-replace find=\"/--FirstName--/g\" replace=\"{{getvar::firstName}}\" {{getvar::fullCharacterSheet}}|\n\t\t\t/setvar key=fullCharacterSheet {{pipe}}|\n\t\t\t/genraw \"{{var::context}}{{var::examples}}{{newline}}{{newline}}{{var::task}}{{newline}}{{newline}}{{var::instruct}}{{newline}}{{newline}}## [CHARACTER_SHEET_REFERENCE]\nBelow is the full character sheet for {{getvar::firstName}}. Use it to understand {{getvar::subjPronoun}}’s personality, tone, and behavioral cues. This is reference only — do not quote or summarize it.\n\n{{getvar::fullCharacterSheet}}\"|\n\t\t\t/var key=t {{pipe}}|\n\t\t:}|\n\t\t/re-replace find=\"/^[;\\s]+/g\" replace=\"\" {{var::t}}|\n\t\t/var key=t {{pipe}}|\n\t\t/ife (wi_book_key_f != 'First Message' ) {:\n\t\t\t/re-replace find=\"/^\\*/g\" replace=\"\" {{var::t}}|\n\t\t\t/re-replace find=\"/\\*$/g\" replace=\"\" {{pipe}}|\n\t\t\t/var key=t {{pipe}}|\n\t\t:}|\n\t\t/ife (debug == 'Yes') {:\n\t\t\t/setvar key=\"05 Output\" {{var::t}}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/flushvar \"05 Output\"|\n\t\t:}|\n\t\t/reasoning-parse return=content {{var::t}}|\n\t\t/var key=t {{pipe}}|\n\t\t/trimend {{var::t}}|\n\t\t/var key=t {{pipe}}|\n\t:}|\n\t/ife (genIsList_f == 'Yes') {:\n\t\t/split find=\"---\" {{var::t}}|\n\t\t/var key=t {{pipe}}|\n\t\t/ife ((wi_book_key_f != 'Height') and (wi_book_key_f != 'Length')) {:\n\t\t\t/foreach {{var::t}} {:\n\t\t\t\t/re-replace find=\"/\\./g\" replace=\"\" {{var::item}}|\n\t\t\t\t/let key=t1 {{pipe}}|\n\t\t\t\t/re-replace find=\"/_/g\" replace=\" \" {{pipe}}|\n\t\t\t\t/var key=t1 {{pipe}}|\n\t\t\t\t/to-lower {{var::t1}}|\n\t\t\t\t/var key=t1 {{pipe}}|\n\t\t\t\t/re-replace find=\"/\\b([a-z])/\" cmd=\"/to-upper $1\" replace=\"$1\" {{var::t1}}|\n\t\t\t\t/var key=t1 {{pipe}}|\n\t\t\t\t/wait 1|\n\t\t\t\t/setat index={{var::index}} value={{var::t}} {{var::t1}}|\n\t\t\t\t/var key=t {{pipe}}|\n\t\t\t:}|\n\t\t\t/var key=genState {{pipe}}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/var key=genState {{var::t}}|\n\t\t:}|\n\t\t/ife ((wi_book_key_f == 'Personality Tags' ) and (personalityFoundTags != '')) {:\n\t\t\t/split {{getvar::personalityFoundTags}}|\n\t\t\t/let key=temp {{pipe}}|\n\t\t\t/reverse {{var::temp}}|\n\t\t\t/var key=temp {{pipe}}|\n\t\t\t/foreach {{var::genState}} {:\n\t\t\t\t/ife ( item not in temp) {:\n\t\t\t\t\t/len {{var::temp}}|\n\t\t\t\t\t/var key=temp index={{pipe}} {{var::item}}|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/var key=genState {{var::temp}}|\n\t\t\t/join glue=\"--- \" {{var::genState}}|\n\t\t\t/let key=tempItem {{pipe}}|\n\t\t\t/var as=array key=genState []|\n\t\t\t/var key=genState index=0 {{var::tempItem}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/len {{var::genState}}|\n\t\t/var key=genState index={{pipe}} {{var::t}}|\n\t:}|\n\t\n\t/ife (debug == 'Yes') {:\n\t\t/setvar key=\"00 Genraw\" \"{{var::context}}{{var::examples}}{{newline}}{{newline}}{{var::task}}{{newline}}{{newline}}{{var::instruct}}\"|\n\t\t/setvar key=\"01 Context\" {{var::context}}|\n\t\t/setvar key=\"02 Examples\" {{var::examples}}|\n\t\t/setvar key=\"03 Task\" {{var::task}}|\n\t\t/setvar key=\"04 Instruktions\" {{var::instruct}}|\n\t:}|\n\t\n\t\n\t/ife (('Outfit' in wi_book_key_f) and ('Description' not in wi_book_key_f) and ('Outfit Accessories' not in wi_book_key_f)) {:\n\t\t/unshift genState \"None\"|\n\t\t/var key=genState {{pipe}}|\n\t:}|\n\t\n\t\n\t/ife ( ('Random' not in genState) and (genIsList_f == 'Yes')) {:\n\t\t/len {{var::genState}}|\n\t\t/var key=genState index={{pipe}} \"Random\"|\n\t:}|\n\t/let key=manualBlacklist [\"seasons\"]|\n\t/ife ( (wi_book_key_f not in manualBlacklist) and ( man not in genState)) {:\n\t\t/len {{var::genState}}|\n\t\t/var key=genState index={{pipe}} {{var::man}}|\n\t:}|\n\t/let key=guidenceBlacklist [\"Age Gen\", \"Age Species\"]|\n\t/ife (( 'Guidance' not in genState) and (wi_book_key_f not in guidenceBlacklist)) {:\n\t\t/len {{var::genState}}|\n\t\t/var key=genState index={{pipe}} Guidance|\n\t:}|\n\t/ife ( 'Generate New' not in genState) {:\n\t\t/len {{var::genState}}|\n\t\t/var key=genState index={{pipe}} Generate New|\n\t:}|\n\t/ife (( 'Customize Parts of the generation' not in genState) and (wi_book_key_f == 'Archetype Base' )) {:\n\t\t/len {{var::genState}}|\n\t\t/var key=genState index={{pipe}} Customize Parts of the generation|\n\t:}|\n\t/let key=forsedOutputWhitelist [\"Appearance Features Humanoid\", \"Appearance Features Other\"]|\n\t/ife ((wi_book_key_f is string) and (('Done' not in genState) and (((outputIsList_f == 'Yes') and (tempList != '')) or ((outputIsList_f != 'Yes') or (needOutput_f == 'No')) or ( wi_book_key_f in forsedOutputWhitelist)))) {:\n\t\t/len {{var::genState}}|\n\t\t/var key=genState index={{pipe}} \"Done\"|\n\t:}|\n\t\n\t/getvar key=genSettings index=buttonPrompt|\n\t/let key=buttonPrompt_f {{pipe}}|\n\t/ife ( buttonPrompt_f == '') {:\n\t\t/var key=buttonPrompt_f \"Select the {{var::wi_book_key_f}} you want {{getvar::firstName}} to have.\"|\n\t:}|\n\t\n\t/let key=basicBlacklist [\"Identify Personality Tag\", \"Personality QA\", \"Personality Tags\", \"Speech Examples QA\", \"Ability Proficiency\", \"Ability Description\", \"Appearance QA\", \"Appearance Features Other\", \"Appearance Features Humanoid\"]|\n\t/ife (wi_book_key_f not in basicBlacklist) {:\n\t\t/buttons labels={{var::genState}} {{var::buttonPrompt_f}}|\n\t\t/var key=selected_btn {{pipe}}|\n\t:}|\n\t/elseif ( wi_book_key_f == 'Identify Personality Tag') {:\n\t\t/buttons labels={{var::genState}} <div>Are these the correct Personality tags found in {{getvar::firstName}}'s Archetype?</div><div>{{getvar::archetype}}</div>|\n\t\t/var key=selected_btn {{pipe}}|\n\t:}|\n\t/elseif (wi_book_key_f == 'Personality Tags') {:\n\t\t/buttons labels={{var::genState}} Is this list of Personality Traits correct for {{getvar::firstName}}?|\n\t\t/var key=selected_btn {{pipe}}|\n\t:}|\n\t/elseif (wi_book_key_f == 'Personality QA') {:\n\t\t/buttons labels={{var::genState}} <div>Is this a good Answer by {{getvar::firstName}} for the question:</div><div>{{getvar::question}}</div>|\n\t\t/var key=selected_btn {{pipe}}|\n\t:}|\n\t/elseif (wi_book_key_f == 'Speech Examples QA') {:\n\t\t/buttons labels={{var::genState}} <div>Is this a good reaction to:</div><div>{{getvar::speechPromptClaimRand}}</div>|\n\t\t/var key=selected_btn {{pipe}}|\n\t:}|\n\t/elseif (wi_book_key_f == 'Appearance QA') {:\n\t\t/buttons labels={{var::genState}} <div>Is this a good answer to:</div><div>{{getvar::question}}</div>|\n\t\t/var key=selected_btn {{pipe}}|\n\t:}|\n\t/elseif (wi_book_key_f == 'Ability Proficiency') {:\n\t\t/buttons labels={{var::genState}} <div>Does this feel like the right level or state for {{getvar::firstName}}'s {{getvar::abilityName}}?</div>|\n\t\t/var key=selected_btn {{pipe}}|\n\t:}|\n\t/elseif (wi_book_key_f == 'Ability Description') {:\n\t\t/buttons labels={{var::genState}} <div>Does this feel like a good description for: {{getvar::abilityName}}?</div>|\n\t\t/var key=selected_btn {{pipe}}|\n\t:}|\n\t/elseif ((wi_book_key_f == 'Appearance Features Other') or (wi_book_key_f == 'Appearance Features Humanoid')) {:\n\t\t/let key=oTemp {{noop}}|\n\t\t/foreach {{getvar::tempList}} {:\n\t\t\t/var key=oTemp \"{{var::oTemp}}<div>{{var::item}}</div>\"\n\t\t:}|\n\t\t/buttons labels={{var::genState}} <div>Select the Appearance Feature you want {{getvar::firstName}} to have</div><div>Here is the ones already Selected</div>{{var::oTemp}}|\n\t\t/var key=selected_btn {{pipe}}|\n\t:}|\n\n\n\t/ife ( selected_btn == ''){:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n\t/elseif (selected_btn == 'Random') {:\n\t\t/find index=true {{var::genState}} {:\n\t\t\t/test left={{var::item}} rule=eq right=\"Random\"|\n\t\t:}|\n\t\t/let key=i {{pipe}}|\n\t\t/slice start=0 end={{var::i}} {{var::genState}}|\n\t\t/pick items=1 {{var::genState}}|\n\t\t/var key=selected_btn {{pipe}}|\n\t\t/setvar key=save {{var::selected_btn}}|\n\t\t/flushvar guidance|\n\t\t/:\"CMC Logic.SaveGen\"|\n\t:}|\n\t/elseif (selected_btn == 'Guidance') {:\n\t\t/let key=gu {{noop}}|\n\t\t/ife (guidance != '') {:\n\t\t\t/buttons labels=[\"Remove\", \"Set\", \"Change\", \"Cancel\"] <div>What would you like to do with the kink guidance?</div>\n<div>\n  <ul>\n    <li><strong>Remove</strong> – Delete the current guidance entirely.</li>\n    <li><strong>Set</strong> – Write a sentence or phrase, and it will be auto-tagged into kink categories.</li>\n    <li><strong>Change</strong> – Manually edit the existing guidance.</li>\n    <li><strong>Cancel</strong> – Keep the current guidance as is.</li>\n  </ul>\n</div>|\n\t\t\t/var key=gu {{pipe}}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/buttons labels=[\"Set\", \"Cancel\"] <div>No kink guidance has been set yet.</div>\n<div>\n  <ul>\n    <li><strong>Set</strong> – Write a sentence or phrase describing a kink theme or interest. It will be automatically tagged into kink categories.</li>\n    <li><strong>Cancel</strong> – Skip this for now and continue without setting any guidance.</li>\n  </ul>\n</div>|\n\t\t\t/var key=gu {{pipe}}|\n\t\t:}|\n\t\t/ife ( gu == ''){:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t\t/elseif ( gu == 'Remove') {:\n\t\t\t/setvar key=guidance {{noop}}|\n\t\t:}|\n\t\t/elseif ( gu == 'Set') {:\n\t\t\t/input What kind of themes, feelings, or ideas do you want to explore through {{getvar::firstName}}?|\n\t\t\t/setvar key=guideTemp {{pipe}}|\n\t\t\t/ife (wi_book_key_f == 'Kink Type') {:\n\t\t\t\t/var key=find \"Kink Type Guidance\"|\n\t\t\t\t/findentry field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t\t\t\t/var key=wi_uid {{pipe}}|\n\t\t\t\t/getentryfield field=content file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{var::wi_uid}}|\n\t\t\t\t/let key=mainPrompt {{pipe}}|\n\t\t\t\t/var key=find \"Kink Information\"|\n\t\t\t\t/findentry field=comment file=\"CMC Information {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t\t\t\t/var key=wi_uid {{pipe}}|\n\t\t\t\t/getentryfield field=content file=\"CMC Information {{getglobalvar::model}}\" {{var::wi_uid}}|\n\t\t\t\t/let key=infoPrompt {{pipe}}|\n\t\t\t\t/genraw \"{{var::infoPrompt}}{{newline}}{{newline}}{{var::mainPrompt}}\"|\n\t\t\t\t/setvar key=guideTemp {{pipe}}|\n\t\t\t\t/setvar key=guidance \"**Kink Guidance Input:** [{{getvar::guideTemp}}]{{newline}}This reflects a core kink or arousal theme relevant to the character. At least one kink type in the output must reflect this input — directly or as a clear reinterpretation. [**IMPORTANT** Start with this!]\"|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar key=guidance \"{{var::guidencePrompt_f}}{{newline}}[{{getvar::guideTemp}}]\"|\n\t\t\t:}|\n\t\t\t/flushvar guideTemp|\n\t\t:}|\n\t\t/elseif ( gu == 'Change') {:\n\t\t\t/input default={{getvar::guidance}} Edit what you want the response should be guided towards.|\n\t\t\t/setvar key=guidance \"{{pipe}}\"|\n\t\t:}|\n\t\t/var key=task {{noop}}|\n\t\t/var key=find \"{{var::wi_book_key_f}}: Task\"|\n\t\t/findentry field=comment file=\"{{var::wi_book_f}}\" \"{{var::find}}\"|\n\t\t/var key=wi_uid {{pipe}}|\n\t\t/getentryfield field=content file=\"{{var::wi_book_f}}\" {{var::wi_uid}}|\n\t\t/var key=task [{{pipe}}]|\n\t:}|\n\t/elseif ( selected_btn == 'Customize Parts of the generation') {:\n\t\t/buttons labels=[\"Yes\", \"Reset\", \"No\"] Do you want to Customize the {Modifier} of the formula {Modifier} + {Archetype} + {Addition}?|\n\t\t/let key=sel \"{{pipe}}\"|\n\t\t/ife (sel == '') {:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t\t/elseif ( sel == 'Yes') {:\n\t\t\t/input Write what you want to have as a Modifier.|\n\t\t\t/setvar key=settingModifier {{pipe}}|\n\t\t\t/ife (sel == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar key=settingModifier \"{Modifier} = {{getvar::settingModifier}}\"|\n\t\t\t:}|\n\t\t:}|\n\t\t/elseif ( sel == 'Reset') {:\n\t\t\t/setvar key=settingModifier {Modifier}|\n\t\t:}|\n\t\t/buttons labels=[\"Yes\", \"Reset\", \"No\"] Do you want to Customize the {Archetype} of the formula {Modifier} + {Archetype} + {Addition}?|\n\t\t/var key=sel {{pipe}}|\n\t\t/ife (sel == '') {:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t\t/elseif ( sel == 'Yes') {:\n\t\t\t/input Write what you want to have as a Archetype.|\n\t\t\t/setvar key=settingArchetype {{pipe}}|\n\t\t\t/ife (sel == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar key=settingArchetype \"{Archetype} = {{getvar::settingArchetype}}\"|\n\t\t\t:}|\n\t\t:}|\n\t\t/elseif ( sel == 'Reset') {:\n\t\t\t/setvar key=settingArchetype {Archetype}|\n\t\t:}|\n\t\t/buttons labels=[\"Yes\", \"Reset\", \"No\"] Do you want to Customize the {Addition} of the formula {Modifier} + {Archetype} + {Addition}?|\n\t\t/var key=sel {{pipe}}|\n\t\t/ife (sel == '') {:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t\t/elseif ( sel == 'Yes') {:\n\t\t\t/input Write what you want to have as a Addition.|\n\t\t\t/setvar key=settingAddition {{pipe}}|\n\t\t\t/ife (sel == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar key=settingAddition \"{Addition} = {{getvar::settingAddition}}\"|\n\t\t\t:}|\n\t\t:}|\n\t\t/elseif ( sel == 'Reset') {:\n\t\t\t/setvar key=settingAddition {Addition}|\n\t\t:}|\n\t\t/var key=task {{noop}}|\n\t\t/var key=find \"{{var::wi_book_key_f}}: Task\"|\n\t\t/findentry field=comment file=\"{{var::wi_book_f}}\" \"{{var::find}}\"|\n\t\t/var key=wi_uid {{pipe}}|\n\t\t/getentryfield field=content file=\"{{var::wi_book_f}}\" {{var::wi_uid}}|\n\t\t/var key=task [{{pipe}}]|\n\t\t/ife (debug == 'Yes') {:\n\t\t\t/setvar key=\"03 Task\" {{var::task}}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/flushvar \"03 Task\"|\n\t\t:}|\n\t\t/var key=find \"{{var::wi_book_key_f}}: Instruction\"|\n\t\t/findentry field=comment file=\"{{var::wi_book_f}}\" \"{{var::find}}\"|\n\t\t/var key=wi_uid {{pipe}}|\n\t\t/getentryfield field=content file=\"{{var::wi_book_f}}\" {{var::wi_uid}}|\n\t\t/var key=instruct [{{pipe}}]|\n\t\t/ife (debug == 'Yes') {:\n\t\t\t/setvar key=\"04 Instruktions\" [{{var::instruct}}]|\n\t\t:}|\n\t\t/else {:\n\t\t\t/flushvar \"04 Instruktions\"|\n\t\t:}|\n\t\t/var key=t {{noop}}|\n\t:}|\n\t/elseif ( selected_btn =='Generate New') {:\n\t\t/var key=t {{noop}}|\n\t:}|\n\t/elseif ( selected_btn == man) {:\n\t\t/ife ( genIsSentence_f == 'Yes' ){:\n\t\t\t\n\t\t\t/getat index=0 {{var::genState}}|\n\t\t\t/input default={{pipe}} Edit the output to your liking.|\n\t\t:}|\n\t\t/else {:\n\t\t\t/ife (outputIsList_f == 'Yes') {:\n\t\t\t\t/input rows=8 What {{var::wi_book_key_f}} do you like to add to the {{var::wi_book_key_f}} list?|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/input rows=8 What {{var::wi_book_key_f}} do you like to set as {{var::wi_book_key_f}} list?|\n\t\t\t:}|\n\t\t:}|\n\t\t/var key=selected_btn {{pipe}}|\n\t\t/setvar key=save {{var::selected_btn}}|\n\t\t/flushvar guidance|\n\t\t/:\"CMC Logic.SaveGen\"|\n\t:}|\n\t/else {:\n\t\t/ife (( selected_btn == 'Done') and ((outputIsList_f == 'Yes') and (tempList == '') or (needOutput_f == 'No'))) {:\n\t\t\t/ife (needOutput_f == 'No') {:\n\t\t\t\t/setvar key=save Done|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar key=save None|\n\t\t\t:}|\n\t\t\t/flushvar guidance|\n\t\t\t/:\"CMC Logic.SaveGen\"|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar key=save {{var::selected_btn}}|\n\t\t\t/flushvar guidance|\n\t\t\t/:\"CMC Logic.SaveGen\"|\n\t\t:}|\n\t:}|\n:}|\n/flushvar previousMilestones|\n/flushvar blackListGen|\n/flushvar mileS|\n/flushvar guidance|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":10,"icon":"","showLabel":false,"label":"GenerateWithSelector","title":"","message":"/getvar key=genSettings index=wi_book|\n/let key=wi_book_f {{pipe}}|\n/ife ( wi_book_f == '') {:\n\t/var key=wi_book_f \"CMC Static Variables\"|\n:}|\n\n/ife ((wi_book_f == 'CMC Generation Prompts') or (wi_book_f == 'CMC Information')) {:\n\t/var key=wi_book_f \"{{var::wi_book_f}} {{getglobalvar::model}}\"|\n:}|\n/getvar key=genSettings index=wi_book_key|\n/let key=wi_book_key_f {{pipe}}|\n/ife ( wi_book_key_f == '') {:\n\t/abort quiet=false Missing wi_book_key name in input.|\n:}|\n\n/getvar key=genSettings index=genIsList|\n/let key=genIsList_f {{pipe}}|\n/ife ( genIsList_f == '') {:\n\t/abort quiet=false Missing genIsList setting in input.|\n:}|\n/getvar key=genSettings index=genIsSentence|\n/let key=genIsSentence_f {{pipe}}|\n/ife ( genIsSentence_f == '') {:\n\t/abort quiet=false Missing genIsSentence setting in input.|\n:}|\n/getvar key=genSettings index=outputIsList|\n/let key=outputIsList_f {{pipe}}|\n/ife ( outputIsList_f == '') {:\n\t/abort quiet=false Missing outputIsList name in input.|\n:}|\n/getvar key=genSettings index=needOutput|\n/let key=needOutput_f {{pipe}}|\n/ife ( needOutput_f == '') {:\n\t/var key=needOutput_f Yes|\n:}|\n/getvar key=genSettings index=useContext|\n/let key=useContext_f {{pipe}}|\n/ife ( useContext_f == '') {:\n\t/abort quiet=false Missing useContext setting in input.|\n:}|\n/getvar key=genSettings index=content|\n/let key=content_f {{pipe}}|\n\n\n/let genState {{noop}}|\n/let key=wi_uid {{noop}}|\n/let key=find {{noop}}|\n\n/let key=exRules [\"Explicitness Level\", \"User Input Style\", \"Response Length\", \"Consent Reaction Tone\", \"Emotional Responsiveness\", \"Conflict Handling\", \"Social Openness\", \"Empathy Attunement\", \"Verbal Style Communication\", \"Physical Expressiveness\", \"Narration Formatting Rule\", \"Narrative Tone Rule\", \"Perspective Rule\", \"Formatting Style\", \"Initiation Style\", \"Touch Preference\", \"Verbal Tone During Intimacy\", \"Emotional Layer\", \"Control Preference\" ]|\n/ife ( combineLorebookEntries != 'Yes') {:\n\t/let key=tempGenState {{noop}}|\n\t/ife (( inputIsList == 'Yes') and (wi_book_key_f is list)) {:\n\t\t/var key=find {{getvar::it}}|\n\t\t/findentry field=comment file=\"{{var::wi_book_f}}\" \"{{var::find}}\"|\n\t\t/getentryfield field=content file={{var::wi_book_f}} {{pipe}}|\n\t\t/var key=genState {{pipe}}|\n\t:}|\n\t/elseif (wi_book_key_f is list) {:\n\t\t/foreach {{var::wi_book_key_f}} {:\n\t\t\t/var key=find {{var::item}}: List|\n\t\t\t/findentry field=comment file={{var::wi_book_f}} {{var::find}}|\n\t\t\t/let key=UID {{pipe}}|\n\t\t\t/getentryfield field=content file={{var::wi_book_f}} {{var::UID}}|\n\t\t\t/let key=tempL {{pipe}}|\n\t\t\t/ife (index > 0) {:\n\t\t\t\t/var key=tempGenState \"{{var::tempGenState}}: {{var::tempL}}\"|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/var key=tempGenState \"{{var::tempL}}\"|\n\t\t\t:}|\n\t\t:}|\n\t\t/var key=genState {{var::tempGenState}}|\n\t:}|\n\t/elseif (wi_book_key_f in exRules) {:\n\t\t/var key=find {{var::wi_book_key_f}}|\n\t\t/findentry field=comment file={{var::wi_book_f}} {{var::find}}|\n\t\t/let key=UID {{pipe}}|\n\t\t/getentryfield field=content file={{var::wi_book_f}} {{var::UID}}|\n\t\t/var key=genState {{pipe}}|\n\t:}|\n\t/else {:\n\t\t/var key=find {{var::wi_book_key_f}}: List|\n\t\t/findentry field=comment file={{var::wi_book_f}} {{var::find}}|\n\t\t/let key=UID {{pipe}}|\n\t\t/getentryfield field=content file={{var::wi_book_f}} {{var::UID}}|\n\t\t/var key=genState {{pipe}}|\n\t:}|\n\t\n:}|\n/else {:\n\t/var key=genState {{var::content}}|\n:}|\n/ife (debug == 'Yes') {:\n\t/setvar key=\"06 Selector\" {{var::genState}}|\n:}|\n/else {:\n\t/flushvar 06 Selector|\n:}|\n\n\n\n/ife (wi_book_key_f in exRules) {:\n\t/split find=\"---\" {{var::genState}}|\n\t/let key=tempArr {{pipe}}|\n\t/var key=genState []|\n\t/let key=userSkip [\"Consent Reaction Tone\"]|\n\t/foreach {{var::tempArr}} {:\n\t\t/ife (wi_book_key_f not in userSkip) {:\n\t\t\t/len {{var::genState}}|\n\t\t\t/var key=genState index={{pipe}} {{var::item}}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/ife ('--User--' not in item) {:\n\t\t\t\t/len {{var::genState}}|\n\t\t\t\t/var key=genState index={{pipe}} {{var::item}}|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n:}|\n/else {:\n\t/split find=\"---\" {{var::genState}}|\n\t/var as=array key=genState {{pipe}}|\n:}|\n\n/let key=selected_btn {{noop}}|\n\n/let key=isGeneration 'No'|\n/setvar key=output {{noop}}|\n/setvar as=array key=tempList []|\n/let actionType {{noop}}|\n\n/ife ( outputisList_f == 'Yes') {:\n\t/var key=actionType add|\n:}|\n/else {:\n\t/var key=actionType set|\n:}|\n/let key=man \"Manually {{var::actionType}}\"|\n\n/whilee ( output == '') {:\n\t\n\t/foreach {{var::genState}} {:\n\t\t/re-replace find=\"/\\b([a-z])/\" cmd=\"/to-upper $1\" replace=\"$1\" {{var::item}}|\n\t\t/var key=genState index={{var::index}} {{pipe}}|\n\t:}|\n\t\n\t/ife ( 'Random' not in genState) {:\n\t\t/len {{var::genState}}|\n\t\t/var key=genState index={{pipe}} \"Random\"|\n\t:}|\n\t/ife ( man not in genState) {:\n\t\t/len {{var::genState}}|\n\t\t/var key=genState index={{pipe}} {{var::man}}|\n\t:}|\n\t/ife ( (wi_book_key_f is string) and (('Done' not in genState) and (((outputisList_f == 'Yes') and (tempList != '')) or (needOutput_f == 'No')))) {:\n\t\t/len {{var::genState}}|\n\t\t/var key=genState index={{pipe}} \"Done\"|\n\t:}|\n\t\n\t/getvar key=genSettings index=buttonPrompt|\n\t/let key=buttonPrompt_f {{pipe}}|\n\t/ife ( buttonPrompt_f == '') {:\n\t\t/var key=buttonPrompt_f \"Select the {{getvar::wi_book_key_f}} you want {{getvar::it}} to have.\"|\n\t:}|\n\t\n\t/let key=exemptRules [\"Text Style Rules\", \"Graphical Detail Rules\", \"Response Length\"]|\n\t\n\t/ife (wi_book_key_f is list) {:\n\t\t/buttons multiple=true labels={{var::genState}} {{var::buttonPrompt_f}}|\n\t\t/var key=selected_btn {{pipe}}|\n\t:}|\n\t/else {:\n\t\t/buttons labels={{var::genState}} {{var::buttonPrompt_f}}|\n\t\t/var key=selected_btn {{pipe}}|\n\t\t/ife (wi_book_key_f not in exemptRules) {:\n\t\t\t/re-replace find=\"/\\s\\(.*$/g\" replace=\"\" {{var::selected_btn}}|\n\t\t\t/var as=string key=selected_btn {{pipe}}|\n\t\t:}|\n\t:}|\n\t/ife (( selected_btn == '') and (wi_book_f != 'CMC Rules')) {:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n\t/elseif (selected_btn == 'Random') {:\n\t\t/find index=true {{var::genState}} {:\n\t\t\t/test left={{var::item}} rule=eq right=\"Random\"|\n\t\t:}|\n\t\t/slice start=0 end={{pipe}} {{var::genState}}|\n\t\t/pick items=1 {{var::genState}}|\n\t\t/var key=selected_btn {{pipe}}|\n\t\t/setvar key=save {{var::selected_btn}}|\n\t\t/:\"CMC Logic.SaveGen\"|\n\t:}|\n\t/elseif ( selected_btn == man) {:\n\t\t/ife ( genIsSentence_f == 'Yes' ){:\n\t\t\t/getat index=0 {{var::genState}}|\n\t\t\t/input default={{pipe}} Edit the output to your liking.|\n\t\t:}|\n\t\t/else {:\n\t\t\t/ife (outputisList_f == 'Yes') {:\n\t\t\t\t/input rows=8 What {{var::wi_book_key_f}} do you like to add to the {{var::wi_book_key_f}} list?|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/input rows=8 What {{var::wi_book_key_f}} do you like to set as {{var::wi_book_key_f}} list?|\n\t\t\t:}|\n\t\t:}|\n\t\t/var key=selected_btn {{pipe}}|\n\t\t/setvar key=save {{var::selected_btn}}|\n\t\t/:\"CMC Logic.SaveGen\"|\n\t:}|\n\t/else {:\n\t\t/ife (( genState == 'Done') and (((outputisList_f == 'Yes') and (tempList == '')) or (needOutput_f == 'No'))) {:\n\t\t\t/setvar key=save None|\n\t\t\t/:\"CMC Logic.SaveGen\"|\n\t\t:}|\n\t\t/else {:\n\t\t\t/ife (wi_book_key_f == 'Kink Awareness') {:\n\t\t\t\t/ife (selected_btn == 'Unaware') {:\n\t\t\t\t\t/var key=selected_btn \"Unaware (**IMPORTANT: The character does not consciously know about this kink. Do not mention it in dialogue or inner thoughts unless discovery is explicitly triggered.**)\"|\n\t\t\t\t:}|\n\t\t\t\t/ife (selected_btn == 'Suppressed') {:\n\t\t\t\t\t/var key=selected_btn \"Suppressed (**IMPORTANT: The character avoids thinking about this kink and will not admit to it unless emotionally or situationally forced.**)\"|\n\t\t\t\t:}|\n\t\t\t\t/ife (selected_btn == 'Curious') {:\n\t\t\t\t\t/var key=selected_btn \"Curious (**IMPORTANT: The character feels drawn to this kink but doesn’t recognize it as a kink yet. Express through confused reactions, not direct acknowledgment.**)\"|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/setvar key=save {{var::selected_btn}}|\n\t\t\t/:\"CMC Logic.SaveGen\"|\n\t\t:}|\n\t:}|\n:}|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":12,"icon":"","showLabel":false,"label":"Get Char info","title":"","message":"/ife (gen != 'Yes') {:\n\t/db-list source=chat field=name |\n\t/let key=databaseList {{pipe}}|\n\t\n\t/foreach {{var::databaseList}} {:\n\t\t/ife ('.json' not in item) {:\n\t\t\t/db-get source=chat {{var::item}}| \n\t\t\t/setvar key={{var::item}} {{pipe}}|\n\t\t:}|\n\t:}|\n:}|\n/ife (gen != 'Yes') {:\n\t/db-list source=character field=name |\n\t/let key=databaseList {{pipe}}|\n\t/foreach {{var::databaseList}} {:\n\t\t/ife (('.json' not in item) and ( item == 'model')) {:\n\t\t\t/db-get source=character {{var::item}}| \n\t\t\t/setglobalvar key={{var::item}} {{pipe}}|\n\t\t:}|\n\t:}|\n:}|\n/ife (( lastName == '' ) or ( lastName == 'None' )) {:\n\t/setvar key=lastName {{noop}}|\n\t/setvar key=parsedName {{getvar::firstName}}|\n:}|\n/elseif ((firstName != '') and (lastName != '') ) {:\n\t/setvar key=parsedName {{getvar::firstName}} {{getvar::lastName}}|\n:}|\n/ife ( alias == '' ) {:\n\t/setvar key=alias {{noop}}|\n:}|\n\n//Parse character Age|\n/setvar key=parcedAge {{noop}}|\n\n/ife ((humanEquivalentAge == age) and (age != '')) {:\n\t/setvar key=parcedAge {{getvar::age}} years-old|\n:}|\n/elseif ((humanEquivalentAge != '') and (humanEquivalentAge != 'None') and (humanEquivalentAge != age)) {:\n\t/setvar key=parcedAge {{getvar::age}} years-old — roughly {{getvar::humanEquivalentAge}} years-old in human years.|\n:}|\n/elseif (age != '') {:\n\t/setvar key=parcedAge {{getvar::age}} years-old|\n:}|\n//-----------|\n\n/ife (parsedAnimalType == 'None') {:\n\t/setvar key=parsedAnimalType {{noop}}|\n:}|\n\n\n//Parse character Species|\n/setvar key=parsedSpecies {{noop}}|\n/ife ((characterType == 'None') or ( characterType ==  characterArchetype)) {:\n\t/setvar key=characterType {{noop}}|\n:}|\n/ife (characterArchetype == species) {:\n    /ife ((breed != 'None') and (breed != '')) {:\n        /setvar key=parsedSpecies \"{{getvar::species}} – {{getvar::breed}}\"|\n    :}|\n    /else {:\n        /setvar key=parsedSpecies \"{{getvar::species}}\"|\n    :}|\n:}|\n/else {:\n    /ife ((breed != 'None') and (breed != '')) {:\n        /setvar key=parsedSpecies \"{{getvar::characterArchetype}} {{getvar::species}} – {{getvar::breed}}\"|\n    :}|\n    /else {:\n        /setvar key=parsedSpecies \"{{getvar::characterArchetype}} {{getvar::species}}\"|\n    :}|\n:}|\n//-----------|\n\n//Parse Real Character info|\n/ife ( real == 'Yes') {:\n\t/setvar key=realInfoParced \"{{newline}}- Origin: {{getvar::media_type}} – {{getvar::mediaName}}\"|\n\t/setvar key=realParcedContext \"{{getvar::firstName}} is a character from the {{getvar::media_type}} _{{getvar::mediaName}}_. Use your knowledge about {{getvar::firstName}} and the {{getvar::media_type}} _{{getvar::mediaName}}_ when doing the assigned **TASK**\"|\n:}|\n//-----------|\n\n//Parse Nationality and Ethnicity|\n/ife ( nationality == 'None' ) {:\n\t/setvar key=nationality {{noop}}|\n:}|\n/ife ( ethnicity == 'None' ) {:\n\t/setvar key=ethnicity {{noop}}|\n:}|\n\n\n/ife (gender == 'Female') {:\n\t/setvar key=subjPronoun she|\n\t/setvar key=objPronoun her|\n\t/setvar key=possAdjPronoun her|\n\t/setvar key=possPronoun hers|\n\t/setvar key=reflexivePronoun herself|\n:}|\n/elseif (gender == 'Male') {:\n\t/setvar key=subjPronoun he|\n\t/setvar key=objPronoun him|\n\t/setvar key=possAdjPronoun his|\n\t/setvar key=possPronoun his|\n\t/setvar key=reflexivePronoun himself|\n:}|\n/else {:\n\t/setvar key=subjPronoun they|\n\t/setvar key=objPronoun them|\n\t/setvar key=possAdjPronoun their|\n\t/setvar key=possPronoun theirs|\n\t/setvar key=reflexivePronoun themself|\n:}|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":14,"icon":"","showLabel":false,"label":"Is Real","title":"","message":"/buttons labels=[\"Yes\", \"No\"] <div>Is the character you are making a \"real\" character from a game/anime/book etc..?</div><div>The Result depends on how much information the model you are using have about the character.</div> |\n/setvar key=real {{pipe}}|\n/ife ( real == ''){:\n\t/echo Aborting|\n\t/abort|\n:}|\n/elseif ( real == 'Yes') {:\n\t/input rows=8 What is the first name of the character?|\n\t/setvar key=firstName {{pipe}}|\n\t/ife ( firstName == ''){:\n\t\t/echo Aborting|\n\t\t/abort|\n\t:}|\n\t/else {::}|\n\n\t/input rows=8 What is the last name of {{getvar::firstName}}?|\n\t/setvar key=lastName {{pipe}}|\n\t/ife ( lastName == ''){:\n\t\t/buttons labels=[\"Yes\", \"No\"] Are you sure you want to {{getvar::firstName}} to have no last name?|\n\t\t/let key=temp {{pipe}}|\n\t\t/ife ((temp == '') or (temp == 'No')) {:\n\t\t\t/echo Aborting|\n\t\t\t/abort|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar key=lastName None|\n\t\t:}|\n\t:}|\n\t/else {::}|\n\n\t/input rows=8 <div>What is the type of media that {{getvar::firstName}} is in?</div><div>Anime,Manga, Movie etc..</div>|\n\t/setvar key=media_type {{pipe}}|\n\t/ife ( media_type == ''){:\n\t\t/echo Aborting|\n\t\t/abort|\n\t:}|\n\t/else {::}|\n\n\t/input rows=8 What is the name of the {{getvar::media_type}} that {{getvar::firstName}} is in?|\n\t/setvar key=mediaName {{pipe}}|\n\t/ife ( mediaName == ''){:\n\t\t/echo Aborting|\n\t\t/abort|\n\t:}|\n\t/else {::}|\n\t\n\t\n\t/setvar key=parsedMedia \"{{getvar::firstName}} is a character from the {{getvar::media_type}} _{{getvar::mediaName}}_.\"|\n\t\n\t/addvar key=dataBaseNames real|\n\t/addvar key=dataBaseNames firstName|\n\t/addvar key=dataBaseNames lastName|\n\t/addvar key=dataBaseNames media_type|\n\t/addvar key=dataBaseNames media_name|\n\t/addvar key=dataBaseNames parsedMedia|\n:}|\n/else {:\n\t/addvar key=dataBaseNames real|\n\t/setvar key=media_type None|\n\t/addvar key=dataBaseNames media_type|\n\t/setvar key=media_name None|\n\t/addvar key=dataBaseNames media_name|\n\t/setvar key=parsedMedia None|\n\t/addvar key=dataBaseNames parsedMedia|\n:}|\n","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":16,"icon":"","showLabel":false,"label":"Parse","title":"","message":"/re-replace find=\"/\\b{{char}}\\b\\|--FirstName--/g\" replace=\"{{ char}}\" {{getvar::t}}|\n/re-replace find=\"/\\b{{user}}\\b\\|--User--/g\" replace=\"{{ user}}\" {{pipe}}|\n/return {{pipe}}|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":18,"icon":"","showLabel":false,"label":"Save DataBase","title":"","message":"/db-list source=chat field=name |\n/let key=a {{pipe}}|\n/foreach {{getvar::dataBaseNames}} {:\n\t/ife ( ('{{var::item}}' not in a) and ({{var::item}} != '')) {:\n\t\t/getvar key={{var::item}}|\n\t\t/db-add source=chat name={{var::item}} {{pipe}}|\n\t\t/db-disable source=chat {{var::item}}|\n\t:}|\n\t/elseif ({{var::item}} != '') {:\n\t\t/getvar key={{var::item}}|\n\t\t/db-update source=chat name={{var::item}} {{pipe}}|\n\t\t/db-disable source=chat {{var::item}}|\n\t:}|\n:}|\n\n/flushvar dataBaseNames|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":20,"icon":"","showLabel":false,"label":"JEDParse","title":"","message":"/ife (timePeriod != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--TimePeriod--/g\" replace=\"{{getvar::timePeriod}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (seasons != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Season--/g\" replace=\"{{getvar::seasons}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif ( seasons == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Season--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (worldDetails != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--WorldDetails--/g\" replace=\"{{getvar::worldDetails}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedExtraCharacters != '') and (parsedExtraCharacters != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--ExtraCharacters--/g\" replace=\"{{newline}}{{getvar::parsedExtraCharacters}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedExtraCharacters == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--ExtraCharacters--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((lore != '') and ( lore != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Lore--/g\" replace=\"## LORE{{newline}}{{getvar::lore}}{{newline}}{{newline}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif ( lore == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Lore--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (scenarioOverview != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--ScenarioOverview--/g\" replace=\"{{getvar::scenarioOverview}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (characterOverview != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--CharacterOverview--/g\" replace=\"{{getvar::characterOverview}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedMedia != '') and (parsedMedia != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Real--/g\" replace=\"**Media Origin**: {{getvar::parsedMedia}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedMedia != 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Real--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ( (lastName != '') and (lastName != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--LastName--/g\" replace=\"{{getvar::lastName}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (lastName == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--LastName--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ( (alias != '') and (alias != 'None')){:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Alias1--/g\" replace=\", Alias\" {{pipe}}|\n\t/re-replace find=\"/--Alias--/g\" replace=\", {{getvar::alias}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (alias == 'None' ) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Alias1--/g\" replace=\"\" {{pipe}}|\n\t/re-replace find=\"/--Alias--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (parsedSpecies != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Species--/g\" replace=\"{{getvar::parsedSpecies}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedOrigin != '') and (parsedOrigin != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Origin--/g\" replace=\"{{newline}}- Origin: {{getvar::parsedOrigin}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif  ((parsedOrigin == 'None') or ((nationality == 'None') and (ethnicity == 'None'))){:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Origin--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (gender != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Gender--/g\" replace=\"{{getvar::gender}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((futanari != '') and (futanari == 'Yes')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Futanari--/g\" replace=\" Futanari\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif  (futanari == 'No'){:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Futanari--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((length != '') and (length != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Length--/g\" replace=\"- Lenght: {{getvar::length}}{{newline}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (length == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Length--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((height != '') and (height != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Height--/g\" replace=\"- Height: {{getvar::height}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (height == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Height--/g\" replace=\"{{getvar::height}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (age != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Age--/g\" replace=\"{{getvar::parcedAge}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (appearanceHair != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Hair--/g\" replace=\"{{getvar::appearanceHair}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (appearanceEyes != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Eyes--/g\" replace=\"{{getvar::appearanceEyes}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (appearanceFace != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Face--/g\" replace=\"{{getvar::appearanceFace}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedCovering != '') and (parsedCovering != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Covering--/g\" replace=\"{{getvar::parsedCovering}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedCovering == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Covering--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (appearanceBody != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Body--/g\" replace=\"{{newline}} - Body: {{getvar::appearanceBody}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((tanlines != '') and (tanlines != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Tanlines--/g\" replace=\"{{newline}} - Tanlines: {{getvar::tanlines}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (tanlines == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Tanlines--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ( (appearanceBreasts != '') and (appearanceBreasts != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Breasts--/g\" replace=\"{{newline}} - Breast: {{getvar::appearanceBreasts}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (appearanceBreasts == 'None' ) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Breasts--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((appearanceNipples != '') and (appearanceNipples != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Nipples--/g\" replace=\"{{newline}} - Nipple: {{getvar::appearanceNipples}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (appearanceNipples == 'None' ) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Nipples--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((appearanceGenitals != '') and (appearanceGenitals != 'None') and (futanari == 'yes')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Genitals--/g\" replace=\"{{newline}} - Genitals: {{getvar::appearanceGenitals}}\" {{pipe}}|\n\t/re-replace find=\"/--Pussy--/g\" replace=\"\" {{pipe}}|\n\t/re-replace find=\"/--Cock--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif ((appearancePussy != '') and (appearancePussy != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Pussy--/g\" replace=\"{{newline}} - Pussy: {{getvar::appearancePussy}}\" {{pipe}}|\n\t/re-replace find=\"/--Cock--/g\" replace=\"\" {{pipe}}|\n\t/re-replace find=\"/--Genitals--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif ((appearanceCock != '') and (appearanceCock != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Cock--/g\" replace=\"{{newline}} - Cock: {{getvar::appearanceCock}}\" {{pipe}}|\n\t/re-replace find=\"/--Pussy--/g\" replace=\"\" {{pipe}}|\n\t/re-replace find=\"/--Genitals--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (appearanceAnus != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Anus--/g\" replace=\"{{getvar::appearanceAnus}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedAppearanceFeatures != '') and (parsedAppearanceFeatures != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Features--/g\" replace=\"{{newline}}{{newline}}{{getvar::parsedAppearanceFeatures}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedAppearanceFeatures == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Features--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedAppearanceTraits != '') and (parsedAppearanceTraits != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--ApperanceTraits--/g\" replace=\"{{newline}}{{newline}}### APPEARANCE TRAITS{{newline}}{{getvar::parsedAppearanceTraits}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedAppearanceTraits == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--ApperanceTraits--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (outfitHeadDescription != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitHead--/g\" replace=\"{{getvar::outfitHeadDescription}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedAccessories != '') and (parsedAccessories == 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitAccessories--/g\" replace=\"{{getvar::parsedAccessories}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif ((parsedAccessories != '') and (parsedAccessories != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitAccessories--/g\" replace=\"{{newline}}{{getvar::parsedAccessories}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (parsedMakeup != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitMakeup--/g\" replace=\"{{getvar::parsedMakeup}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (outfitNeckDescription != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitNeck--/g\" replace=\"{{getvar::outfitNeckDescription}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((outfitMainwearDescription != '') and (outfitMainwearDescription != 'Skip')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitMainwear--/g\" replace=\"- Mainwear: {{getvar::outfitMainwearDescription}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (outfitMainwearDescription == 'Skip') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitMainwear--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((outfitTopDescription != '') and (outfitTopDescription != 'Skip')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitTop--/g\" replace=\"- Top: {{getvar::outfitTopDescription}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (outfitTopDescription == 'Skip') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitTop--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((outfitBottomDescription != '') and (outfitBottomDescription != 'Skip')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitBottom--/g\" replace=\"{{newline}}- Bottom: {{getvar::outfitBottomDescription}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (outfitBottomDescription == 'Skip') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitBottom--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (outfitLegsDescription != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitLegs--/g\" replace=\"{{getvar::outfitLegsDescription}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (outfitShoesDescription != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitShoes--/g\" replace=\"{{getvar::outfitShoesDescription}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ( (outfitUnderwearTopDescription != '') and (outfitUnderwearTopDescription != 'Skip')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitUnderwearTop--/g\" replace=\"{{newline}}- Underwear (Top):  {{getvar::outfitUnderwearTopDescription}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (outfitUnderwearTopDescription == 'Skip') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitUnderwearTop--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (outfitUnderwearBottomDescription != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--OutfitUnderwearBottom--/g\" replace=\"{{getvar::outfitUnderwearBottomDescription}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (appearanceQA != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--AppearanceQA--/g\" replace=\"{{newline}}{{newline}}</Q&A>{{newline}}{{getvar::appearanceQA}}{{newline}}</Q&A>\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (backstory != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Backstory--/g\" replace=\"{{getvar::backstory}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (residence != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Residence--/g\" replace=\"{{getvar::residence}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedOccupation != '') and (parsedOccupation != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Occupation--/g\" replace=\"{{newline}}{{newline}}### OCCUPATION{{newline}}{{getvar::parsedOccupation}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedOccupation == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Occupation--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (connections != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Connections--/g\" replace=\"{{getvar::connections}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedSecret != '') and (parsedSecret != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Secret--/g\" replace=\"{{newline}}{{newline}}{{getvar::parsedSecret}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedSecret == 'None' ) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Secret--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedItems != '') and (parsedItems != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Items--/g\" replace=\"{{newline}}{{newline}}### INVENTORY{{newline}}{{getvar::parsedItems}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedItems == 'None' ) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Items--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ( (parsedAbilities != '') and (parsedAbilities != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Abilities--/g\" replace=\"{{newline}}{{newline}}### ABILITIES{{newline}}{{getvar::parsedAbilities}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedAbilities == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Abilities--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (parsedArchetype != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Archetype--/g\" replace=\"{{getvar::parsedArchetype}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ( (parsedAlignment != '') and  (parsedAlignment != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Alignment--/g\" replace=\"{{newline}}{{newline}}{{getvar::parsedAlignment}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedAlignment == 'None' ) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Alignment--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (personalityTags != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--PersonalityTags--/g\" replace=\"- Personality Tags: {{getvar::personalityTags}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ( personalityIntelligenceLevel != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--IntelligenceLevel--/g\" replace=\"- Intelligence Level: {{getvar::personalityIntelligenceLevel}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ( (personalitycognitiveAbilities != '') and (personalitycognitiveAbilities != 'None') ) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--CognitiveAbilities--/g\" replace=\"{{newline}}{{newline}}- Cognitive Abilities: {{getvar::personalitycognitiveAbilities}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (personalitycognitiveAbilities == 'None' ) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--CognitiveAbilities--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedSentientLevel != '') and (parsedSentientLevel != 'None')) {:\n/messages names=off 0|\n\t/re-replace find=\"/--SentientLevel--/g\" replace=\"{{newline}}### ANIMALISTIC COGNITION{{newline}}{{getvar::parsedSentientLevel}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedSentientLevel == 'None' ) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SentientLevel--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ( personalitySocialBehavior != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SocialBehavior--/g\" replace=\"- Social Behavior: {{getvar::personalitySocialBehavior}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ( (personalitySocialSkills != '') and (personalitySocialSkills != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SocialSkills--/g\" replace=\"{{newline}}{{newline}}- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (personalitySocialSkills == 'None' ) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SocialSkills--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (parsedAspiration != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--MainAspiration--/g\" replace=\"{{getvar::mainAspiration}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedTraits != '') and (parsedTraits != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--UniqueTraits--/g\" replace=\"{{getvar::parsedTraits}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedTraits == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--UniqueTraits--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (personalityQA != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--PersonalityQA--/g\" replace=\"{{newline}}{{newline}}<Q&A>{{newline}}{{getvar::personalityQA}}{{newline}}</Q&A>\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedBehaviorNotes != '') and (parsedBehaviorNotes != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--BehaviorNotes--/g\" replace=\"{{newline}}{{newline}}- - -\n\n## [BEHAVIOR_NOTES]\n[IMPORTANT NOTE FOR AI: This section governs how --FirstName-- behaves moment to moment. In all interactions—especially intimate or emotionally charged scenes—adhere closely to the personality, social behavior, sexual role, and emotional boundaries established in this profile. **Do not** deviate from {{char}}’s defined orientation, role, or behavioral patterns unless a clear, in-character transformation is justified.]{{newline}}{{newline}}{{getvar::parsedBehaviorNotes}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedBehaviorNotes == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--BehaviorNotes--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (parsedSexualOrientation != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualOrientation--/g\" replace=\"{{getvar::parsedSexualOrientation}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualLibido != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Libido--/g\" replace=\"- Libido: {{getvar::sexualLibido}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedSexualItems != '') and (parsedSexualItems != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualItems--/g\" replace=\"{{newline}}{{newline}}### SEXUAL INVENTORY{{newline}}{{getvar::parsedSexualItems}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedSexualItems == 'None' ) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualItems--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ( (parsedSexualAbilities != '') and (parsedSexualAbilities != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualAbilities--/g\" replace=\"{{newline}}{{newline}}### SEXUAL ABILITIES{{newline}}{{getvar::parsedSexualAbilities}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedSexualAbilities == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualAbilities--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedSexualKinks != '') and (parsedSexualKinks != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Kinks--/g\" replace=\"{{newline}}{{newline}}### Kinks{{newline}}{{getvar::parsedSexualKinks}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif  (parsedSexualKinks == 'None'){:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Kinks--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualFamiliarityActKissing != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualFamilitaryActKissing--/g\" replace=\"{{getvar::sexualFamiliarityActKissing}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualFamiliarityActOralG != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualFamilitaryActOralG--/g\" replace=\"{{getvar::sexualFamiliarityActOralG}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualFamiliarityActOralR != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualFamilitaryActOralR--/g\" replace=\"{{getvar::sexualFamiliarityActOralR}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualFamiliarityActVaginal != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualFamilitaryActVaginal--/g\" replace=\"{{getvar::sexualFamiliarityActVaginal}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualFamiliarityActAnal != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualFamilitaryActAnal--/g\" replace=\"{{getvar::sexualFamiliarityActAnal}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualFamiliarityActGroupSex != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualFamilitaryActGroupSex--/g\" replace=\"{{getvar::sexualFamiliarityActGroupSex}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualFamiliarityActToys != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualFamilitaryActToys--/g\" replace=\"{{getvar::sexualFamiliarityActToys}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((sexualityQA != '') and (sexualityQA != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualityQA--/g\" replace=\"{{newline}}{{newline}}<Q&A>{{newline}}{{getvar::sexualityQA}}{{newline}}</Q&A>\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (sexualityQA != 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualityQA--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedSexualityNotes != '') and (parsedSexualityNotes != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualNotes--/g\" replace=\"{{getvar::parsedSexualityNotes}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedSexualityNotes == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualNotes--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualExperienceLevel != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualExperienceLevel--/g\" replace=\"{{getvar::sexualExperienceLevel}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualKnowlageLevel != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualKnowlageLevel--/g\" replace=\"{{getvar::sexualKnowlageLevel}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualExposure != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualExposure--/g\" replace=\"{{getvar::sexualExposure}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualPartners != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualPartners--/g\" replace=\"{{getvar::sexualPartners}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualSelfExploration != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualSelfExploration--/g\" replace=\"{{getvar::sexualSelfExploration}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualFamilitaryActKissing != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualFamilitaryActKissing--/g\" replace=\"{{getvar::sexualFamilitaryActKissing}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualFamilitaryActOralR != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualFamilitaryActOralR--/g\" replace=\"{{getvar::sexualFamilitaryActOralR}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualFamilitaryActOralG != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualFamilitaryActOralG--/g\" replace=\"{{getvar::sexualFamilitaryActOralG}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualFamilitaryActVaginal != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualFamilitaryActVaginal--/g\" replace=\"{{getvar::sexualFamilitaryActVaginal}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualFamilitaryActAnal != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualFamilitaryActAnal--/g\" replace=\"{{getvar::sexualFamilitaryActAnal}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualFamilitaryActGroupSex != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualFamilitaryActGroupSex--/g\" replace=\"{{getvar::sexualFamilitaryActGroupSex}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualFamilitaryActToys != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualFamilitaryActToys--/g\" replace=\"{{getvar::sexualFamilitaryActToys}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualFraming != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualFraming--/g\" replace=\"{{getvar::sexualFraming}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualAttitude != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualAttitude--/g\" replace=\"{{getvar::sexualAttitude}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (sexualBehavior != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SexualBehavior--/g\" replace=\"{{getvar::sexualBehavior}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (speechStyle != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SpeechStyle--/g\" replace=\"{{getvar::speechStyle}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (speechQuirks != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SpeechQuirks--/g\" replace=\"{{getvar::speechQuirks}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (speechTics != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SpeechTics--/g\" replace=\"{{getvar::speechTics}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (speechExampleString != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--SpeechExamples--/g\" replace=\"{{newline}}{{newline}}## Speech EXAMPLES AND OPINIONS\n[IMPORTANT NOTE FOR AI: This section provides --FirstName--'s speech examples, memories, thoughts, and --FirstName--'s real opinions on subjects. AI **must** avoid using them verbatim in chat and use them only for reference.]{{newline}}{{newline}}<speech_examples>{{newline}}{{getvar::speechExampleString}}{{newline}}</speech_examples>\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedSynonyms != '') and (parsedSynonyms != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Synonyms--/g\" replace=\"{{newline}}{{newline}}- - -{{newline}}{{newline}}## SYNONYMS{{newline}}[IMPORTANT NOTE FOR AI: This section lists synonymous phrases to substitute the character's name or pronouns to avoid repetition.]{{newline}}{{getvar::parsedSynonyms}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedSynonyms == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Synonyms--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ( (parsedStoryPlan != '') and (parsedStoryPlan != 'None') ){:\n\t/messages names=off 0|\n\t/re-replace find=\"/--StoryPlan--/g\" replace=\"{{newline}}{{newline}}- - -{{newline}}{{newline}}## PREMADE STORY PLAN{{newline}}{{getvar::parsedStoryPlan}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif (parsedStoryPlan == 'None' ) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--StoryPlan--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (previously != '') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Previously--/g\" replace=\"{{getvar::previously}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedNotes != '') and (parsedNotes != 'None')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Notes--/g\" replace=\"{{getvar::parsedNotes}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife (parsedNotes == 'None') {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--Notes--/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((user != '') and (user == 'Yes')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--User1--/g\" replace=\"--User--, \" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/elseif ((user != '') and (user != 'Yes')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--User1--,\\s/g\" replace=\"\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|\n/ife ((parsedWritingInstruct != '') and (parsedWritingInstruct != 'Nope')) {:\n\t/messages names=off 0|\n\t/re-replace find=\"/--WritingInstuctions--/g\" replace=\"{{getvar::parsedWritingInstruct}}\" {{pipe}}|\n\t/message-edit message=0 await=true {{pipe}}|\n:}|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":22,"icon":"","showLabel":false,"label":"Get Basic Type Context","title":"","message":"/ife ( (characterArchetype != 'Human') and (characterArchetype != 'Tauric') and (characterArchetype != 'Mythfolk') and (characterArchetype != 'Pokémon') and (characterArchetype != 'Digimon') and (characterArchetype != 'Android')){:\n\t/ife ( (characterType != 'Animalistic') and (characterType != 'None')) {:\n\t\t/addvar key=extra \"{{getvar::characterArchetype}} {{getvar::characterType}}\"|\n\t:}|\n\t/else {:\n\t\t/addvar key=extra \"{{getvar::characterArchetype}} Animalistic\"|\n\t:}|\n:}|\n/elseif (characterArchetype == 'Tauric') {:\n\t/addvar key=extra \"Tauric\"|\n:}|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""}],"idIndex":22}