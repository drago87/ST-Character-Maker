{"version":2,"name":"CMC Generate","disableSend":false,"placeBeforeInput":false,"injectInput":false,"color":"rgba(0, 0, 0, 0)","onlyBorderColor":false,"qrList":[{"id":2,"icon":"","showLabel":false,"label":"Step1 Generate Core Identity","title":"","message":"/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/let qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Core Identity\" {{pipe}}|\n\n/:\"CMC Logic.Get Char info\"|\n\n/setvar key=dataBaseNames []|\n/flushvar genSettings|\n\n/setvar key=stepVar Step1|\n\n/setvar key=skip Update|\n/ife ( stepDone == 'No') {:\n\t/buttons labels=[\"Skip\", \"Update\"] Do you want to skip or update already generated content? You will get a question for each already done if you select Update.|\n\t/setvar key=skip {{pipe}}|\n\t/ife ( skip == ''){:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n:}|\n\n/setvar key=stepDone No|\n\n\n//Character Overview|\n/let key=do {{noop}}|\n/let key=variableName {{noop}}|\n\n\n//Time Period|\n/var key=do No|\n/var key=variableName \"timePeriod\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book \"CMC Variables\"|\n\t/setvar key=genSettings index=wi_book_key \"Time Periods\"|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext No|\n\t\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/ife ( inputIsList == 'Yes') {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/ife ( combineLorebookEntries == 'Yes') {:\n\t\t\t/:\"CMC Logic.Combine List Lorebooks\"\n\t\t:}|\n\t\t/foreach {{getvar::genOrder}} {:\n\t\t\t/setvar key=it {{var::item}}|\n\t\t\t/getat index={{var::index}} {{var::genOrderContent}} |\n\t\t\t/var key=content {{pipe}}|\n\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t/ife (output != '') {:\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/ife (output != '') {:\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n//--------|\n/var key=do No|\n/var key=variableName \"settingType\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Setting Type\"|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext No|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/let key=wi_book_key {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/ife ( inputIsList == 'Yes') {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/ife ( combineLorebookEntries == 'Yes') {:\n\t\t\t/:\"CMC Logic.Combine List Lorebooks\"\n\t\t:}|\n\t\t/foreach {{getvar::genOrder}} {:\n\t\t\t/setvar key=it {{var::item}}|\n\t\t\t/getat index={{var::index}} {{getvar::genContent}}|\n\t\t\t/var key=content {{pipe}}|\n\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/setvar key=it {{var::wi_book_key}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n\t\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-------|\n\n//Race/Species|\n/ife ( (characterArchetype != 'Human') and (characterArchetype != 'Android')) {:\n\t/var key=do No|\n\t/var key=variableName \"species\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t\t/getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Species\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=genAmount 8|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=useContext No|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t/ife (characterArchetype == 'Mythfolk') {:\n\t\t\t/setvar key=speciesExamples Elf, Dwarf, Vampire, Succubus, Angel, Demon, Halfling, Fairy\n\t\t:}|\n\t\t/elseif ((characterArchetype != 'Pokémon') and (characterArchetype != 'Digimon')) {:\n\t\t\t\n\t\t\t/let key=find \"Reproductive {{getvar::animalBase}}: List\"|\n\t\t\t/findentry field=comment file=\"CMC Variables\" {{var::find}}|\n\t\t\t/getentryfield file=\"CMC Variables\" {{pipe}}| \n\t\t\t/let key=temp {{pipe}}|\n\t\t\t/split find=\"/---/\" {{var::temp}}|\n\t\t\t/var key=temp {{pipe}}|\n\t\t\t/setvar key=speciesExamples []|\n\t\t\t/ife (parsedAnimalType != animalBase) {:\n\t\t\t\t/foreach {{var::temp}} {:\n\t\t\t\t\t/re-replace find=\"/(\\s*\\([^)]*\\))/g\" replace=\"\" {{var::item}}|\n\t\t\t\t\t/let key=tempItem {{pipe}}|\n\t\t\t\t\t/ife (('general' not in tempItem)) {:\n\t\t\t\t\t\t/addvar key=speciesExamples {{var::tempItem}}|\n\t\t\t\t\t:}|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/foreach {{var::temp}} {:\n\t\t\t\t\t/re-replace find=\"/^([^\\(]+)/g\" replace=\"\" {{var::item}}|\n\t\t\t\t\t/addvar key=speciesExamples {{pipe}}|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/join {{getvar::speciesExamples}}|\n\t\t\t/setvar key=speciesExamples {{pipe}}|\n\t\t:}|\n\t\t/elseif (characterArchetype == 'Pokémon') {:\n\t\t\t/setvar key=speciesExamples \"Pikachu, Charizard, Bulbasaur, Squirtle, Jigglypuff, Mewtwo, Eevee, Gengar, Lucario, Snorlax\"|\n\t\t:}|\n\t\t/elseif (characterArchetype == 'Digimon') {:\n\t\t\t/setvar key=speciesExamples \"Agumon, Gabumon, Patamon, Gatomon, Greymon, Garurumon, Angemon, Tentomon, Biyomon, Omnimon\"|\n\t\t:}|\n\t\t\n\t\t/ife ((characterArchetype == 'Anthropomorphic') or (characterArchetype == 'Beastkin') or (characterArchetype == 'Animalistic')) {:\n\t\t    /setvar key=formattedSpeciesDescriptor \"a {{getvar::parsedAnimalType}} character\"|\n\t\t:}|\n\t\t/elseif (characterArchetype == 'Tauric') {:\n\t\t    /setvar key=formattedSpeciesDescriptor \"a Tauric {{getvar::parsedAnimalType}} character\"|\n\t\t:}|\n\t\t/elseif (characterArchetype == 'Mythfolk') {:\n\t\t    /setvar key=formattedSpeciesDescriptor \"a fantasy humanoid character\"|\n\t\t:}|\n\t\t/elseif ((characterArchetype == 'Pokémon') or (characterArchetype == 'Digimon')) {:\n\t\t    /setvar key=formattedSpeciesDescriptor \"a {{getvar::characterArchetype}} inspired by a {{getvar::parsedAnimalType}}\"|\n\t\t:}|\n\t\t/else {:\n\t\t    /setvar key=formattedSpeciesDescriptor \"a {{getvar::characterArchetype}} {{getvar::parsedAnimalType}} character\"|\n\t\t:}|\n\t\t\n\t\t/setvar key=speciesInstruction {{noop}}|\n\n\t\t/ife ((characterArchetype == 'Anthropomorphic') or (characterArchetype == 'Beastkin') or (characterArchetype == 'Animalistic')) {:\n\t\t\t/setvar key=speciesInstruction \"Return a common, real-world animal type in singular form (e.g., Dog, Fox, Tiger).\"|\n\t\t:}|\n\t\t/elseif (characterArchetype == 'Tauric') {:\n\t\t\t/setvar key=speciesInstruction \"Return a real-world or mythic animal that could suit a centaur-like body (e.g., Horse, Panther, Dragon).\"|\n\t\t:}|\n\t\t/elseif (characterArchetype == 'Mythfolk') {:\n\t\t\t/setvar key=speciesInstruction \"Return a mythological or fantasy humanoid type in singular form (e.g., Elf, Vampire, Succubus).\"|\n\t\t:}|\n\t\t/elseif (characterArchetype == 'Pokémon') {:\n\t\t\t/setvar key=speciesInstruction \"Return a canonical Pokémon species name (e.g., Pikachu, Lucario, Eevee).\"|\n\t\t:}|\n\t\t/elseif (characterArchetype == 'Digimon') {:\n\t\t\t/setvar key=speciesInstruction \"Return a canonical Digimon species name (e.g., Agumon, Gatomon, Greymon).\"|\n\t\t:}|\n\t\t\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife (outputIsList == 'Yes') {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/ife (output != '') {:\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=species Human|\n\t/addvar key=dataBaseNames species|\n:}|\n//-----------|\n\n/ife (((setBreed == '') or (skip == 'Update')) and (characterArchetype != 'Human') and (characterArchetype != 'Android')) {:\n\t/buttons labels=[\"Yes\", \"No\"] Do you want to so set the breed of the character?|\n\t/setvar key=setBreed {{pipe}}|\n\t/ife (setBreed == '') {:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n:}|\n\n//Breed|\n/ife ( (characterArchetype != 'Human') and (characterArchetype != 'Android') and (setBreed == 'Yes')) {:\n\t/var key=do No|\n\t/var key=variableName \"breed\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t\t/getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Breed\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=genAmount 8|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=useContext No|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t/*\n\t\t/ife (characterArchetype == 'Mythfolk') {:\n\t\t\t/setvar key=speciesExamples Elf, Dwarf, Vampire, Succubus, Angel, Demon, Halfling, Fairy\n\t\t:}|\n\t\t/elseif ((characterArchetype != 'Pokémon') and (characterArchetype != 'Digimon')) {:\n\t\t\t\n\t\t\t/let key=find \"Reproductive {{getvar::animalBase}}: List\"|\n\t\t\t/findentry field=comment file=\"CMC Variables\" {{var::find}}|\n\t\t\t/getentryfield file=\"CMC Variables\" {{pipe}}| \n\t\t\t/let key=temp {{pipe}}|\n\t\t\t/split find=\"/---/\" {{var::temp}}|\n\t\t\t/var key=temp {{pipe}}|\n\t\t\t/setvar key=speciesExamples []|\n\t\t\t/ife (parsedAnimalType != animalBase) {:\n\t\t\t\t/foreach {{var::temp}} {:\n\t\t\t\t\t/re-replace find=\"/(\\s*\\([^)]*\\))/g\" replace=\"\" {{var::item}}|\n\t\t\t\t\t/let key=tempItem {{pipe}}|\n\t\t\t\t\t/ife (('general' not in tempItem)) {:\n\t\t\t\t\t\t/addvar key=speciesExamples {{var::tempItem}}|\n\t\t\t\t\t:}|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/foreach {{var::temp}} {:\n\t\t\t\t\t/re-replace find=\"/^([^\\(]+)/g\" replace=\"\" {{var::item}}|\n\t\t\t\t\t/addvar key=speciesExamples {{pipe}}|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/join {{getvar::speciesExamples}}|\n\t\t\t/setvar key=speciesExamples {{pipe}}|\n\t\t:}|\n\t\t/elseif (characterArchetype == 'Pokémon') {:\n\t\t\t/setvar key=speciesExamples \"Pikachu, Charizard, Bulbasaur, Squirtle, Jigglypuff, Mewtwo, Eevee, Gengar, Lucario, Snorlax\"|\n\t\t:}|\n\t\t/elseif (characterArchetype == 'Digimon') {:\n\t\t\t/setvar key=speciesExamples \"Agumon, Gabumon, Patamon, Gatomon, Greymon, Garurumon, Angemon, Tentomon, Biyomon, Omnimon\"|\n\t\t:}|\n\t\t*|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife (outputIsList == 'Yes') {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/ife (output != '') {:\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=breed None|\n\t/addvar key=dataBaseNames breed|\n:}|\n//-----------|\n\n/ife ((characterArchetype == 'Mythfolk') and (animalBase == 'None')) {:\n\t/setvar key=animalBase {{getvar::species}}|\n\t/addvar key=dataBaseNames animalBase|\n\t/ife ( ((gender == 'Female') or (futanari == 'Yes')) and (privatesFemale != 'None') ) {:\n\t\t/setvar key=privatesFemale {{getvar::species}}|\n\t\t/addvar key=dataBaseNames privatesFemale|\n\t:}|\n\t/ife ( ((gender == 'Male') or (futanari == 'Yes')) and (privatesFemale != 'None') ) {:\n\t\t/setvar key=privatesMale {{getvar::species}}|\n\t\t/addvar key=dataBaseNames privatesMale|\n\t:}|\n:}|\n\n\n/ife ( (characterArchetype != 'Anthropomorphic') and (characterArchetype != 'Beastkin') and (characterArchetype != 'Animalistic') and (characterArchetype != 'Pokémon') and (characterArchetype != 'Digimon')) {:\n\t//Nationality|\n\t/var key=do No|\n\t/var key=variableName \"nationality\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Nationalities\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife (outputIsList == 'Yes') {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/ife (output != '') {:\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//-----------|\n\n\n\n\t//Ethnicity|\n\t/var key=do No|\n\t/var key=variableName \"ethnicity\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Ethnicities\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=genAmount 8|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife (outputIsList == 'Yes') {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//-----------|\n\t\n\t/ife ((( nationality != '') and ( nationality != 'None')) and (( ethnicity != '') and ( ethnicity != 'None'))) {:\n\t\t/let key=find Origin1: Task|\n\t\t/findentry field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t\t/getentryfield field=content file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{pipe}}|\n\t\t/let key=task|\n\t\t/var key=find Origin1: Instruction|\n\t\t/findentry field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t\t/getentryfield field=content file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{pipe}}|\n\t\t/let key=instruct|\n\t\t/genraw \"{{var::task}}{{newline}}{{newline}}{{var::instruct}}\"|\n\t\t/setvar key=parsedOrigin {{pipe}}|\n\t:}|\n\t/elseif ((( nationality != '') and ( nationality != 'None')) and (( ethnicity == '') or ( ethnicity == 'None'))) {:\n\t\t/let key=find Origin2: Task|\n\t\t/findentry field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t\t/getentryfield field=content file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{pipe}}|\n\t\t/let key=task|\n\t\t/var key=find Origin2: Instruction|\n\t\t/findentry field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t\t/getentryfield field=content file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{pipe}}|\n\t\t/let key=instruct|\n\t\t/genraw \"{{var::task}}{{newline}}{{newline}}{{var::instruct}}\"|\n\t\t/setvar key=parsedOrigin {{pipe}}|\n\t:}|\n\t/elseif ((( ethnicity != '') and ( ethnicity != 'None')) and (( nationality == '') or ( nationality == 'None'))) {:\n\t\t/let key=find Origin3: Task|\n\t\t/findentry field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t\t/getentryfield field=content file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{pipe}}|\n\t\t/let key=task|\n\t\t/var key=find Origin3: Instruction|\n\t\t/findentry field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t\t/getentryfield field=content file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{pipe}}|\n\t\t/let key=instruct|\n\t\t/genraw \"{{var::task}}{{newline}}{{newline}}{{var::instruct}}\"|\n\t\t/setvar key=parsedOrigin {{pipe}}|\n\t:}|\n\t/else {:\n\t\t/setvar key=parsedOrigin None|\n\t:}|\n\t/addvar key=dataBaseNames parsedOrigin|\n\n:}|\n/elseif ( skip != 'Skip') {:\n\t/setvar key=nationality None|\n\t/setvar key=ethnicity None|\n\t/setvar key=parsedOrigin None|\n\t/addvar key=dataBaseNames nationality|\n\t/addvar key=dataBaseNames ethnicity|\n\t/addvar key=dataBaseNames parsedOrigin|\n:}|\n/else {:\n\t/addvar key=dataBaseNames nationality|\n\t/addvar key=dataBaseNames ethnicity|\n\t/addvar key=dataBaseNames parsedOrigin|\n:}|\n\n//Life stage|\n/var key=do No|\n/var key=variableName \"lifeStage\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/ife ( characterArchetype != 'Animalistic') {:\n\t\t/setvar key=genSettings index=wi_book_key \"Life Stage Humanoid\"|\n\t:}|\n\t/else {:\n\t\t/setvar key=genSettings index=wi_book_key \"Life Stage Animalistic\"|\n\t:}|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext No|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/let key=wi_book_key {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/ife ( inputIsList == 'Yes') {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/ife ( combineLorebookEntries == 'Yes') {:\n\t\t\t/:\"CMC Logic.Combine List Lorebooks\"\n\t\t:}|\n\t\t/foreach {{getvar::genOrder}} {:\n\t\t\t/setvar key=it {{var::item}}|\n\t\t\t/getat index={{var::index}} {{var::genOrderContent}} |\n\t\t\t/setvar key=genSettings index=content {{pipe}}|\n\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t/ife (output != '') {:\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/ife (output != '') {:\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-------|\n\n\n\n//Age|\n/var key=do No|\n/var key=variableName \"age\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Age Gen\"|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext Yes|\n\t/ife ( characterArchetype != 'Animalistic') {:\n\t\t/setvar key=genSettings index=contextKey [\"Life Stage Humanoid\"]|\n\t:}|\n\t/else {:\n\t\t/setvar key=genSettings index=contextKey [\"Life Stage Animalistic\"]|\n\t:}|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t\n\t\n\t/ife (outputIsList == 'Yes') {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/ife (output != '') {:\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n/ife ((humanEquivalentAge == age) and (age != '')) {:\n\t/setvar key=parcedAge {{getvar::age}} years-old|\n:}|\n/elseif ((humanEquivalentAge != '') and (humanEquivalentAge != 'None') and (humanEquivalentAge != age)) {:\n\t/setvar key=parcedAge {{getvar::age}} years-old — roughly {{getvar::humanEquivalentAge}} years-old in human years.|\n:}|\n/else (age != '') {:\n\t/setvar key=parcedAge {{getvar::age}} years-old|\n:}|\n\n//Race Age|\n/ife ( characterArchetype != 'Human') {:\n\t/var key=do No|\n\t/var key=variableName \"humanEquivalentAge\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Age Species\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife (outputIsList == 'Yes') {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/ife (output != '') {:\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/elseif ( skip != 'Skip') {:\n\t/setvar key=humanEquivalentAge {{getvar::age}}|\n\t/addvar key=dataBaseNames humanEquivalentAge|\n:}|\n/else {:\n\t/addvar key=dataBaseNames humanEquivalentAge|\n:}|\n//-----------|\n\n//Parse character Age|\n/setvar key=parcedAge {{noop}}|\n/ife ((humanEquivalentAge == age) and (age != '')) {:\n\t/setvar key=parcedAge {{getvar::age}} years-old|\n:}|\n/elseif ((humanEquivalentAge != '') and (humanEquivalentAge != 'None') and (humanEquivalentAge != age)) {:\n\t/setvar key=parcedAge {{getvar::age}} years-old — roughly {{getvar::humanEquivalentAge}} years-old in human years.|\n:}|\n/else (age != '') {:\n\t/setvar key=parcedAge {{getvar::age}} years-old|\n:}|\n//-----------|\n\n//Parse character Species|\n/setvar key=parsedSpecies {{noop}}|\n/ife ((characterType == 'None') or ( characterType ==  characterArchetype)) {:\n\t/setvar key=characterType {{noop}}|\n:}|\n/ife (characterArchetype == species) {:\n    /ife ((breed != 'None') and (breed != '')) {:\n        /setvar key=parsedSpecies \"{{getvar::species}} – {{getvar::breed}}\"|\n    :}|\n    /else {:\n        /setvar key=parsedSpecies \"{{getvar::species}}\"|\n    :}|\n:}|\n/else {:\n    /ife ((breed != 'None') and (breed != '')) {:\n        /setvar key=parsedSpecies \"{{getvar::characterArchetype}} {{getvar::species}} – {{getvar::breed}}\"|\n    :}|\n    /else {:\n        /setvar key=parsedSpecies \"{{getvar::characterArchetype}} {{getvar::species}}\"|\n    :}|\n:}|\n\n/ife ( real != 'Yes') {:\n\t//First Name|\n\t/var key=do No|\n\t/var key=variableName \"firstName\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"First Name\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=genAmount 8|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=useContext No|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t/ife (( nationality != 'None') and ( ethnicity != 'None')) {:\n\t\t\t4. Use {{getvar::nationality}} and/or {{getvar::ethnicity}} to influence cultural tone, spelling, or structure of the names when applicable — but do not include country names or descriptors in the output.\n\n\t\t:}|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t\n\t\t/ife (outputIsList == 'Yes') {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//-----------|\n\t\n\t\n\t\n\t//Last Name|\n\t/var key=do No|\n\t/var key=variableName \"lastName\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Last Name\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=genAmount 8|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t\n\t\t/ife (outputIsList == 'Yes') {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//-----------|\n:}|\n/ife ( lastName == 'None') {:\n\t/setvar key=lastName {{noop}}|\n:}|\n\n//Nickname|\n/var key=do No|\n/var key=variableName \"alias\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Nickname\"|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=genAmount 8|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=needOutput No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=genSettings index=contextKey []|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t\n\t\n\t/ife (outputIsList == 'Yes') {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n/ife ( nationality == '' ) {:\n\t/setvar key=nationality None|\n:}|\n/ife ( ethnicity == '' ) {:\n\t/setvar key=ethnicity None|\n:}|\n/ife ( lastName == '' ) {:\n\t/setvar key=lastName None|\n:}|\n\n/:\"CMC Logic.JEDParse\"|\n\n/:\"CMC Logic.Save DataBase\"|\n\n/setvar key=stepDone Yes|\n/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/var qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating World & Setting Information\" {{pipe}}|\n\n/setvar key=filename/setvar key=filename {{date}}, {{isotime}}|\n/re-replace find=\"/:/g\" replace=\"h\" {{pipe}}|\n/setvar key=filename {{pipe}}|\n/ife (lastName != 'None') {:\n\t/addvar key=filename \"m {{getvar::characterArchetype}} {{getvar::firstName}} {{getvar::lastName}}\"|\n:}|\n/else {:\n\t/addvar key=filename \"m {{getvar::characterArchetype}} {{getvar::firstName}}\"|\n:}|\n/sendas name={{char}} del|\n/renamechat {{getvar::filename}}|\n/del {{lastMessageId}}|\n/flushvar filename|\n/forcesave|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":4,"icon":"","showLabel":false,"label":"Step2 Generate World-Setting Information","title":"","message":"/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/let qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating World & Setting Information\" {{pipe}}|\n/:\"CMC Logic.Get Char info\"|\n\n/setvar key=dataBaseNames []|\n/flushvar genSettings|\n\n/setvar key=stepVar Step2|\n\n/setvar key=skip Update|\n/ife ( stepDone == 'No') {:\n\t/buttons labels=[\"Skip\", \"Update\"] Do you want to skip or update already generated content? You will get a question for each already done if you select Update.|\n\t/setvar key=skip {{pipe}}|\n\t/ife ( skip == ''){:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n:}|\n\n/setvar key=stepDone No|\n\n\n/let key=do {{noop}}|\n/let key=variableName {{noop}}|\n\n//Seasons|\n/var key=do No|\n/var key=variableName \"seasons\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Seasons\"|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=useContext No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput No|\n\t\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/ife ( inputIsList == 'Yes') {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/ife ( combineLorebookEntries == 'Yes') {:\n\t\t\t/:\"CMC Logic.Combine List Lorebooks\"|\n\t\t:}|\n\t\t/foreach {{getvar::genOrder}} {:\n\t\t\t/setvar key=it {{var::item}}|\n\t\t\t/getat index={{var::index}} {{getvar::genContent}} |\n\t\t\t/var key=content {{pipe}}|\n\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t/ife (output != '') {:\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/ife (output != '') {:\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n//World Tone|\n/var key=do No|\n/var key=variableName \"worldTone\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"World Tone\"|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext No|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/let key=wi_book_key {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/ife ( inputIsList == 'Yes') {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/ife ( combineLorebookEntries == 'Yes') {:\n\t\t\t/:\"CMC Logic.Combine List Lorebooks\"\n\t\t:}|\n\t\t/foreach {{getvar::genOrder}} {:\n\t\t\t/setvar key=it {{var::item}}|\n\t\t\t/getat index={{var::index}} {{var::genOrderContent}} |\n\t\t\t/setvar key=genSettings index=content {{pipe}}|\n\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t/ife (output != '') {:\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/ife (output != '') {:\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t\n\t:}|\n\t/flushvar output|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n//-----------|\n\n/ife (worldTone == 'Light') {:\n\t/setvar key=toneDescriptor \"{{getvar::worldTone}} — optimistic, stable, or nostalgic\"|\n:}|\n/elseif (worldTone == 'Bright') {:\n\t/setvar key=toneDescriptor \"{{getvar::worldTone}} — bold, adventurous, full of potential\"|\n:}|\n/elseif (worldTone == 'Neutral') {:\n\t/setvar key=toneDescriptor \"{{getvar::worldTone}} — descriptive and impartial\"|\n:}|\n/elseif (worldTone == 'Dark') {:\n\t/setvar key=toneDescriptor \"{{getvar::worldTone}} — conflicted, uncertain, and power-driven|\n:}|\n/elseif (worldTone == 'Bleak') {:\n\t/setvar key=toneDescriptor \"{{getvar::worldTone}} — dystopian, broken, and hopeless\"|\n:}|\n\n\n\n\n\n//World Type|\n/var key=do No|\n/var key=variableName \"worldType\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t\n\t/ife ((mostImportant == '') or (skip == 'Update')) {:\n\t\t/findentry field=comment file=\"CMC Variables\" \"Setting Scope Priority\"|\n\t\t/let key=wi_uid {{pipe}}|\n\t\t/getentryfield field=content file=\"CMC Variables\" {{var::wi_uid}}|\n\t\t/setvar key=settingScope {{pipe}}|\n\t\t/split find=\"---\" {{getvar::settingScope}}|\n\t\t/setvar key=settingScope {{pipe}}|\n\t\t\n\t\t/setvar key=mostImportant {{noop}}|\n\t\t/setvar key=middleImportant {{noop}}|\n\t\t/setvar key=leastImportant {{noop}}|\n\t\t\n\t\t/buttons labels={{getvar::settingScope}} <div>Select what you deeam most important for the world building.</div><div>Most important focus: Selecting</div><div>Secondary support: Not Selected</div><div>Least important (background only): Not Selected</div>|\n\t\t/setvar key=mostImportant {{pipe}}|\n\t\t/ife (mostImportant == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t    /else {:\n\t\t    /find index=true {{getvar::settingScope}} {:\n\t\t\t\t/test left={{var::item}} rule=eq right={{getvar::mostImportant}}|\n\t\t\t:}|\n\t\t\t/let key=i {{pipe}}|\n\t\t\t/splice delete=1 start={{var::i}} {{getvar::settingScope}}|\n\t\t\t/setvar key=settingScope {{pipe}}|\n\t\t:}|\n\t:}|\n\t\n\t/ife ((middleImportant == '') or (skip == 'Update')) {:\n\t\t/buttons labels={{getvar::settingScope}} <div>Select what you deeam as a secondary support for the world building.</div><div>Most important focus: {{getvar::mostImportant}}</div><div>Secondary support: Selecting</div><div>Least important (background only): Not Selected</div>|\n\t\t/setvar key=middleImportant {{pipe}}|\n\t\t/ife (middleImportant == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t    /else {:\n\t\t    /find index=true {{getvar::settingScope}} {:\n\t\t\t\t/test left={{var::item}} rule=eq right={{getvar::middleImportant}}|\n\t\t\t:}|\n\t\t\t/let key=i {{pipe}}|\n\t\t\t/splice delete=1 start={{var::i}} {{getvar::settingScope}}|\n\t\t\t/setvar key=settingScope {{pipe}}|\n\t\t:}|\n\t:}|\n\t\n\t/ife ((leastImportant == '') or (skip == 'Update')) {:\n\t\t/buttons labels={{getvar::settingScope}} <div>Select what you deeam as the important for the world building.</div><div>Most important focus: {{getvar::mostImportant}}</div><div>Secondary support: {{getvar::middleImportant}}</div><div>Least important (background only): Selecting</div>|\n\t\t/setvar key=leastImportant {{pipe}}|\n\t\t/ife (leastImportant == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t    /else {:\n\t\t    /find index=true {{getvar::settingScope}} {:\n\t\t\t\t/test left={{var::item}} rule=eq right={{getvar::leastImportant}}|\n\t\t\t:}|\n\t\t\t/let key=i {{pipe}}|\n\t\t\t/splice delete=1 start={{var::i}} {{getvar::settingScope}}|\n\t\t\t/setvar key=settingScope {{pipe}}|\n\t\t:}|\n\t:}|\n\t\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"World Type\"|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext No|\n\t/setvar key=genSettings index=contextKey {{noop}}|\n\t\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/ife (outputIsList == 'Yes') {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/ife (output != '') {:\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n//WorldDetails|\n/var key=do No|\n/var key=variableName \"worldDetails\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"World Details\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext No|\n\t/setvar key=genSettings index=contextKey {{noop}}|\n\t\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/ife (outputIsList == 'Yes') {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/ife (output != '') {:\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n//--User--'s Role|\n/var key=do No|\n/var key=variableName \"userRole\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"User Role\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- World Tone: {{getvar::toneDescriptor}}\"|\n\t/addvar key=extra \"- World Type: {{getvar::worldType}}\"|\n\t/addvar key=extra \"- World Details: {{getvar::worldDetails}}\"|\n\t/ife (user == 'No') {:\n\t\t/addvar key=extra \"--User-- is a Narrator\"|\n\t:}|\n\t\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t/buttons labels=[\"Male\", \"Female\", \"Gender Neutral\", \"Anything\"] What gender should the generation assume --User-- is?|\n\t/setvar key=userGender {{pipe}}|\n\t/ife ( userGender == ''){:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n\t/elseif (( userGender == 'Male') or ( userGender == 'Female')) {:\n\t\t/ife (userGender == 'Female') {:\n\t\t\t/setvar key=userSubjPronoun she|\n\t\t\t/setvar key=userObjPronoun her|\n\t\t\t/setvar key=userPossAdjPronoun her|\n\t\t\t/setvar key=userPossPronoun hers|\n\t\t\t/setvar key=userReflexivePronoun herself|\n\t\t:}|\n\t\t/elseif (userGender == 'Male') {:\n\t\t\t/setvar key=userSubjPronoun he|\n\t\t\t/setvar key=userObjPronoun him|\n\t\t\t/setvar key=userPossAdjPronoun his|\n\t\t\t/setvar key=userPossPronoun his|\n\t\t\t/setvar key=userReflexivePronoun himself|\n\t\t:}|\n\t\t/setvar key=userIdentityDescriptor \"--User-- is a {{getvar::userGender}}\"|\n\t:}|\n\t/elseif ( userGender == 'Gender Neutral') {:\n\t\t/setvar key=userSubjPronoun they|\n\t\t/setvar key=userObjPronoun them|\n\t\t/setvar key=userPossAdjPronoun their|\n\t\t/setvar key=userPossPronoun theirs|\n\t\t/setvar key=userReflexivePronoun themself|\n\t\t/setvar key=userIdentityDescriptor \"--User-- is gender neutral and should be described using neutral language and tone, avoiding gendered assumptions.\"\n\t:}|\n\t/elseif ( userGender == 'Anything') {:\n\t\t/setvar key=userSubjPronoun they|\n\t\t/setvar key=userObjPronoun them|\n\t\t/setvar key=userPossAdjPronoun their|\n\t\t/setvar key=userPossPronoun theirs|\n\t\t/setvar key=userReflexivePronoun themself|\n\t\t/setvar key=userIdentityDescriptor \"--User--’s gender is unspecified and should be described using flexible or inclusive language, avoiding gendered pronouns or assumptions.\"|\n\t:}|\n\t/findentry field=comment file=\"CMC Variables\" \"User Roles\"|\n\t/getentryfield field=content file=\"CMC Variables\" {{pipe}}|\n\t/let key=roles {{pipe}}|\n\t/split find=\"---\" {{var::roles}}|\n\t/setvar key=userRoles {{pipe}}|\n\t/addvar key=userRoles \"Manual Input\"|\n\t/var key=roles {{getvar::userRoles}}|\n\t/flushvar userRoles|\n\t/buttons labels={{var::roles}} Select the role you want --User-- to have in the story.|\n\t/setvar key=genRole {{pipe}}|\n\t/ife (genRole == 'Manual Input') {:\n\t\t/input default=\"{{getvar::firstName}}'s \" Write the role you want --User-- to have.|\n\t\t/setvar key=genRole {{pipe}}|\n\t:}|\n\t/ife (genRole != '') {:\n\t\t/setvar key=genRole \"--User-- is {{getvar::genRole}}\"|\n\t:}|\n\t\n\t/ife ((outputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n//Residence|\n/var key=do No|\n/var key=variableName \"residence\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Residence\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/ife (seasons != 'None') {:\n\t\t/addvar key=extra \"- Time Period: {{getvar::timePeriod}} — Season: {{getvar::seasons}}\"|\n\t:}|\n\t/else {:\n\t\t/addvar key=extra \"- Time Period: {{getvar::timePeriod}}\"|\n\t:}|\n\t/addvar key=extra \"- World Type: {{getvar::worldType}}\"|\n\t/addvar key=extra \"- World Details: {{getvar::worldDetails}}\"|\n\t/ife (user == 'Yes') {:\n\t\t/addvar key=extra \"- --User--'s Role: {{getvar::userRole}}\"|\n\t\t/setvar key=logicBasedInstruction \"- Only include --User-- in the description if their role implies shared or nearby living space — such as a family member they still live with, a roommate, or a close neighbor.{{newline}}- If --User-- is not part of the same household or residential area, do not reference them at all in this section.\"|\n\t:}|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/flushvar extra|\n\t/setvar key=genSettings index=contextKey []|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar logicBasedInstruction|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n//Occupation|\n/var key=do No|\n/var key=variableName \"occupationBase\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Occupation Base\"|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=genAmount 10|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Time Period: {{getvar::timePeriod}} —  World Type: {{getvar::worldType}}\"|\n\t/addvar key=extra \"- World Details: {{getvar::worldDetails}}\"|\n\t/addvar key=extra \"- Residence: {{getvar::residence}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|//Remove if not in use|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n\n/ife ( occupationBase != 'None') {:\n\t/var key=do No|\n\t/var key=variableName \"occupationDuties\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Occupation Duties\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Time Period: {{getvar::timePeriod}} —  World Type: {{getvar::worldType}}\"|\n\t\t/addvar key=extra \"- World Details: {{getvar::worldDetails}}\"|\n\t\t/addvar key=extra \"- Residence: {{getvar::residence}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/flushvar extra|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t\n\t/var key=do No|\n\t/var key=variableName \"occupationSkills\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Occupation Skills\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput No|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Occupation: {{getvar::occupationBase}}\"|\n\t\t/addvar key=extra \"- Duties: {{getvar::occupationDuties}}\"|\n\t\t/addvar key=extra \"- Time Period: {{getvar::timePeriod}} —  World Type: {{getvar::worldType}}\"|\n\t\t/addvar key=extra \"- World Details: {{getvar::worldDetails}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/flushvar extra|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t//-----------|\n\t\n\t\n\t/findentry field=comment file=\"CMC Templates\" \"Occupation Template\"|\n\t/let key=wi_uid {{pipe}}|\n\t/getentryfield field=content file=\"CMC Templates\" {{var::wi_uid}}|\n\t/let key=template {{pipe}}|\n\t/ife (occupationSkills != 'None') {:\n\t\t/re-replace find=\"/--OccupationSkills--/g\" replace=\"{{newline}}  - Skills: {{getvar::occupationSkills}}\" {{var::template}}|\n\t\t/setvar key=parsedOccupation {{pipe}}|\n\t:}|\n\t/else {:\n\t\t/re-replace find=\"/--OccupationSkills--/g\" replace=\"\" {{var::template}}|\n\t\t/setvar key=parsedOccupation {{pipe}}|\n\t:}|\n\t\n\t /addvar key=dataBaseNames parsedOccupation|\n:}|\n/else {:\n\t/ife (occupationDuties == '') {:\n\t\t/buttons labels=[\"Unemployed\", \"Idle\", \"None\"] What type of unemployment do you want {{getvar::firstName}} to have? None will remove it from the generations.|\n\t\t/setvar key=parsedOccupation {{pipe}}|\n\t:}|\n\t/setvar key=occupationDuties None|\n\t/addvar key=dataBaseNames occupationDuties|\n\t/setvar key=occupationSkills None|\n\t/addvar key=dataBaseNames occupationSkills|\n\t\n\t/addvar key=dataBaseNames parsedOccupation|\n:}|\n\n\n//Lore|\n/ife (loreSelect == '') {:\n\t/buttons labels=[\"Yes\", \"No\"] Do you want to have Lore for the world?|\n\t/setvar key=loreSelect {{pipe}}|\n\t/ife (loreSelect == '') {:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n:}|\n/ife ( loreSelect == 'Yes') {:\n\t/var key=do No|\n\t/var key=variableName \"lore\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Lore\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/ife (seasons != '') {:\n\t\t\t/addvar key=extra \"- Time/Period: {{getvar::timePeriod}} — {{getvar::seasons}}\"|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=extra \"- Time/Period: {{getvar::timePeriod}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- World Type: {{getvar::worldType}}\"|\n\t\t/addvar key=extra \"- World Details: {{getvar::worldDetails}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/flushvar extra|\n\t\t/setvar key=genSettings index=contextKey {{noop}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=combineLorebookEntries|\n\t\t/let key=combineLorebookEntries {{pipe}}|\n\t\t\n\t\t\n\t\t/ife (outputIsList == 'Yes') {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t\n\t\t\n\t\t\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=lore None|\n\t/addvar key=dataBaseNames lore|\n\t/flushvar selected_btn|\n:}|\n//-----------|\n\n\n//Backstory|\n/var key=do No|\n/var key=variableName \"backstory\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Backstory\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/ife (seasons != 'None') {:\n\t\t/addvar key=extra \"- Time Period: {{getvar::timePeriod}} — Season: {{getvar::seasons}}\"|\n\t:}|\n\t/else {:\n\t\t/addvar key=extra \"- Time Period: {{getvar::timePeriod}}\"|\n\t:}|\n\t/addvar key=extra \"- World Type: {{getvar::worldType}}\"|\n\t/addvar key=extra \"- World Details: {{getvar::worldDetails}}\"|\n\t/ife (user == 'Yes') {:\n\t\t/addvar key=extra \"- --User--'s Role: {{getvar::userRole}}\"|\n\t:}|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|//Remove if not in use|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t\n\t\n\t\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n//Character Overview|\n/var key=do No|\n/var key=variableName \"characterOverview\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/buttons labels=[\"User Input\", \"No Input\"] Do you want to have to it generate a Character Overview by itself (You can still give it some guidance) or do you want to give it something to work from?|\n\t/let key=choice {{pipe}}|\n\t/ife (choice == '') {:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n\t/ife (choice == 'User Input') {:\n\t\t/input default=\"Example: She's a quiet but observant teen who often sketches in the margins of her notebooks. She's not confrontational, but notices everything — and tends to show up when people least expect it.\"\n<div>What is this character like in daily life?</div><div>How would others describe them?</div>|\n\t\t/setvar key=characterOverviewIde {{pipe}}|\n\t\t/setvar key=genSettings index=wi_book_key \"Character Overview User\"|\n\t:}|\n\t/else {:\n\t\t/setvar key=genSettings index=wi_book_key \"Character Overview Create\"|\n\t:}|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext No|\n\t/setvar key=extra []|\n\t/ife (parsedOccupation != 'None') {:\n\t\t/addvar key=extra \"{{getvar::parsedOccupation}}\"|\n\t:}|\n\t/addvar key=extra \"- Residence: {{getvar::residence}}\"|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t/ife (variable == 'conent') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Rule\"|\n\t\t\n\t:}|\n\t\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t\n\t/setvar key=genSettings index=guidencePrompt **GUIDANCE:**{{newline}}**Use** the following as a conceptual anchor or inspirational seed. It reflects the emotional tone, world logic, and personality direction that {{getvar::firstName}} is built around. You **must** honor the purpose and atmosphere suggested — but do **not** copy phrasing or summarize directly.{{newline}}{{newline}}|\n\t\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/let key=tempOutputList []|\n\t\t/foreach {{getvar::CHANGE_REMOVE_THIS}} {:\n\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/len {{var::tempOutputList}}|\n\t\t\t/var key=tempOutputList index={{pipe}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t:}|\n\t\t/foreach {{tempOutputList}} {:\n\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t:}|\n\t\t/flushvar {{var::variableName}}Item|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n//Scenario Overview|\n/var key=do Yes|\n/var key=variableName \"scenarioOverview\"|\n/ife ( {{var::variableName}} != '') {:\n\t/buttons labels=[\"Yes\", \"No\"] Do you want to redo {{var::variableName}}|\n\t/var key=do {{pipe}}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t\n\t/setvar key=genSettings {}|\n\t/buttons labels=[\"User Input\", \"No Input\"] Do you want to have to it generate a Scenario Overview by itself (You can still give it some guidence) or do you want to give it something to work from?|\n\t/let key=choice {{pipe}}|\n\t/ife (choice == '') {:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n\t/ife (choice == 'User Input') {:\n\t\t/input default=\"Example: --User-- is a neighbor of {{getvar::firstName}} and is often hired by {{getvar::firstName}}'s parents to babysit {{getvar::firstName}}, which has led to [...]\" <div>What is this scenario about?</div><div>What is the main idea?</div>|\n\t\t/setvar key=scenarioIde {{pipe}}|\n\t\t/setvar key=genSettings index=wi_book_key \"Scenario User\"|\n\t:}|\n\t/else {:\n\t\t/setvar key=genSettings index=wi_book_key \"Scenario Create\"|\n\t:}|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/ife (seasons != 'None') {:\n\t\t/addvar key=extra \"- Time Period: {{getvar::timePeriod}} — Season: {{getvar::seasons}}\"|\n\t:}|\n\t/else {:\n\t\t/addvar key=extra \"- Time Period: {{getvar::timePeriod}}\"|\n\t:}|\n\t/addvar key=extra \"- World Type: {{getvar::worldType}}\"|\n\t/addvar key=extra \"- World Details: {{getvar::worldDetails}}\"|\n\t/addvar key=extra \"- Residence: {{getvar::residence}}\"|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/ife (user == 'Yes') {:\n\t\t/addvar key=extra \"- --User--'s Role: {{getvar::userRole}}\"|\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/ife (inputIsList =='Scenario User') {:\n\t\t\t/setvar key=logicBasedInstruction \"- Any mention of user should be replaced with '--User--'.{{newline}}- Consider how the --User--'s Role ({{getvar::userRole}}) influences the character’s tone, visibility, or behavior — are they being watched, admired, judged, or misunderstood?\"|\n\t\t:}|\n\t\t/elseif (inputIsList =='Scenario Create') {:\n\t\t\t/setvar key=logicBasedInstruction \"- Introduce a conflict, discovery, or dynamic involving --User-- if applicable, but do not assign them a name or alias.{{newline}}- Always refer to them as --User--, not by a proper name or description. Maintain placeholder syntax exactly.{{newline}}- Consider how the --User--'s Role ({{getvar::userRole}}) influences the character’s tone, visibility, or behavior — are they being watched, admired, judged, or misunderstood?\"|\n\t\t:}|\n\n\t:}|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/flushvar extra|\n\t/setvar key=genSettings index=contextKey {{noop}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/ife (outputIsList == 'Yes') {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t\n\t/setvar key=genSettings index=guidencePrompt **GUIDANCE:**{{newline}}**Use** the following as a scene-setting compass for the scenario. It represents key tone, logic, and world context that must shape the moment. Whether expanding or generating a new scene, you **must** align with its intent — but do **not** reuse or copy phrases directly:{{newline}}{{newline}}|\n\t\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/ife (output != '') {:\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar logicBasedInstruction|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n//-----------|\n\n/:\"CMC Logic.JEDParse\"|\n\n/:\"CMC Logic.Save DataBase\"|\n\n/setvar key=stepDone Yes|\n/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/var qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Appearance & Anatomy\" {{pipe}}|\n/forcesave|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":6,"icon":"","showLabel":false,"label":"Step3 Generate Appearance-Anatomy","title":"","message":"/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/let qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Appearance & Anatomy\" {{pipe}}|\n\n/:\"CMC Logic.Get Char info\"|\n\n/setvar key=dataBaseNames []|\n/flushvar genSettings|\n\n/setvar key=stepVar Step3|\n\n\n/setvar key=skip Update|\n/ife ( stepDone == 'No') {:\n\t/buttons labels=[\"Skip\", \"Update\"] Do you want to skip or update already generated content? You will get a question for each already done if you select Update.|\n\t/setvar key=skip {{pipe}}|\n\t/ife ( skip == ''){:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n:}|\n\n/setvar key=stepDone No|\n\n/let key=do {{noop}}|\n/let key=variableName {{noop}}|\n/let selected_btn {{noop}}|\n\n/ife (unitType == '') {:\n\t/buttons labels=[\"Metric\", \"Imperial\"] What type of measuring system do you want to use during these generations?|\n\t/setvar key=unitType {{pipe}}|\n\t/ife ( unitType == ''){:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n:}|\n\n/ife ((characterArchetype == 'Anthropomorphic') or (characterArchetype == 'Beastkin') or (characterArchetype == 'Animalistic') or (characterArchetype == 'Pokémon') or (characterArchetype == 'Digimon')) {:\n\t/ife (coveringType == '') {:\n\t\t/setvar key=coveringType [\"Skin\", \"Fur\", \"Scale\", \"Feather\"]|\n\t\t/buttons labels={{getvar::coveringType}} \"Select the type of covering {{getvar::firstName}} should have.\"|\n\t\t/setvar key=coveringType {{pipe}}|\n\t\t/ife (coveringType == '') {:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t:}|\n:}|\n\n//**Features**|\n/var key=do No|\n/var key=variableName \"appearanceFeatures\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/ife ((characterArchetype == 'Human') or (characterArchetype == 'Android')) {:\n\t\t/setvar key=genSettings index=wi_book_key \"Appearance Features Humanoid\"|\n\t:}|\n\t/else {:\n\t\t/setvar key=genSettings index=wi_book_key \"Appearance Features Other\"|\n\t:}|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=needOutput No|\n\t/setvar key=genSettings index=outputIsList Yes|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Species Group: {{getvar::speciesGroup}}\"|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n/ife ((appearanceFeatures != 'None') and (appearanceFeatures != '')) {:\n\t//Features Type|\n\t/var key=do No|\n\t/var key=variableName \"appearanceFeaturesTypes\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Appearance Features Type\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput No|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Species Group: {{getvar::speciesGroup}}\"|\n\t\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/let key=tempOutputList []|\n\t\t\t/foreach {{getvar::appearanceFeatures}} {:\n\t\t\t\t/setvar key=feature {{var::item}}|\n\t\t\t\t/setvar key=genSettings index=buttonPrompt Is this the feature type you want for the {{getvar::feature}}?|\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/len {{var::tempOutputList}}|\n\t\t\t\t/var key=tempOutputList index={{pipe}} {{getvar::output}}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar guidance|\n\t\t\t:}|\n\t\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t\t:}|\n\t\t\t/flushvar {{var::variableName}}Item|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//-----------|\n\t\n\t//Features Placement|\n\t\n\t/var key=do No|\n\t/var key=variableName \"appearanceFeaturesPlacements\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Appearance Features Placement\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Species Group: {{getvar::speciesGroup}}\"|\n\t\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/let key=tempOutputList []|\n\t\t\t/foreach {{getvar::appearanceFeatures}} {:\n\t\t\t\t/setvar key=feature {{var::item}}|\n\t\t\t\t/getvar key=appearanceFeaturesTypes index={{var::index}}|\n\t\t\t\t/setvar key=featureType {{pipe}}|\n\t\t\t\t/ife (featureType == 'None') {:\n\t\t\t\t\t/setvar key=featureType {{noop}}|\n\t\t\t\t:}|\n\t\t\t\t/else {:\n\t\t\t\t\t/setvar key=featureType \"Let the phrasing be influenced by its {{getvar::featureType}} form.\"\n\t\t\t\t:}|\n\t\t\t\t/setvar key=genSettings index=buttonPrompt Is this the feature placement you want for the {{getvar::feature}}?|\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/len {{var::tempOutputList}}|\n\t\t\t\t/var key=tempOutputList index={{pipe}} {{getvar::output}}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar guidance|\n\t\t\t\t/flushvar featureType|\n\t\t\t\t/flushvar featureDescription|\n\t\t\t:}|\n\t\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t\t:}|\n\t\t\t/flushvar {{var::variableName}}Item|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//-----------|\n\t\n\t//Features Description|\n\t\n\t/var key=do No|\n\t/var key=variableName \"appearanceFeaturesDescriptions\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Appearance Features Description\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Species Group: {{getvar::speciesGroup}}\"|\n\t\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/let key=tempOutputList []|\n\t\t\t/foreach {{getvar::appearanceFeatures}} {:\n\t\t\t\t/setvar key=feature {{var::item}}|\n\t\t\t\t/getvar key=appearanceFeaturesTypes index={{var::index}}|\n\t\t\t\t/setvar key=featureType {{pipe}}|\n\t\t\t\t/ife (featureType == 'None') {:\n\t\t\t\t\t/setvar key=featureType {{noop}}|\n\t\t\t\t:}|\n\t\t\t\t/else {:\n\t\t\t\t\t/setvar key=featureType \", incorporating {{getvar::featureType}} if it adds clarity\"|\n\t\t\t\t:}|\n\t\t\t\t/getvar key=appearanceFeaturesPlacements index={{var::index}}|\n\t\t\t\t/setvar key=featuresPlacement {{pipe}}|\n\t\t\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\t\t\n\t\t\t\t/ife (featureType != '') {:\n\t\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t\t:}|\n\t\t\t\t\t/addvar key=logicBasedInstruction \"- Use any descriptive terms provided about the feature’s style, texture, or form naturally in the sentence. Do not label them or repeat the feature name.\"|\n\t\t\t\t\t\n\t\t\t\t:}|\n\t\t\t\t/setvar key=genSettings index=buttonPrompt Is this the feature description you want for the {{getvar::feature}}?|\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/len {{var::tempOutputList}}|\n\t\t\t\t/var key=tempOutputList index={{pipe}} {{getvar::output}}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar guidance|\n\t\t\t\t/flushvar logicBasedInstruction|\n\t\t\t:}|\n\t\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t\t:}|\n\t\t\t/flushvar {{var::variableName}}Item|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//-----------|\n:}|\n/else {:\n\t/setvar key=appearanceFeaturesTypes None|\n\t/addvar key=dataBaseNames appearanceFeaturesTypes|\n\t/setvar key=appearanceFeaturesPlacements None|\n\t/addvar key=dataBaseNames appearanceFeaturesPlacements|\n\t/setvar key=appearanceFeaturesDescriptions None|\n\t/addvar key=dataBaseNames appearanceFeaturesDescriptions|\n:}|\n\n/setvar key=parsedAppearanceFeatures {{noop}}|\n/ife ((appearanceFeatures != '') and (appearanceFeatures != 'None') and (appearanceFeatures is list)) {:\n\t/foreach {{getvar::appearanceFeatures}} {:\n\t\t/ife ( index > 0) {:\n\t\t\t/addvar key=parsedAppearanceFeatures \"{{newline}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=parsedAppearanceFeatures \"- Feature: {{var::item}}\"|\n\t\t/getvar key=appearanceFeaturesTypes index={{var::index}}|\n\t\t/let key=aType {{pipe}}|\n\t\t/ife (aType != 'None') {:\n\t\t\t/addvar key=parsedAppearanceFeatures \"{{newline}}  - {{var::item}} Type: {{var::aType}}\"|\n\t\t:}|\n\t\t/getvar key=appearanceFeaturesPlacements index={{var::index}}|\n\t\t/addvar key=parsedAppearanceFeatures \"{{newline}}  - {{var::item}} Placement: {{pipe}}\"|\n\t\t/getvar key=appearanceFeaturesDescriptions index={{var::index}}|\n\t\t/addvar key=parsedAppearanceFeatures \"{{newline}}  - {{var::item}} Description: {{pipe}}\"|\n\t:}|\n:}|\n/else {:\n\t/setvar key=parsedAppearanceFeatures None|\n\t/addvar key=dataBaseNames parsedAppearanceFeatures|\n:}|\n\n\n/ife ( ((characterArchetype == 'Animalistic') or (characterArchetype == 'Pokémon') or (characterArchetype == 'Digimon') or (characterArchetype == 'Tauric')) and (lenghtHeight == '')) {:\n\t/buttons labels=[\"Length (Their body is horizontal or animal-like — e.g., snake, lizard, quadruped)\", \"Height (They stand upright like a human or humanoid)\", \"Both (They have both vertical and elongated traits — e.g., centaur, dragon)\"] <div>How should this character's body be measured?</div><div>Choose the option that best fits their physical structure:</div>|\n\t/setvar key=lenghtHeight {{pipe}}|\n\t/ife (lenghtHeight == '') {:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n\t/re-replace find=\"/\\s\\(.*$/g\" replace=\"\" {{getvar::lenghtHeight}}|\n\t/setvar key=lenghtHeight {{pipe}}|\n:}|\n\n//**Length**|\n\n/ife ((( lenghtHeight == 'Length') or ( lenghtHeight == 'Both')) and (((characterArchetype == 'Animalistic') or (characterArchetype == 'Pokémon') or (characterArchetype == 'Digimon') or (characterArchetype == 'Tauric')))) {:\n\t/var key=do No|\n\t/var key=variableName \"length\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Length\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Unit Type: {{getvar::unitType}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar key=genSettings index=contextKey []|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=length None|\n\t/addvar key=dataBaseNames length|\n:}|\n//-----------|\n\n//**Height**|\n/ife ((( lenghtHeight == 'Height') or ( lenghtHeight == 'Both')) or  (((characterArchetype != 'Animalistic') and (characterArchetype != 'Pokémon') and (characterArchetype != 'Digimon')))) {:\n\t/var key=do No|\n\t/var key=variableName \"height\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Height\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Unit Type: {{getvar::unitType}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar key=genSettings index=contextKey []|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=height None|\n\t/addvar key=dataBaseNames height|\n:}|\n\n//-----------|\n\n//**Face**|\n/var key=do No|\n/var key=variableName \"appearanceFace\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Appearance Face\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t/ife ((coveringType == 'Fur') or (coveringType == 'Scale') or (coveringType == 'Feather')) {:\n\t/setvar key=faceTaskColor \" , and color\"|\n\t/setvar key=faceRulesColor \"{{newline}}- Include visible **color** and specify which parts are each color if multiple shades are present.\"|\n\t:}|\n\t\n\t\n\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n//**Hair**|\n/var key=do No|\n/var key=variableName \"appearanceHair\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t\n\t/ife ((hairLenght == '') or (skip == 'Update')) {:\n\t\t/buttons labels=[\"Short\", \"Medium\", \"Long\", \"Extra Long\"] What lenght of hair to you want for {{getvar::firstName}}?|\n\t\t/setvar key=hairLenght {{pipe}}|\n\t\t/ife (hairLenght == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t\n\t/ife ((hairStyle == '') or (skip == 'Update')) {:\n\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set a hairstyle?|\n\t\t/var key=do {{pipe}}|\n\t\t/ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t    /elseif (do == 'Yes') {:\n\t\t    /findentry field=comment file=\"CMC Variables\" \"Hairstyles\"|\n\t\t    /let key=wi_uid {{pipe}}|\n\t\t    /getentryfield field=content file=\"CMC Variables\" {{var::wi_uid}}|\n\t\t    /setvar key=hairStyles \"Manual Input---{{pipe}}\"|\n\t\t    /split find=\"---\" {{getvar::hairStyles}}|\n\t\t    /setvar key=hairStyles {{pipe}}|\n\t\t    /buttons labels={{getvar::hairStyles}} Select the hairstyle you want for {{getvar::firstName}}|\n\t\t    /setvar key=hairStyleSelected {{pipe}}|\n\t\t    /ife (hairStyleSelected == '') {:\n\t\t        /echo Aborting |\n\t\t        /abort\n\t\t    :}|\n\t\t    /elseif (hairStyleSelected == 'Manual Input') {:\n\t\t\t    /input Write the hairstyle you want to use for {{getvar::firstName}}|\n\t\t\t    /setvar key=hairStyleSelected {{pipe}}|\n\t\t    :}|\n\t    :}|\n\t    /else {:\n\t\t    /setvar key=hairStyleSelected {{noop}}|\n\t    :}| \n\t:}|\n\t\n\t/ife (hairStyleSelected != '') {:\n\t\t/setvar key=hairStyle \"{{getvar::hairLengt}} length hair, styled in a {{getvar::hairStyleSelected}} hairdo\"|\n\t:}|\n\t/else {:\n\t\t/setvar key=hairStyle \"{{getvar::hairLengt}} length hair\"|\n\t:}|\n\t\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Appearance Hair\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Face Description: {{getvar::appearanceFace}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n//**Eyes**|\n/var key=do No|\n/var key=variableName \"appearanceEyes\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Appearance Eyes\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Face Description: {{getvar::appearanceFace}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n/ife ((characterArchetype == 'Anthropomorphic') or (characterArchetype == 'Beastkin') or (characterArchetype == 'Animalistic') or (characterArchetype == 'Pokémon') or (characterArchetype == 'Digimon')) {:\n\t\n\t/var key=do No|\n\t/var key=variableName \"coveringFront\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Covering Front\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=genAmount 8|\n\t\t/setvar key=genSettings index=inputIsList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\n\t\t/ife (variable == 'content') {:\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Rule\"|\n\t\t\t\n\t\t:}|\n\t\t/else {:\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Rule\"|\n\t\t:}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\n\t\t//setvar key=genSettings index=buttonPrompt CHANGE_THIS_PROMPT|\n\t\n\t\t//setvar key=genSettings index=guidencePrompt CHANGE_THIS_PROMPT|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t\n\t\n\t/var key=do No|\n\t/var key=variableName \"coveringSidesBack\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Covering Sides and Back\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=genAmount 8|\n\t\t/setvar key=genSettings index=inputIsList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\n\t\t/ife (variable == 'content') {:\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Rule\"|\n\t\t\t\n\t\t:}|\n\t\t/else {:\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Rule\"|\n\t\t:}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\n\t\t//setvar key=genSettings index=buttonPrompt CHANGE_THIS_PROMPT|\n\t\n\t\t//setvar key=genSettings index=guidencePrompt CHANGE_THIS_PROMPT|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t\n\t\n\t/var key=do No|\n\t/var key=variableName \"coveringArmsLegs\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Covering Arms and Legs\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=genAmount 8|\n\t\t/setvar key=genSettings index=inputIsList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\n\t\t/ife (variable == 'content') {:\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Rule\"|\n\t\t\t\n\t\t:}|\n\t\t/else {:\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Rule\"|\n\t\t:}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\n\t\t//setvar key=genSettings index=buttonPrompt CHANGE_THIS_PROMPT|\n\t\n\t\t//setvar key=genSettings index=guidencePrompt CHANGE_THIS_PROMPT|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=coveringFront None|\n\t/addvar key=dataBaseNames coveringFront|\n\t/setvar key=coveringSidesBack None|\n\t/addvar key=dataBaseNames coveringSidesBack|\n\t/setvar key=coveringArmsLegs None|\n\t/addvar key=dataBaseNames coveringArmsLegs|\n:}|\n\n/setvar key=parsedCovering {{noop}}|\n/ife (( coveringType != 'None') and ( coveringType != '')) {:\n\t/setvar key=parsedCovering \"- {{getvar::coveringType}} Pattern:{{newline}} - Front (Chest, Stomach, and Inner Thighs): {{getvar::coveringFront}}{{newline}} - Sides and Back: {{getvar::coveringSidesBack}}{{newline}} - Arms and Legs:  {{getvar::coveringArmsLegs}}\"\n:}|\n/else {:\n\t/setvar key=parsedCovering None|\n\t/addvar key=dataBaseNames parsedCovering|\n:}|\n\n//**Body**|\n\n\n/ife (gender == 'Female') {:\n\t/ife ((buttSize == '') or (skip == 'Update')) {:\n\t\t/buttons labels=[\"Small\", \"Normal\", \"Large\", \"Huge\"] What size is {{getvar::firstName}}'s butt?|\n\t\t/setvar key=buttSize {{pipe}}|\n\t\t/ife (buttSize == '') {:\n\t\t\t/echo Aborting |\n\t        /abort\n\t\t:}|\n\t:}|\n\t\n\t/ife ((hipsSize == '') or (skip == 'Update')) {:\n\t\t/buttons labels=[\"Small\", \"Normal\", \"Large\", \"Huge\"] What size is {{getvar::firstName}}'s hips?|\n\t\t/setvar key=hipsSize {{pipe}}|\n\t\t/ife (hipsSize == '') {:\n\t\t\t/echo Aborting |\n\t        /abort\n\t\t:}|\n\t:}|\n\t\n\t/ife ((thighsSize == '') or (skip == 'Update')) {:\n\t\t/buttons labels=[\"Small\", \"Normal\", \"Large\", \"Huge\"] What size is {{getvar::firstName}}'s thighs?|\n\t\t/setvar key=thighsSize {{pipe}}|\n\t\t/ife (thighsSize == '') {:\n\t\t\t/echo Aborting |\n\t        /abort\n\t\t:}|\n\t:}|\n:}|\n\n/var key=do No|\n/var key=variableName \"appearanceBody\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Appearance Body\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext No|\n\t/setvar key=extra []|\n\t/ife (appearanceFeatures != 'None') {:\n\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t:}|\n\t/ife (gender == 'Female') {:\n\t\t/addvar key=extra \"Butt Size: {{getvar::buttSize}}\"|\n\t\t/addvar key=extra \"Thighs Size: {{getvar::thighsSize}}\"|\n\t\t/addvar key=extra \"Hips Size: {{getvar::hipsSize}}\"|\n\t:}|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/ife (gender == 'Female') {:\n\t\t/setvar key=femaleBodyShapeRule \"{{newline}}- Include visible lower-body proportions such as butt size, thighs size, and hips size when describing the body.\"|\n\t:}|\n\t/else {:\n\t\t/setvar key=femaleBodyShapeRule {{noop}}|\n\t:}|\n\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t/ife (( characterArchetype == 'Human') or ( characterArchetype == 'Android')) {:\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Do not include tails, wings, hooves, digitigrade legs, animalistic limbs, or non-human anatomy. Use human structure only.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Describe only human anatomical structure — posture should be upright and bipedal, with no tails or animalistic features. Focus on general proportions and center of gravity if relevant.\"|\n\t\t\n\t:}|\n\t/elseif (( characterArchetype != 'Human') and ( characterArchetype != 'Android') and (appearanceFeatures != 'None')) {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- If '{{getvar::appearanceFeatures}}' includes non-human traits (e.g., tail, claws, digitigrade stance), describe how they affect posture, balance, or silhouette.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Incorporate any relevant non-human traits (e.g., tails, hooves, digitigrade legs) from '{{getvar::appearanceFeatures}}' into descriptions of balance, movement, or posture.\"|\n\t:}|\n\t/elseif (( characterArchetype != 'Human') and ( characterArchetype != 'Android') and (appearanceFeatures == 'None')) {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Use a species-appropriate body structure, but do not describe any extra non-human features unless clearly implied by species type.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Do not invent tails, claws, wings, or non-human limbs unless strongly implied by species type. Focus on body shape, stance, or balance based on general archetype alone.\"|\t\t\n\t:}|\n\t\n\t\n\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n/ife (gender == 'Female') {:\n\t//**Breasts**|\n\t/var key=do No|\n\t/var key=variableName \"appearanceBreasts\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t\n\t\t/ife ((breastSize == '') or (skip == 'Update')) {:\n\t\t\t/buttons labels=[\"Flat\", \"Small\", \"Medium\", \"Large\", \"Huge\"] What size is {{getvar::firstName}}'s Breasts?|\n\t\t\t/setvar key=breastSize {{pipe}}|\n\t\t\t/ife (breastSize == '') {:\n\t\t        /echo Aborting |\n\t\t        /abort\n\t\t    :}|\n\t\t:}|\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Appearance Breasts\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Body: {{getvar::appearanceBody}}\"|\n\t\t/addvar key=extra \"- Breast Size: {{getvar::breastSize}}\"|\n\t\t/ife ((appearanceFeatures != 'None') and ('Breast' in parsedAppearanceFeatures) or ('breast' in parsedAppearanceFeatures)) {:\n\t\t\t/addvar key=extra \"{{newline}}{{getvar::parsedAppearanceFeatures}}\"|\n\t\t:}|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\n\t\t/ife (characterArchetype == 'Tauric') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Breasts are located on the humanoid torso — do not describe them as part of the lower animal body.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif ((characterArchetype == 'Animalistic') and (speciesGroup != 'Fantasy')) {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Do not describe breasts — most realistic Animalistic species lack humanoid chest anatomy. Focus on muscular bulk or species-appropriate chest traits.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif ((characterArchetype == 'Animalistic') and ((speciesGroup == 'Fantasy') or (speciesGroup == 'Alien') or (speciesGroup == 'Demonic') or (speciesGroup == 'Mammal'))) {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Breasts may be described only if the species is explicitly humanoid or mammalian in design. Use anatomical framing consistent with fantasy physiology.\"|\n\t\t\t\n\t\t:}|\n\t\t\n\t\t\n\t\t\n\t\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\n//-----------|\n\n//**Nipples**|\n\t/var key=do No|\n\t/var key=variableName \"appearanceNipples\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Appearance Nipples\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Body: {{getvar::appearanceBody}}\"|\n\t\t/addvar key=extra \"- Breasts: {{getvar::appearanceBreasts}}\"|\n\t\t/ife ((appearanceFeatures != 'None') and ('nipple' in parsedAppearanceFeatures) or ('Nipple' in parsedAppearanceFeatures)) {:\n\t\t\t/addvar key=extra \"{{newline}}{{getvar::parsedAppearanceFeatures}}\"|\n\t\t:}|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\n\t\t/ife (characterArchetype == 'Tauric') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Nipples are placed on the humanoid upper torso. Do not describe any features on the lower animal body.\"|\n\t\t\t\n\t\t:}|\n\t\t/ife (( 'fur' in logicBasedInstruction) or ( 'Fur' in logicBasedInstruction)) {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Areolae may be partially obscured by fur or lightly visible beneath it. Use fur-based skin logic for color and contrast.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (( 'scales' in logicBasedInstruction) or ( 'Scales' in logicBasedInstruction)) {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Areolae may appear slightly raised or differently textured than surrounding scales. Coloration and contrast should match scaled coverage.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (( 'fur' not in logicBasedInstruction) and ( 'Fur' not in logicBasedInstruction) and ( 'scales' not in logicBasedInstruction) and ( 'Scales' not in logicBasedInstruction)) {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Use skin-based detail — focus on tone, contour, and texture. Keep all surface description rooted in visible, uncovered human-like anatomy.\"|\n\t\t\t\n\t\t:}|\n\t\t\n\t\t\n\t\t\n\t\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n//-----------|\n:}|\n/else {:\n\t/setvar key=appearanceBreasts None|\n\t/setvar key=appearanceNipples None|\n\t/addvar key=dataBaseNames appearanceBreasts|\n\t/addvar key=dataBaseNames appearanceNipples|\n:}|\n\n//**Pussy**|\n/var key=do No|\n/var key=variableName \"appearancePussy\"|\n/ife ((gender == 'Female') or (futanari == 'Yes')) {:\n\t\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/ife ((clitVisability == '') or (skip == 'Update')) {:\n\t\t\t/buttons labels=[\"Hidden\", \"Barely Visible\", \"Visible\", \"Visible and Prominent\"] Is {{getvar::firstName}}'s Clit Visible?|\n\t\t\t/setvar key=clitVisability {{pipe}}|\n\t\t\t/ife (clitVisability == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t\n\t\t/ife ((labiaMinoraVisability == '') or (skip == 'Update')) {:\n\t\t\t/buttons labels=[\"Hidden\", \"Visible\", \"Visible and Prominent\"] Is {{getvar::firstName}}'s Labia Minora Visible?|\n\t\t\t/setvar key=labiaMinoraVisability {{pipe}}|\n\t\t\t/ife (labiaMinoraVisability == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t\n\t\t/ife ((labiaMajoraFullness == '') or (skip == 'Update')) {:\n\t\t\t/buttons labels=[\"Smooth\", \"Softly contoured\", \"Puffy\", \"Full and pronounced\"] How would you describe the natural shape or fullness of {{getvar::firstName}}’s labia majora?|\n\t\t\t/setvar key=labiaMajoraFullness {{pipe}}|\n\t\t\t/ife (labiaMajoraFullness == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t\n\t\t/ife ((pussyState == '') or (skip == 'Update')) {:\n\t\t\t/buttons labels=[\"Closed slit\", \"Slightly parted\", \"Neutrally open\", \"Fuller and gently parted\"] How would you describe the natural openness of {{getvar::firstName}}’s labia majora?|\n\t\t\t/setvar key=pussyState {{pipe}}|\n\t\t\t/ife (pussyState == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t\n\t\t/ife ((pubicHair == '') or (skip == 'Update')) {:\n\t\t\t/buttons labels=[\"Smooth\", \"Shaven with stubble\", \"Unshaven and bushy\", \"Trimmed\"] What is the status of {{getvar::firstName}}'s pubic hair?|\n\t\t\t/setvar key=pubicHair {{pipe}}|\n\t\t\t/ife (pubicHair == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Appearance Pussy\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Body: {{getvar::appearanceBody}}\"|\n\t\t/ife (appearanceFeatures != 'None') {:\n\t\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Female  Genital Type: {{getvar::privatesFemale}}\"|\n\t\t/addvar key=extra \"- Species Group: {{getvar::speciesGroup}}\"|\n\t\t/addvar key=extra \"- Animal Base: {{getvar::animalBase}}\"|\n\t\t/addvar key=extra \"- Clit Visability: {{getvar::clitVisability}}\"|\n\t\t/addvar key=extra \"- Labia Minora Visability: {{getvar::labiaMinoraVisability}}\"|\n\t\t/addvar key=extra \"- Labia Majora Fullness: {{getvar::labiaMajoraFullness}}\"|\n\t\t/addvar key=extra \"- Labia Majora Openness: {{getvar::pussyState}}\"|\n\t\t/ife (futanari == 'Yes') {:\n\t\t\t/addvar key=extra \"Important: {{getvar::firstName}} is a futanari, so she has both a pussy and a cock.\"|\n\t\t:}|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\n\t\t/ife (futanari == 'Yes') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Only describe the vulva — do not mention or reference the cock, even by proximity.\"|\n\t\t\t\n\t\t:}|\n\t\t/ife (privatesFemale == 'Mammal') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- The vulva may include outer and inner lips, a visible slit, or light pubic hair or fur. Use anatomical terms like “folds,” “cleft,” or “labia” as appropriate.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (privatesFemale == 'Reptile') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- The slit may appear smooth, scaled, or slightly ridged. Do not describe fur, hair, or soft fleshy folds. Placement may be flush with surrounding scale plates.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (privatesFemale == 'Bird') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- The vulva may be recessed or hidden beneath feathers. If the species uses a cloacal structure, describe it as smooth and integrated near the tail base. Avoid mammalian terminology.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (privatesFemale == 'Fish') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Use phrases like “smooth slit,” “recessed fold,” or “ventral placement.” Avoid fur or lip-based descriptions. The texture should reflect aquatic biology.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (privatesFemale == 'Amphibian') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- The vulva may be soft, moist-looking, and smooth-skinned. Avoid terms like fur, hair, or lips. Structure should appear simple and subtle.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (privatesFemale == 'Invertebrate') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Structure may appear segmented, chitinous, or soft-bodied. Use terms like “opening,” “ventral slit,” or “intersegmental ridge.” Avoid all mammalian descriptors.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (privatesFemale == 'Cephalopod') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- The vulva may appear smooth, ringed, or recessed between soft folds or tentacle bases. Avoid describing labia or lips unless the species is hybridized.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (privatesFemale == 'Synthetic') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- If the vulva is synthetic or sculpted, describe it as smooth, artificial, or bio-mimetic. Do not reference organic function, fluids, or reproductive cues.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (privatesFemale == 'Fantasy') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Vulva structure may include subtle magical, exotic, or hybrid traits — but keep all language anatomical and grounded. Avoid metaphor, emotion, or subjective tone.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (privatesFemale == 'Alien') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Vulva may appear asymmetrical, oddly colored, or biologically unique. Keep tone anatomical — do not invent behavior or function unless implied by the context.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif ( (privatesFemale == 'Feline') or (privatesFemale == 'Canine') or (privatesFemale == 'Ursine') or (privatesFemale == 'Leporidae') ) {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- You may describe soft fur or pubic hair around the vulva if the character’s surface features indicate fur. Do not use fur-related descriptors if none are present.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif ( (privatesFemale == 'Draconic') or (privatesFemale == 'Lacertilian') or (privatesFemale == 'Serpentine') or (privatesFemale == 'Crocodilian') ) {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- The vulva may be partially hidden by or integrated into scale patterns. Avoid soft or fleshy mammalian terms unless hybridized.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif ( (privatesFemale == 'Passerine') or (privatesFemale == 'Raptor') or (privatesFemale == 'Ratite') or (privatesFemale == 'Aviary') ) {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Vulva may be positioned beneath feathers or integrated into a cloacal structure. Keep surface detail minimal and avoid fur, lips, or fleshy folds.\"|\n\t\t\t\n\t\t:}|\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t\t/flushvar logicBasedInstruction|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//-----------|\n:}|\n/else {:\n\t/setvar key={{var::variableName}} None|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n\n//**Cock**|\n/var key=do No|\n/var key=variableName \"appearanceCock\"|\n/ife ((gender == 'Male') or (futanari == 'Yes' )) {:\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\n\t\t/ife ((cockSize == '') or (skip == 'Update')) {:\n\t\t\t/buttons labels=[\"Flat\", \"Small\", \"Medium\", \"Large\", \"Huge\"] What size is {{getvar::firstName}}'s Cock?|\n\t\t\t/setvar key=cockSize {{pipe}}|\n\t\t\t/ife (cockSize == '') {:\n\t\t        /echo Aborting |\n\t\t        /abort\n\t\t    :}|\n\t\t:}|\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Appearance Cock\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Body: {{getvar::appearanceBody}}\"|\n\t\t/ife (appearanceFeatures != 'None') {:\n\t\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t\t:}|\n\t\t/ife (futanari == 'Yes') {:\n\t\t\t/addvar key=extra \"- Pussy Appearance: {{getvar::appearancePussy}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Male Genital Type: {{getvar::privatesMale}}\"|\n\t\t/addvar key=extra \"- Cock Size: {{getvar::cockSize}}\"|\n\t\t/addvar key=extra \"- Species Group: {{getvar::speciesGroup}}\"|\n\t\t/addvar key=extra \"- Animal Base: {{getvar::animalBase}}\"|\n\t\t/ife (futanari == 'Yes') {:\n\t\t\t/addvar key=extra \"Important: {{getvar::firstName}} is a futanari, so she has both a pussy and a cock.\"|\n\t\t:}|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\n\t\t/ife (futanari == 'Yes') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Rule\"|\n\t\t\t\n\t\t:}|\n\t\t/ife (privatesMale == 'Mammal') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- The shaft may include a foreskin or remain uncovered. Use standard anatomical terms for glans, shaft, and scrotum. Testicles may be furred or bare depending on features.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (privatesMale == 'Canine') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- The shaft may emerge from a sheath and taper to a point. Include a prominent knot at the base if erect. The scrotum may be fur-covered and sit close to the base.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (privatesMale == 'Feline') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- The shaft may feature fine ridges or barbs. When erect, describe a tapered form with slight texture variation. The testicles may be small and soft-furred.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (privatesMale == 'Equine') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- The penis is long, thick, and partially sheathed when flaccid. When erect, it may feature a flared head and medial ring. The testicles are large, pendulous, and smooth-skinned.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif ((privatesMale == 'Reptile') or (privatesMale == 'Draconic')) {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- The penis may be scaled, muscular, or ridged. It can be tucked into a slit or retractable area. When erect, emphasize texture, internal pressure, or unusual shape without exaggeration.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif ((privatesMale == 'Insectoid') or (privatesMale == 'Arachnid') or (privatesMale == 'Cephalopod')) {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- The shaft may be segmented, chitinous, or soft-bodied. Avoid human terminology. Use terms like “appendage,” “ventral organ,” or “spiral sheath” depending on structure.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (privatesMale == 'Synthetic') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- The shaft may be artificial, sculpted, or bioengineered. Describe design features such as texture, joint seams, or material finish. Avoid organic function or reproductive cues.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (privatesMale == 'Alien') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- The penis may be asymmetrical, multi-textured, or unusually shaped. Describe with anatomical clarity, not metaphor. You may include multiple elements if the form justifies it.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (privatesMale == 'Fantasy') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- If the anatomy blends known and exotic traits, describe it with neutral detail. Do not invent abilities or hybrid function — structure only.\"|\n\t\t\t\n\t\t:}|\n\t\t\n\t\t/ife (('fur' in appearanceFeatures) or ('Fur' in appearanceFeatures)) {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- If the character has fur, you may describe fur around the sheath or scrotum. Keep texture consistent with body coverage.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (('scales' in appearanceFeatures) or ('Scales' in appearanceFeatures)) {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- If the character has scales, the shaft may appear ridged or recessed, with the scrotum partially armored or integrated into surrounding body texture.\"|\n\t\t\t\n\t\t:}|\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t\t/flushvar logicBasedInstruction|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//-----------|\n:}|\n/else {:\n\t/setvar key={{var::variableName}} None|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n//**Privates Sync**|\n/var key=do No|\n/var key=variableName \"appearanceGenitals\"|\n/ife (futanari == 'Yes') {:\n\t\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Appearance Genitals Sync\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Body: {{getvar::appearanceBody}}\"|\n\t\t/ife (appearanceFeatures != 'None') {:\n\t\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Pussy Appearance: {{getvar::appearancePussy}}\"|\n\t\t/addvar key=extra \"- Female Genital Type:: {{getvar::privatesFemale}}\"|\n\t\t/addvar key=extra \"- Cock Appearance: {{getvar::appearanceCock}}\"|\n\t\t/addvar key=extra \"- Male Genital Type:: {{getvar::privatesMale}}\"|\n\t\t\n\t\t/addvar key=extra \"- Species Group: {{getvar::speciesGroup}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t\t/flushvar logicBasedInstruction|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//-----------|\n:}|\n/else {:\n\t/setvar key={{var::variableName}} None|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n\n//**Anus**|\n/var key=do No|\n/var key=variableName \"appearanceAnus\"|\n/ife ({{var::variableName}} == '') {:\n\t/var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n\t/getvar key={{var::variableName}}|\n\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t/var key=do {{pipe}}|\n\t/ife (do == '') {:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Appearance Anus\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Body: {{getvar::appearanceBody}}\"|\n\t/ife (appearanceFeatures != 'None') {:\n\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t:}|\n\t/addvar key=extra \"- Species Group: {{getvar::speciesGroup}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t/ife (futanari == 'Yes') {:\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/setvar key=logicBasedInstruction \"- {{getvar::firstName}} is a futanari. The anus should be described neutrally and anatomically, with no reference to the cock or pussy.\"|\n\t:}|\n\t/ife ('Tail' in appearanceFeatures) {:\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/setvar key=logicBasedInstruction \"- {{getvar::firstName}} has a tail. Describe the anus in relation to the tail's base if visible.\"|\n\t\t\n\t:}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n\t/flushvar logicBasedInstruction|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//-----------|\n\n/setvar key=parsedApperance {{noop}}|\n/addvar key=parsedApperance ### Appearance|\n/ife (length != 'None') {:\n\t/addvar key=parsedApperance \"{{newline}} - Length: {{getvar::length}}\"|\n:}|\n/ife (height != 'None') {:\n\t/addvar key=parsedApperance \"{{newline}} - Height: {{getvar::height}}\"|\n:}|\n/ife (appearanceHair != 'None') {:\n\t/addvar key=parsedApperance \"{{newline}} - Hair: {{getvar::appearanceHair}}\"|\n:}|\n/ife (appearanceEyes != 'None') {:\n\t/addvar key=parsedApperance \"{{newline}} - Eyes: {{getvar::appearanceEyes}}\"|\n:}|\n/ife (appearanceFace != 'None') {:\n\t/addvar key=parsedApperance \"{{newline}} - Face: {{getvar::appearanceFace}}\"|\n:}|\n/addvar key=parsedApperance \"{{newline}}### Body{{newline}}- Body:\"|\n/ife (appearanceBody != 'None') {:\n\t/addvar key=parsedApperance \"{{newline}}  - Body: {{getvar::appearanceBody}}\"|\n:}|\n/ife (appearanceBreasts != 'None') {:\n\t/addvar key=parsedApperance \"{{newline}}  - Breasts: {{getvar::appearanceBreasts}}\"|\n:}|\n/ife (appearanceNipples != 'None') {:\n\t/addvar key=parsedApperance \"{{newline}}  - Nipples: {{getvar::appearanceNipples}}\"|\n:}|\n/ife (appearanceGenitals != 'None') {:\n\t/addvar key=parsedApperance \"{{newline}}  - Genitals: {{getvar::appearanceGenitals}}\"|\n:}|\n/ife ((appearanceGenitals == 'None') and (appearancePussy != 'None')) {:\n\t/addvar key=parsedApperance \"{{newline}}  - Pussy: {{getvar::appearancePussy}}\"|\n:}|\n/ife ((appearanceGenitals == 'None') and (appearanceCock != 'None')) {:\n\t/addvar key=parsedApperance \"{{newline}}  - Cock: {{getvar::appearanceCock}}\"|\n:}|\n/ife (appearanceAnus != 'None') {:\n\t/addvar key=parsedApperance \"{{newline}}  - Anus: {{getvar::appearanceAnus}}\"|\n:}|\n/addvar key=parsedApperance \"{{newline}}\"|\n/addvar key=dataBaseNames parsedApperance|\n\n\n//**Appearance Traits**|\n/var key=do No|\n/var key=variableName \"appearanceTraits\"|\n/buttons labels=[\"Yes\", \"No\"] Do you want {{getvar::firstName}} to have any Appearance Traits?|\n/var selected_btn {{pipe}}|\n/ife ( selected_btn == 'Yes') {:\n\t/ife ({{var::variableName}} == '') {:\n\t\t/var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t\t/getvar key={{var::variableName}}|\n\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t/var key=do {{pipe}}|\n\t\t/ife (do == '') {:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=appearanceTraitsDetails {{noop}}|\n\t\t/setvar key=appearanceTraitsEffect {{noop}}|\n\t\t/setvar key=genSettings index=wi_book_key \"Appearance Trait Type\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput No|\n\t\t/setvar key=genSettings index=outputIsList Yes|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t\t/flushvar logicBasedInstruction|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=appearanceTraits None|\n\t/addvar key=dataBaseNames appearanceTraits|\n:}|\n\n/ife ((appearanceTraits != '') and (appearanceTraits != 'None')) {:\n\t//Descriptions|\n\t/var key=do No|\n\t/var key=variableName \"appearanceTraitsDetails\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Appearance Trait Details\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/foreach {{getvar::appearanceTraits}} {:\n\t\t\t\t/setvar key=appearanceTrait {{var::item}}|\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar guidance|\n\t\t\t:}|\n\t\t\t/flushvar appearanceTrait|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t\n\t//|\n\t/var key=do No|\n\t/var key=variableName \"appearanceTraitsEffect\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Appearance Trait Effect\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/foreach {{getvar::appearanceTraits}} {:\n\t\t\t\t/setvar key=appearanceTrait {{var::item}}|\n\t\t\t\t/getvar key=appearanceTraitsDetails index={{var::index}}|\n\t\t\t\t/setvar key=appearanceTraitDetails {{pipe}}|\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar guidance|\n\t\t\t:}|\n\t\t\t/flushvar appearanceTrait|\n\t\t\t/flushvar appearanceTraitDetails|\n\t\t:}|\n\t\t/else {:\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//-----------|\n:}|\n/else {:\n\t/setvar key=appearanceTraitsDetails None|\n\t/setvar key=appearanceTraitsEffect None|\n\t/addvar key=dataBaseNames appearanceTraitsDetails|\n\t/addvar key=dataBaseNames appearanceTraitsEffect|\n:}|\n/setvar key=parsedAppearanceTraits {{noop}}|\n/ife (appearanceTraits != 'None') {:\n\t/setvar key=parsedAppearanceTraits |\n\t/foreach {{getvar::appearanceTraits}} {:\n\t\t/ife (index > 0) {:\n\t\t\t/addvar key=parsedAppearanceTraits \"{{newline}}{{newline}}\"|\n\t\t:}|\n\t\t/getvar key=appearanceTraitsDetails index={{var::index}}|\n\t\t/let key=details {{pipe}}|\n\t\t/getvar key=appearanceTraitsEffect index={{var::index}}|\n\t\t/let key=effect {{pipe}}|\n\t\t/addvar key=parsedAppearanceTraits \"- Appearance Trait: {{var::item}}\n  - Details: {{var::details}}\n  - Effect: {{var::effect}}\"\n\t:}|\n:}|\n/else {:\n\t/setvar key=parsedAppearanceTraits None|\n:}|\n/addvar key=dataBaseNames parsedAppearanceTraits|\n\n/:\"CMC Logic.JEDParse\"|\n\n/:\"CMC Logic.Save DataBase\"|\n\n/setvar key=stepDone Yes|\n/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/var qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Outfit\" {{pipe}}|\n/forcesave|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":8,"icon":"","showLabel":false,"label":"Step4 Generate Outfit","title":"","message":"/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/let qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Outfit\" {{pipe}}|\n\n/:\"CMC Logic.Get Char info\"|\n\n/setvar key=dataBaseNames []|\n/flushvar genSettings|\n\n/setvar key=stepVar Step4|\n\n/setvar key=skip Update|\n/ife ( stepDone == 'No') {:\n\t/buttons labels=[\"Skip\", \"Update\"] Do you want to skip or update already generated content? You will get a question for each already done if you select Update.|\n\t/setvar key=skip {{pipe}}|\n\t/ife ( skip == ''){:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n:}|\n\n/setvar key=stepDone No|\n/setvar key=outfitsDone Yes|\n/let key=do {{noop}}|\n/let key=variableName {{noop}}|\n/let key=selected_btn {{noop}}|\n\n\n\n/ife (overallOutfit == '') {:\n\t/ife ( characterArchetype != 'Animalistic') {:\n\t\t/buttons labels=[\"Yes\", \"No\"] <div>Do you want to set a overall outfit look? This can be changed for each outfit part</div><div>Example1: School Uniform</div><div>Example2: School Swimsuit</div><div>Example3: Office Outfit</div>|\n\t\t/var selected_btn {{pipe}}|\n\t:}|\n\t/else {:\n\t\t/buttons labels=[\"Yes\", \"No\", \"No Outfit\"] <div>Do you want to set a overall outfit look? This can be changed for each outfit part</div><div>Example1: School Uniform</div><div>Example2: School Swimsuit</div><div>Example3: Office Outfit</div>|\n\t\t/var selected_btn {{pipe}}|\n\t:}|\n\t/ife ( selected_btn == ''){:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n\t/elseif ( selected_btn == 'Yes') {:\n\t\t/input <div>Example1: School Uniform</div><div>Example2: School Swimsuit</div><div>Example3: Office Outfit</div>|\n\t\t/setvar key=overallOutfit {{pipe}}|\n\t\t/ife ( overallOutfit == ''){:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/setvar key=overallOutfit {{var::selected_btn}}|\n\t:}|\n:}|\n\n/ife (overallOutfit != 'No Outfit') {:\n\t//Outfit Head|\n\t/var key=do No|\n\t/var key=variableName \"outfitHead\"|\n\t/ife ({{var::variableName}} == '') {:\n\t\t/var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t\t/getvar key={{var::variableName}}|\n\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t/var key=do {{pipe}}|\n\t\t/ife (do == '') {:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Outfit Head\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=genAmount 20|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t/ife (overallOutfit != 'No') {:\n\t\t\t/setvar key=guidance \"The response should be guided toward: {{getvar::overallOutfit}}\"|\n\t\t:}|\n\t\t\n\t\t/ife ((outputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//--------|\n\t\n\t//Outfit Head Description|\n\t/ife (outfitHead != 'None') {:\n\t\t/var key=do No|\n\t\t/var key=variableName \"outfitHeadDescription\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t\t/var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t\t/getvar key={{var::variableName}}|\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t\t/var key=do {{pipe}}|\n\t\t\t/ife (do == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Outfit Head Description\"|\n\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/addvar key=extra \"- Hair: {{getvar::appearanceHair}}\"|\n\t\t\t/ife ( appearanceFeatures != 'None') {:\n\t\t\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t\t\t:}|\n\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t/setvar key=extra []|\n\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t/ife (extra != '') {:\n\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t:}|\n\t\t\t/flushvar extra|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\t\n\t\t\t/ife (( characterArchetype != 'Human') and ( characterArchetype != 'Android')) {:\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/setvar key=logicBasedInstruction \"- If {{getvar::parsedSpecies}} includes visible head features (ears, horns, fins, wings, etc), consider how they affect fit or placement of the headwear.\"|\n\t\t\t:}|\n\t\t\t/elseif (( characterArchetype == 'Human') or ( characterArchetype == 'Android')) {:\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/setvar key=logicBasedInstruction \"- If any of the Features includes scars, prosthetics, cybernetics, piercings, or other physical modifications, consider how they visually contrast with or influence the item’s appearance or placement.\"|\n\t\t\t:}|\n\t\t\t\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\n\t\t\t/ife ((outputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t:}|\n\t\t\t//[[Generate with Prompt]]|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar logicBasedInstruction|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/setvar key=outfitHeadDescription None|\n\t\t/addvar key=dataBaseNames outfitHeadDescription|\n\t:}|\n\t//--------|\n\t\n\t//Outfit Accessories|\n\t/var key=do No|\n\t/var key=variableName \"outfitAccessories\"|\n\t/ife ({{var::variableName}} == '') {:\n\t\t/var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t\t/getvar key={{var::variableName}}|\n\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t/var key=do {{pipe}}|\n\t\t/ife (do == '') {:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Outfit Accessories\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=genAmount 10|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput No|\n\t\t/setvar key=genSettings index=outputIsList Yes|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/ife (overallOutfit != 'No') {:\n\t\t\t/setvar key=guidance \"The response should be guided toward: {{getvar::overallOutfit}}\"|\n\t\t:}|\n\t\t\n\t\t/ife ((outputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//--------|\n\t\n\t//Outfit Accessories Description|\n\t/ife (outfitAccessories != 'None') {:\n\t\t/var key=do No|\n\t\t/var key=variableName \"outfitAccessoriesDescription\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t\t/var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t\t/getvar key={{var::variableName}}|\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t\t/var key=do {{pipe}}|\n\t\t\t/ife (do == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Outfit Accessories Description\"|\n\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/ife ( appearanceFeatures != 'None') {:\n\t\t\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t\t\t:}|\n\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t/setvar key=extra []|\n\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t/ife (extra != '') {:\n\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t:}|\n\t\t\t/flushvar extra|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\t\n\t\t\t/ife (( characterArchetype != 'Human') and ( characterArchetype != 'Android')) {:\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/setvar key=logicBasedInstruction \"- If {{getvar::parsedSpecies}} includes tails, horns, paws, wings, or other non-human limbs, consider how this affects where or how the accessory is worn.\"|\n\t\t\t:}|\n\t\t\t/elseif (( characterArchetype == 'Human') or ( characterArchetype == 'Android')) {:\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t\t\t/setvar key=logicBasedInstruction \"- If {{getvar::possAdjPronoun}} Features includes prosthetics, piercings, cybernetics, or scars, consider how the accessory interacts with or highlights these features.\"|\n\t\t\t:}|\n\t\t\t\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\n\t\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t:}|\n\t\t\t//[[Generate with Prompt]]|\n\t\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t\t/foreach {{getvar::outfitAccessories}} {:\n\t\t\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t\t/flushvar output|\n\t\t\t\t\t/flushvar guidance|\n\t\t\t\t:}|\n\t\t\t\t/flushvar {{var::variableName}}Item|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t\t\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar logicBasedInstruction|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/setvar key=outfitAccessoriesDescription None|\n\t\t/addvar key=dataBaseNames outfitAccessoriesDescription|\n\t:}|\n\t//--------|\n\t/wait {{getvar::wait}}|\n\t/setvar key=parsedAccessories {{noop}}|\n\t/ife (outfitAccessoriesDescription == 'None') {:\n\t\t/addvar key=parsedAccessories \"{{getvar::outfitAccessoriesDescription}}\"|\n\t:}|\n\t/elseif (outfitAccessoriesDescription is list) {:\n\t\t/foreach {{getvar::outfitAccessoriesDescription}} {:\n\t\t\t/ife (index > 0) {:\n\t\t\t\t/addvar key=parsedAccessories {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=parsedAccessories \"  - {{var::item}}\"|\n\t\t:}|\n\t:}|\n\t/addvar key=dataBaseNames parsedAccessories|\n\t\n\t//Outfit Makeup|\n\t/var key=do No|\n\t/var key=variableName \"outfitMakeup\"|\n\t/ife ({{var::variableName}} == '') {:\n\t\t/var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t\t/getvar key={{var::variableName}}|\n\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t/var key=do {{pipe}}|\n\t\t/ife (do == '') {:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Outfit Makeup\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=genAmount 10|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/ife (overallOutfit != 'No') {:\n\t\t\t/setvar key=guidance \"The response should be guided toward: {{getvar::overallOutfit}}\"|\n\t\t:}|\n\t\t\n\t\t/ife ((outputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//--------|\n\t\n\t//Outfit Makeup Description|\n\t/ife (outfitMakeup != 'None') {:\n\t\t/var key=do No|\n\t\t/var key=variableName \"outfitMakeupDescription\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t\t/var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t\t/getvar key={{var::variableName}}|\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t\t/var key=do {{pipe}}|\n\t\t\t/ife (do == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Outfit Makeup Description\"|\n\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/ife ( appearanceFeatures != 'None') {:\n\t\t\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t\t\t:}|\n\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t/setvar key=extra []|\n\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t/ife (extra != '') {:\n\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t:}|\n\t\t\t/flushvar extra|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\t\n\t\t\t/ife (( characterArchetype != 'Human') and ( characterArchetype != 'Android')) {:\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/setvar key=logicBasedInstruction \"- If {{getvar::possAdjPronoun}} Features includes fur, scales, feathers, or non-human markings, ensure the makeup is applied in visible or exposed areas — such as facial skin patches, ridges, horns, or ceremonial markings — and accounts for species texture.\"|\n\t\t\t:}|\n\t\t\t/elseif (( characterArchetype == 'Human') or ( characterArchetype == 'Android')) {:\n\t\t\t\t/setvar key=logicBasedInstruction \"- If {{getvar::possAdjPronoun}} Features includes prosthetics, cybernetics, scars, piercings, or skin conditions, consider how the makeup highlights or contrasts with these features visually.\"|\n\t\t\t:}|\n\t\t\t\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\n\t\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t:}|\n\t\t\t//[[Generate with Prompt]]|\n\t\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t\t/foreach {{getvar::outfitMakeup}} {:\n\t\t\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t\t/flushvar output|\n\t\t\t\t\t/flushvar guidance|\n\t\t\t\t:}|\n\t\t\t\t/flushvar {{var::variableName}}Item|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t\t\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar logicBasedInstruction|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/setvar key=outfitMakeupDescription None|\n\t\t/addvar key=dataBaseNames outfitMakeupDescription|\n\t:}|\n\t//--------|\n\t/wait {{getvar::wait}}|\n\t/setvar key=parsedMakeup {{noop}}|\n\t/ife (outfitMakeupDescription == 'None') {:\n\t\t/addvar key=parsedMakeup \" {{getvar::outfitMakeupDescription}}\"|\n\t:}|\n\t/elseif (outfitMakeupDescription is list) {:\n\t\t/foreach {{getvar::outfitMakeupDescription}} {:\n\t\t\t/addvar key=parsedMakeup \"{{newline}}  - {{var::item}}\"|\n\t\t:}|\n\t:}|\n\t/addvar key=dataBaseNames parsedMakeup|\n\t\n\t//Outfit Neck|\n\t/var key=do No|\n\t/var key=variableName \"outfitNeck\"|\n\t/ife ({{var::variableName}} == '') {:\n\t\t/var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t\t/getvar key={{var::variableName}}|\n\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t/var key=do {{pipe}}|\n\t\t/ife (do == '') {:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Outfit Neck\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=genAmount 10|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/ife (overallOutfit != 'No') {:\n\t\t\t/setvar key=guidance \"The response should be guided toward: {{getvar::overallOutfit}}\"|\n\t\t:}|\n\t\t\n\t\t/ife ((outputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//--------|\n\t\n\t//Outfit Neck Description|\n\t/ife (outfitNeck != 'None') {:\n\t\t/var key=do No|\n\t\t/var key=variableName \"outfitNeckDescription\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t\t/var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t\t/getvar key={{var::variableName}}|\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t\t/var key=do {{pipe}}|\n\t\t\t/ife (do == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Outfit Neck Description\"|\n\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t/setvar key=genSettings index=inputIsList No|\n\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/ife ( appearanceFeatures != 'None') {:\n\t\t\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t\t\t:}|\n\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t/setvar key=extra []|\n\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t/ife (extra != '') {:\n\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t:}|\n\t\t\t/flushvar extra|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\t\n\t\t\t/ife (( characterArchetype != 'Human') and ( characterArchetype != 'Android')) {:\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/setvar key=logicBasedInstruction \"- If {{getvar::possAdjPronoun}} Features includes fur, scales, manes, ruffs, or neck-based traits (e.g., gills, fins, feathers), describe how the neckwear fits, wraps around, or contrasts with those features.\"|\n\t\t\t:}|\n\t\t\t/elseif (( characterArchetype == 'Human') or ( characterArchetype == 'Android')) {:\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/setvar key=logicBasedInstruction \"- If {{getvar::possAdjPronoun}} Features includes scars, prosthetics, piercings, or visible augmentations around the neck or upper torso, reflect how the neckwear interacts with or complements these features.\"|\n\t\t\t:}|\n\t\t\t\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\n\t\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t:}|\n\t\t\t//[[Generate with Prompt]]|\n\t\t\t\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\n\t\t\t\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar logicBasedInstruction|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/setvar key=outfitNeckDescription None|\n\t\t/addvar key=dataBaseNames outfitNeckDescription|\n\t:}|\n\t//--------|\n\t\n\t/ife (mainwearType == '') {:\n\t\t/buttons labels=[\"One-Piece\", \"Two-Piece\"] Do you want to have a One-Piece outfit or a Two-Piece outfit?|\n\t\t/var key=selected_btn {{pipe}}|\n\t\t/ife (selected_btn == '') {:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t\t/setvar key=mainwearType {{var::selected_btn}}|\n\t:}|\n\t\n\t/ife ( mainwearType == 'One-Piece') {:\n\t\t//Outfit One-Piece|\n\t\t/var key=do No|\n\t\t/var key=variableName \"outfitMainwear\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t\t/var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t\t/getvar key={{var::variableName}}|\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t\t/var key=do {{pipe}}|\n\t\t\t/ife (do == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Outfit Mainwear\"|\n\t\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t\t/setvar key=genSettings index=genAmount 8|\n\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t/ife (extra != '') {:\n\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t:}|\n\t\t\t/flushvar extra|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\n\t\t\t/ife (overallOutfit != 'No') {:\n\t\t\t\t/setvar key=guidance \"The response should be guided toward: {{getvar::overallOutfit}}\"|\n\t\t:}|\n\t\t\t\n\t\t\t/ife ((outputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t:}|\n\t\t\t//[[Generate with Prompt]]|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t\t//--------|\n\t\t\n\t\t//Outfit One-Piece Description|\n\t\t/ife (outfitMainwear != 'None') {:\n\t\t\t/var key=do No|\n\t\t\t/var key=variableName \"outfitMainwearDescription\"|\n\t\t\t/ife ({{var::variableName}} == '') {:\n\t\t\t\t/var key=do Yes|\n\t\t\t:}|\n\t\t\t/elseif (skip == 'Update') {:\n\t\t\t\t/getvar key={{var::variableName}}|\n\t\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t\t\t/var key=do {{pipe}}|\n\t\t\t\t/ife (do == '') {:\n\t\t\t\t\t/echo Aborting |\n\t\t\t\t\t/abort\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/ife ( do == 'Yes' ) {:\n\t\t\t\t/setvar key=genSettings {}|\n\t\t\t\t/setvar key=genSettings index=wi_book_key \"Outfit Mainwear Description\"|\n\t\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t\t/setvar key=genSettings index=inputIsList No|\n\t\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t\t/setvar key=extra []|\n\t\t\t\t/ife ( appearanceFeatures != 'None') {:\n\t\t\t\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t\t\t\t:}|\n\t\t\t\t/addvar key=extra \"- Body: {{getvar::appearanceBody}}\"|\n\t\t\t\t/ife ( appearanceBreasts != 'None') {:\n\t\t\t\t\t/addvar key=extra \"- Breasts: {{getvar::appearanceBreasts}}\"|\n\t\t\t\t:}|\n\t\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t\t/setvar key=extra []|\n\t\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t\t/ife (extra != '') {:\n\t\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t\t:}|\n\t\t\t\t/flushvar extra|\n\t\t\t\t/wait {{getvar::wait}}|\n\t\t\t\t\n\t\t\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\t\t\n\t\t\t\t/ife (( characterArchetype != 'Human') and ( characterArchetype != 'Android')) {:\n\t\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t\t:}|\n\t\t\t\t\t/setvar key=logicBasedInstruction \"- If {{getvar::possAdjPronoun}} Features includes wings, tail bases, dorsal fins, fur crests, or unusual body shapes, describe how the garment is shaped or opened to accommodate those features.\"|\n\t\t\t\t:}|\n\t\t\t\t/elseif (( characterArchetype == 'Human') or ( characterArchetype == 'Android')) {:\n\t\t\t\t\t/setvar key=logicBasedInstruction \"- If {{getvar::possAdjPronoun}} Features includes medical gear, prosthetics, or cybernetics on the torso or pelvis, describe how the garment adjusts to fit, support, or conceal them.\"|\n\t\t\t\t:}|\n\t\t\t\t\n\t\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\t\n\t\t\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t\t:}|\n\t\t\t\t/else {:\n\t\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t\t:}|\n\t\t\t\t//[[Generate with Prompt]]|\n\t\t\t\t\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t\n\t\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar logicBasedInstruction|\n\t\t\t\t/flushvar guidance|\n\t\t\t\t/flushvar genOrder|\n\t\t\t\t/flushvar genContent|\n\t\t\t\t/flushvar genSettings|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t:}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar key=outfitMainwearDescription None|\n\t\t\t/addvar key=dataBaseNames outfitMainwearDescription|\n\t\t:}|\n\t\t//--------|\n\t:}|\n\t/else {:\n\t\t/setvar key=outfitMainwear Skip|\n\t\t/addvar key=dataBaseNames outfitMainwear|\n\t\t/setvar key=outfitMainwearDescription Skip|\n\t\t/addvar key=dataBaseNames outfitMainwearDescription|\n\t:}|\n\t\n\t/ife ( mainwearType == 'Two-Piece') {:\n\t\t//Outfit Top|\n\t\t/var key=do No|\n\t\t/var key=variableName \"outfitTop\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t\t/var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t\t/getvar key={{var::variableName}}|\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t\t/var key=do {{pipe}}|\n\t\t\t/ife (do == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Outfit Top\"|\n\t\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t\t/setvar key=genSettings index=genAmount 10|\n\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t/ife (extra != '') {:\n\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t:}|\n\t\t\t/flushvar extra|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\n\t\t\t/ife (overallOutfit != 'No') {:\n\t\t\t\t/setvar key=guidance \"The response should be guided toward: {{getvar::overallOutfit}}\"|\n\t\t:}|\n\t\t\t\n\t\t\t/ife ((outputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t:}|\n\t\t\t//[[Generate with Prompt]]|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t\t//--------|\n\t\t\n\t\t//Outfit Top Description|\n\t\t/ife (outfitTop != 'None') {:\n\t\t\t/var key=do No|\n\t\t\t/var key=variableName \"outfitTopDescription\"|\n\t\t\t/ife ({{var::variableName}} == '') {:\n\t\t\t\t/var key=do Yes|\n\t\t\t:}|\n\t\t\t/elseif (skip == 'Update') {:\n\t\t\t\t/getvar key={{var::variableName}}|\n\t\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t\t\t/var key=do {{pipe}}|\n\t\t\t\t/ife (do == '') {:\n\t\t\t\t\t/echo Aborting |\n\t\t\t\t\t/abort\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/ife ( do == 'Yes' ) {:\n\t\t\t\t/setvar key=genSettings {}|\n\t\t\t\t/setvar key=genSettings index=wi_book_key \"Outfit Top Description\"|\n\t\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t\t/setvar key=genSettings index=inputIsList No|\n\t\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t\t/setvar key=extra []|\n\t\t\t\t/ife ( appearanceFeatures != 'None') {:\n\t\t\t\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t\t\t\t:}|\n\t\t\t\t/addvar key=extra \"- Body: {{getvar::appearanceBody}}\"|\n\t\t\t\t/ife ( appearanceBreasts != 'None') {:\n\t\t\t\t\t/addvar key=extra \"- Breasts: {{getvar::appearanceBreasts}}\"|\n\t\t\t\t:}|\n\t\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t\t/setvar key=extra []|\n\t\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t\t/ife (extra != '') {:\n\t\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t\t:}|\n\t\t\t\t/flushvar extra|\n\t\t\t\t/wait {{getvar::wait}}|\n\t\n\t\t\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\t\t\n\t\t\t\t/ife (( characterArchetype != 'Human') and ( characterArchetype != 'Android')) {:\n\t\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t\t:}|\n\t\t\t\t\t/setvar key=logicBasedInstruction \"- If {{getvar::possAdjPronoun}} Features includes wings, tail bases, dorsal fins, fur crests, or unusual body shapes, describe how the top is shaped or adapted to fit those features comfortably or functionally.\"|\n\t\t\t\t:}|\n\t\t\t\t/elseif (( characterArchetype == 'Human') or ( characterArchetype == 'Android')) {:\n\t\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t\t:}|\n\t\t\t\t\t/setvar key=logicBasedInstruction \"- If {{getvar::possAdjPronoun}} Features includes medical supports, prosthetics, or cybernetics on the torso or arms, describe how the top accommodates or interacts with them.\"|\n\t\t\t\t:}|\n\t\t\t\t\n\t\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\t\n\t\t\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t\t:}|\n\t\t\t\t/else {:\n\t\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t\t:}|\n\t\t\t\t//[[Generate with Prompt]]|\n\t\t\t\t\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t\n\t\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar logicBasedInstruction|\n\t\t\t\t/flushvar guidance|\n\t\t\t\t/flushvar genOrder|\n\t\t\t\t/flushvar genContent|\n\t\t\t\t/flushvar genSettings|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t:}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar key=outfitTopDescription None|\n\t\t\t/addvar key=dataBaseNames outfitTopDescription|\n\t\t:}|\n\t\t//--------|\n\t\t\n\t\t//Outfit Bottom|\n\t\t/var key=do No|\n\t\t/var key=variableName \"outfitBottom\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t\t/var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t\t/getvar key={{var::variableName}}|\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t\t/var key=do {{pipe}}|\n\t\t\t/ife (do == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Outfit Bottom\"|\n\t\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t\t/setvar key=genSettings index=genAmount 10|\n\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t/ife (extra != '') {:\n\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t:}|\n\t\t\t/flushvar extra|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\n\t\t\t/ife (overallOutfit != 'No') {:\n\t\t\t\t/setvar key=guidance \"The response should be guided toward: {{getvar::overallOutfit}}\"|\n\t\t:}|\n\t\t\t\n\t\t\t/ife ((outputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t:}|\n\t\t\t//[[Generate with Prompt]]|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t\t//--------|\n\t\t\n\t\t//Outfit Bottom Description|\n\t\t/ife (outfitTop != 'None') {:\n\t\t\t/var key=do No|\n\t\t\t/var key=variableName \"outfitBottomDescription\"|\n\t\t\t/ife ({{var::variableName}} == '') {:\n\t\t\t\t/var key=do Yes|\n\t\t\t:}|\n\t\t\t/elseif (skip == 'Update') {:\n\t\t\t\t/getvar key={{var::variableName}}|\n\t\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t\t\t/var key=do {{pipe}}|\n\t\t\t\t/ife (do == '') {:\n\t\t\t\t\t/echo Aborting |\n\t\t\t\t\t/abort\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/ife ( do == 'Yes' ) {:\n\t\t\t\t/setvar key=genSettings {}|\n\t\t\t\t/setvar key=genSettings index=wi_book_key \"Outfit Bottom Description\"|\n\t\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t\t/setvar key=genSettings index=inputIsList No|\n\t\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t\t/setvar key=extra []|\n\t\t\t\t/ife ( appearanceFeatures != 'None') {:\n\t\t\t\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t\t\t\t:}|\n\t\t\t\t/addvar key=extra \"- Body: {{getvar::appearanceBody}}\"|\n\t\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t\t/setvar key=extra []|\n\t\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t\t/ife (extra != '') {:\n\t\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t\t:}|\n\t\t\t\t/flushvar extra|\n\t\t\t\t/wait {{getvar::wait}}|\n\t\n\t\t\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\t\t\n\t\t\t\t/ife (( characterArchetype != 'Human') and ( characterArchetype != 'Android')) {:\n\t\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t\t:}|\n\t\t\t\t\t/setvar key=logicBasedInstruction \"- If {{getvar::possAdjPronoun}} Features includes tails, fur, multiple legs, or digitigrade limbs, describe how {{getvar::outfitBottom}} adapts to the species-specific lower anatomy.\"|\n\t\t\t\t:}|\n\t\t\t\t/elseif (( characterArchetype == 'Human') or ( characterArchetype == 'Android')) {:\n\t\t\t\t\t/setvar key=logicBasedInstruction \"- If {{getvar::possAdjPronoun}} Features includes braces, prosthetics, or assistive gear on the lower body, describe how {{getvar::outfitBottom}} fits or adjusts to accommodate them.\"|\n\t\t\t\t:}|\n\t\t\t\t\n\t\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\t\n\t\t\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t\t:}|\n\t\t\t\t/else {:\n\t\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t\t:}|\n\t\t\t\t//[[Generate with Prompt]]|\n\t\t\t\t\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t\n\t\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar logicBasedInstruction|\n\t\t\t\t/flushvar guidance|\n\t\t\t\t/flushvar genOrder|\n\t\t\t\t/flushvar genContent|\n\t\t\t\t/flushvar genSettings|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t:}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar key=outfitBottomDescription None|\n\t\t\t/addvar key=dataBaseNames outfitBottomDescription|\n\t\t:}|\n\t\t//--------|\n\t:}|\n\t/else {:\n\t\t/setvar key=outfitTop Skip|\n\t\t/addvar key=dataBaseNames outfitTop|\n\t\t/setvar key=outfitTopDescription Skip|\n\t\t/addvar key=dataBaseNames outfitTopDescription|\n\t\t/setvar key=outfitBottom Skip|\n\t\t/addvar key=dataBaseNames outfitBottom|\n\t\t/setvar key=outfitBottomDescription Skip|\n\t\t/addvar key=dataBaseNames outfitBottomDescription|\n\t:}|\n\t\n\t//Outfit Legs|\n\t/var key=do No|\n\t/var key=variableName \"outfitLegs\"|\n\t/ife ({{var::variableName}} == '') {:\n\t\t/var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t\t/getvar key={{var::variableName}}|\n\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t/var key=do {{pipe}}|\n\t\t/ife (do == '') {:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Outfit Legwear\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=genAmount 10|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/ife (appearanceFeatures != 'None') {:\n\t\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Body: {{getvar::appearanceBody}}\"|\n\t\t/addvar key=extra \"- Species Group: {{getvar::speciesGroup}}\"|\n\t\t/addvar key=extra \"- Bottom Outfit: {{getvar::outfitBottom}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/ife (overallOutfit != 'No') {:\n\t\t\t/setvar key=guidance \"The response should be guided toward: {{getvar::overallOutfit}}\"|\n\t\t:}|\n\t\t\n\t\t/ife ((outputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//--------|\n\t\n\t//Outfit Legs Description|\n\t/ife (outfitLegs != 'None') {:\n\t\t/var key=do No|\n\t\t/var key=variableName \"outfitLegsDescription\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t\t/var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t\t/getvar key={{var::variableName}}|\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t\t/var key=do {{pipe}}|\n\t\t\t/ife (do == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Outfit Legwear Description\"|\n\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t/setvar key=genSettings index=inputIsList No|\n\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/ife (appearanceFeatures != 'None') {:\n\t\t\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t\t\t:}|\n\t\t\t/addvar key=extra \"- Body: {{getvar::appearanceBody}}\"|\n\t\t\t/addvar key=extra \"- Species Group: {{getvar::speciesGroup}}\"|\n\t\t\t/addvar key=extra \"- Bottom Outfit: {{getvar::outfitBottom}}\"|\n\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t/setvar key=extra []|\n\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t/ife (extra != '') {:\n\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t:}|\n\t\t\t/flushvar extra|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\t\n\t\t\t/ife ((('tail' in appearanceFeatures ) or ('Tail' in appearanceFeatures )) and (('wings' in appearanceFeatures ) or ('Wings' in appearanceFeatures ))) {:\n\t\t\t\t\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/addvar key=logicBasedInstruction \"- If both tail and wings are present, the outfit should account for both anatomical openings or contours without compromising garment structure. Prioritize ergonomic design over decorative cutouts.\"|\n\t\t\t\t\n\t\t\t:}|\n\t\t\t/elseif (('wings' in appearanceFeatures ) or ('Wings' in appearanceFeatures )) {:\n\t\t\t\t\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/addvar key=logicBasedInstruction \"- If the character has wings, the outfit must either leave the upper back open, include structured wing slots, or have tailored cutouts to avoid restricting motion. Do not ignore wing presence in the garment fit.\"|\n\t\t\t\t\n\t\t\t:}|\n\t\t\t/elseif (('tail' in appearanceFeatures ) or ('Tail' in appearanceFeatures )) {:\n\t\t\t\t\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/addvar key=logicBasedInstruction \"- If the character has a tail, ensure the garment includes a slit, flap, stretch opening, or contour that accommodates tail placement and movement. Placement should appear intentional and integrated.\"|\n\t\t\t\t\n\t\t\t:}|\n\t\t\t/elseif ((('tail' not in appearanceFeatures ) and ('Tail' not in appearanceFeatures )) and (('wings' not in appearanceFeatures ) or ('Wings' not in appearanceFeatures ))) {:\n\t\t\t\t\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/addvar key=logicBasedInstruction \"- Do not include any garment openings or anatomical adaptations for tails or wings, as none are present.\"|\n\t\t\t\t\n\t\t\t:}|\n\t\t\t\n\t\t\t\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\n\t\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t:}|\n\t\t\t//[[Generate with Prompt]]|\n\t\t\t\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar logicBasedInstruction|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/setvar key=outfitLegsDescription None|\n\t\t/addvar key=dataBaseNames outfitLegsDescription|\n\t:}|\n\t//--------|\n\t\n\t//Outfit Shoes|\n\t/var key=do No|\n\t/var key=variableName \"outfitShoes\"|\n\t/ife ({{var::variableName}} == '') {:\n\t\t/var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t\t/getvar key={{var::variableName}}|\n\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t/var key=do {{pipe}}|\n\t\t/ife (do == '') {:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Outfit Shoes\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=genAmount 10|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/ife (overallOutfit != 'No') {:\n\t\t\t/setvar key=guidance \"The response should be guided toward: {{getvar::overallOutfit}}\"|\n\t\t:}|\n\t\t\n\t\t/ife ((outputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//--------|\n\t\n\t//Outfit Shoes Description|\n\t/ife (outfitShoes != 'None') {:\n\t\t/var key=do No|\n\t\t/var key=variableName \"outfitShoesDescription\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t\t/var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t\t/getvar key={{var::variableName}}|\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t\t/var key=do {{pipe}}|\n\t\t\t/ife (do == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Outfit Shoes Description\"|\n\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t/setvar key=genSettings index=inputIsList No|\n\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/ife ( appearanceFeatures != 'None') {:\n\t\t\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t\t\t:}|\n\t\t\t/addvar key=extra \"- Body: {{getvar::appearanceBody}}\"|\n\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t/setvar key=extra []|\n\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t/ife (extra != '') {:\n\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t:}|\n\t\t\t/flushvar extra|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\n\t\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\t\n\t\t\t/ife (( characterArchetype != 'Human') and ( characterArchetype != 'Android')) {:\n\t\t\t\t\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/addvar key=logicBasedInstruction \"- If the character has paws, claws, hooves, or digitigrade limbs, describe how the shoes are shaped, opened, or adjusted to fit their structure.\"|\n\t\t\t\t\n\t\t\t:}|\n\t\t\t/elseif (( characterArchetype == 'Human') or ( characterArchetype == 'Android')) {:\n\t\t\t\t\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/addvar key=logicBasedInstruction \"- If the character has prosthetics, braces, or other medical features, describe how the shoes provide support or structural compatibility.\"|\n\t\t\t\t\n\t\t\t:}|\n\t\t\t\n\t\t\t\n\t\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t:}|\n\t\t\t//[[Generate with Prompt]]|\n\t\t\t\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar logicBasedInstruction|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/setvar key=outfitShoesDescription None|\n\t\t/addvar key=dataBaseNames outfitShoesDescription|\n\t:}|\n\t//--------|\n\t\n\t/ife (appearanceBreasts != 'None') {:\n\t\t//Outfit Underwear (Top)|\n\t\t/var key=do No|\n\t\t/var key=variableName \"outfitUnderwearTop\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t\t/var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t\t/getvar key={{var::variableName}}|\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t\t/var key=do {{pipe}}|\n\t\t\t/ife (do == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Outfit Underwear Top\"|\n\t\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t\t/setvar key=genSettings index=genAmount 5|\n\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t/ife (extra != '') {:\n\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t:}|\n\t\t\t/flushvar extra|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\n\t\t\t/ife (overallOutfit != 'No') {:\n\t\t\t\t/setvar key=guidance \"The response should be guided toward: {{getvar::overallOutfit}}\"|\n\t\t:}|\n\t\t\t\n\t\t\t/ife ((outputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t:}|\n\t\t\t//[[Generate with Prompt]]|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t\t//--------|\n\t\t\n\t\t//Outfit Underwear (Top) Description|\n\t\t/ife (outfitUnderwearTop != 'None') {:\n\t\t\t/var key=do No|\n\t\t\t/var key=variableName \"outfitUnderwearTopDescription\"|\n\t\t\t/ife ({{var::variableName}} == '') {:\n\t\t\t\t/var key=do Yes|\n\t\t\t:}|\n\t\t\t/elseif (skip == 'Update') {:\n\t\t\t\t/getvar key={{var::variableName}}|\n\t\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t\t\t/var key=do {{pipe}}|\n\t\t\t\t/ife (do == '') {:\n\t\t\t\t\t/echo Aborting |\n\t\t\t\t\t/abort\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/ife ( do == 'Yes' ) {:\n\t\t\t\t/setvar key=genSettings {}|\n\t\t\t\t/setvar key=genSettings index=wi_book_key \"Outfit Underwear Top Description\"|\n\t\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t\t/setvar key=genSettings index=inputIsList No|\n\t\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t\t/setvar key=extra []|\n\t\t\t\t/ife ( appearanceFeatures != 'None') {:\n\t\t\t\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t\t\t\t:}|\n\t\t\t\t/addvar key=extra \"- Body: {{getvar::appearanceBody}}\"|\n\t\t\t\t/ife ( appearanceBreasts != 'None') {:\n\t\t\t\t\t/addvar key=extra \"- Breasts: {{getvar::appearanceBreasts}}\"|\n\t\t\t\t:}|\n\t\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t\t/setvar key=extra []|\n\t\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t\t/ife (extra != '') {:\n\t\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t\t:}|\n\t\t\t\t/flushvar extra|\n\t\t\t\t/wait {{getvar::wait}}|\n\t\t\t\t\n\t\t\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\t\t\n\t\t\t\t/ife (( characterArchetype != 'Human') and ( characterArchetype != 'Android')) {:\n\t\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t\t:}|\n\t\t\t\t\t/setvar key=logicBasedInstruction \"- If {{getvar::possAdjPronoun}} Features includes fur, scales, extra limbs, or an unusual torso shape, describe how {{getvar::outfitUnderwearTop}} adapts to or works with these features.\"|\n\t\t\t\t:}|\n\t\t\t\t/elseif (( characterArchetype == 'Human') or ( characterArchetype == 'Android')) {:\n\t\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t\t:}|\n\t\t\t\t\t/setvar key=logicBasedInstruction \"- If {{getvar::possAdjPronoun}} Features includes medical gear, scars, or prosthetics, note how {{getvar::outfitUnderwearTop}} provides comfort or coverage in those areas.\"|\n\t\t\t\t:}|\n\t\t\t\t\n\t\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\t\n\t\t\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t\t:}|\n\t\t\t\t/else {:\n\t\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t\t:}|\n\t\t\t\t//[[Generate with Prompt]]|\n\t\t\t\t\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t\n\t\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar logicBasedInstruction|\n\t\t\t\t/flushvar guidance|\n\t\t\t\t/flushvar genOrder|\n\t\t\t\t/flushvar genContent|\n\t\t\t\t/flushvar genSettings|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t:}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar key=outfitUnderwearTopDescription None|\n\t\t\t/addvar key=dataBaseNames outfitUnderwearTopDescription|\n\t\t:}|\n\t\t//--------|\n\t:}|\n\t/else {:\n\t\t/setvar key=outfitUnderwearTop Skip|\n\t\t/setvar key=outfitUnderwearTopDescription Skip|\n\t\t/addvar key=dataBaseNames outfitUnderwearTop|\n\t\t/addvar key=dataBaseNames outfitUnderwearTopDescription|\n\t:}|\n\t\n\t//Outfit Underwear (Bottom)|\n\t/var key=do No|\n\t/var key=variableName \"outfitUnderwearBottom\"|\n\t/ife ({{var::variableName}} == '') {:\n\t\t/var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t\t/getvar key={{var::variableName}}|\n\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t/var key=do {{pipe}}|\n\t\t/ife (do == '') {:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Outfit Underwear Bottom\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=genAmount 5|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/ife (overallOutfit != 'No') {:\n\t\t\t/setvar key=guidance \"The response should be guided toward: {{getvar::overallOutfit}}\"|\n\t\t:}|\n\t\t\n\t\t/ife ((outputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//--------|\n\t\n\t//Outfit Underwear (Bottom) Description|\n\t/ife (outfitUnderwearBottom != 'None') {:\n\t\t/var key=do No|\n\t\t/var key=variableName \"outfitUnderwearBottomDescription\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t\t/var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t\t/getvar key={{var::variableName}}|\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t\t/var key=do {{pipe}}|\n\t\t\t/ife (do == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Outfit Underwear Bottom Description\"|\n\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t/setvar key=genSettings index=inputIsList No|\n\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/ife ( appearanceFeatures != 'None') {:\n\t\t\t\t/addvar key=extra \"{{getvar::parsedAppearanceFeatures}}\"|\n\t\t\t:}|\n\t\t\t/addvar key=extra \"- Body: {{getvar::appearanceBody}}\"|\n\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t/setvar key=extra []|\n\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t/ife (extra != '') {:\n\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t:}|\n\t\t\t/flushvar extra|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\n\t\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\t\n\t\t\t/ife (( characterArchetype != 'Human') and ( characterArchetype != 'Android')) {:\n\t\t\t\t\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/addvar key=logicBasedInstruction \"- If {{getvar::possAdjPronoun}} Features includes tails, fur, digitigrade legs, extra limbs, or tauric anatomy, mention how {{getvar::outfitUnderwearBottom}} accommodates or wraps around them.\"|\n\t\t\t\t\n\t\t\t:}|\n\t\t\t/elseif ((( characterArchetype == 'Human') or ( characterArchetype == 'Android')) and (appearanceFeatures != 'None')) {:\n\t\t\t\t\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/addvar key=logicBasedInstruction \"- If {{getvar::possAdjPronoun}} Features includes scars, braces, or prosthetics around the hips or legs, describe how {{getvar::outfitUnderwearBottom}} adjusts or provides comfort.\"|\n\t\t\t\t\n\t\t\t:}|\n\t\t\t/ife (( characterArchetype == 'Human') or ( characterArchetype == 'Android')) {:\n\t\t\t\t\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/addvar key=logicBasedInstruction \"- Do not mention tails, fur, digitigrade joints, claws, wings, extra limbs, or species-based adaptations. Describe only human anatomy and fit.\"|\n\t\t\t\t\n\t\t\t:}|\n\t\t\t\n\t\t\t\n\t\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t:}|\n\t\t\t//[[Generate with Prompt]]|\n\t\t\t\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar logicBasedInstruction|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/setvar key=outfitUnderwearBottomDescription None|\n\t\t/addvar key=dataBaseNames outfitUnderwearBottomDescription|\n\t:}|\n\t//--------|\n:}|\n/else {:\n\t/setvar key=outfitHeadDescription None|\n\t/addvar key=dataBaseNames outfitHeadDescription|\n\t/setvar key=parsedAccessories None|\n\t/addvar key=dataBaseNames parsedAccessories|\n\t/setvar key=parsedMakeup None|\n\t/addvar key=dataBaseNames parsedMakeup|\n\t/setvar key=outfitNeckDescription None|\n\t/addvar key=dataBaseNames outfitNeckDescription|\n\t/setvar key=outfitMainwearDescription Skip|\n\t/addvar key=dataBaseNames outfitTopDescription|\n\t/setvar key=outfitTopDescription Skip|\n\t/addvar key=dataBaseNames outfitTopDescription|\n\t/setvar key=outfitBottomDescription Skip|\n\t/addvar key=dataBaseNames outfitBottomDescription|\n\t/setvar key=outfitLegsDescription None|\n\t/addvar key=dataBaseNames outfitLegsDescription|\n\t/setvar key=outfitShoesDescription None|\n\t/addvar key=dataBaseNames outfitShoesDescription|\n\t/setvar key=outfitUnderwearTopDescription None|\n\t/addvar key=dataBaseNames outfitUnderwearTopDescription|\n\t/setvar key=outfitUnderwearBottomDescription None|\n\t/addvar key=dataBaseNames outfitUnderwearBottomDescription|\n:}|\n\n/setvar key=parsedOutfit {{noop}}|\n/ife ((outfitMainwearDescription != 'Skip') and (outfitMainwearDescription != 'None')) {:\n\t/addvar key=parsedOutfit \"{{newline}}- Mainwear: {{getvar::outfitMainwearDescription}}\"|\n:}|\n/ife ((outfitTopDescription != 'Skip') and (outfitTopDescription != 'None')) {:\n\t/addvar key=parsedOutfit \"{{newline}}- Top: {{getvar::outfitTopDescription}}\"|\n:}|\n/ife ((outfitBottomDescription != 'Skip') and (outfitBottomDescription != 'None')) {:\n\t/addvar key=parsedOutfit \"{{newline}}- Bottom: {{getvar::outfitBottomDescription}}\"|\n:}|\n/ife ((outfitLegsDescription != '') and (outfitLegsDescription != 'None')) {:\n\t/addvar key=parsedOutfit \"{{newline}}- Legs: {{getvar::outfitLegsDescription}}\"|\n:}|\n/ife ((outfitShoesDescription != '') and (outfitShoesDescription != 'None')) {:\n\t/addvar key=parsedOutfit \"{{newline}}- Shoes: {{getvar::outfitShoesDescription}}\"|\n:}|\n/ife ((outfitUnderwearTopDescription != 'Skip') and (outfitUnderwearTopDescription != 'None')) {:\n\t/addvar key=parsedOutfit \"{{newline}}- Underwear (Top): {{getvar::outfitUnderwearTopDescription}}\"|\n:}|\n/ife ((outfitUnderwearBottomDescription != '') and (outfitUnderwearBottomDescription != 'None')) {:\n\t/addvar key=parsedOutfit \"{{newline}}- Underwear (Bottom): {{getvar::outfitUnderwearBottomDescription}}\"|\n:}|\n/ife (parsedOutfit != '') {:\n\t/setvar key=parsedOutfit \"###OUTFIT{{newline}}{{getvar::parsedOutfit}}\"|\n\t/setvar key=parsedOutfitTan {{getvar::parsedOutfit}}|\n:}|\n\n/ife (((characterArchetype == 'Human') or (characterArchetype == 'Beastkin')) and (genTan == '')) {:\n\t/buttons labels=[\"Yes\", \"No\"] Do yo want {{getvar::firstName}} to have some sort of tan?|\n\t/setvar key=genTan {{pipe}}|\n\t/ife (genTan == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( ( (characterArchetype == 'Human') or (characterArchetype == 'Beastkin') ) and (genTan == 'Yes') ) {:\n\t/let key=outTan {{noop}}|\n\t/ife (parsedOutfit == '') {:\n\t\t/var key=outTan [\"Full Body Tan\", \"No Tan\", \"New Outfit\"]|\n\t:}|\n\t/else {:\n\t\t/var key=outTan [\"Full Body Tan\", \"No Tan\", \"New Outfit\", \"Current Outfit\"]|\n\t:}|\n\t/buttons labels={{var::outTan}} Do you want to have a full body tan, no tan, current outfit or select a new outfit that to mold the tan after?|\n\t/var selected_btn {{pipe}}|\n\t/ife ( selected_btn == '') {:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n\t/elseif ( selected_btn == 'Full Body Tan') {:\n\t\t/setvar key=parsedOutfitTan \"Full-body exposure\"|\n\t:}|\n\t/elseif ( selected_btn == 'No Tan') {:\n\t\t/setvar key=parsedOutfitTan \"No visible sun exposure\"|\n\t:}|\n\t/elseif ( selected_btn == 'New Outfit') {:\n\t\t/input default=\"One-Piece Swimsuit\" What is the name of the outfit that caused the tan?|\n\t\t/setvar key=parsedOutfitTan \"Visible tanlines from a {{pipe}}\"\n\t:}|\n\t/elseif ( selected_btn == 'Current Outfit') {:\n\t\t/input default=\"One-Piece Swimsuit\" What is the name of the outfit that caused the tan?|\n\t\t/setvar key=parsedOutfitTan \"Visible tanlines from a {{getvar::overallOutfit}}\"\n\t:}|\n:}|\n\n//Tanlines|\n/ife (((characterArchetype == 'Human') or (characterArchetype == 'Beastkin')) and (genTan != 'No')) {:\n\t/var key=do No|\n\t/var key=variableName \"tanlines\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Tanlines\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext No|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\n\t\t/setvar key=genSettings index=buttonPrompt Is this desctiption of {{getvar::firstName}}'s tanlines good?|\n\t\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t\n:}|\n/else {:\n\t/setvar key=tanlines None|\n\t/addvar key=dataBaseNames tanlines|\n:}|\n//---------|\n\n/:\"CMC Logic.JEDParse\"|\n\n/:\"CMC Logic.Save DataBase\"|\n\n/setvar key=stepDone Yes|\n/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/var qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Mental Traits & Personality\" {{pipe}}|\n/forcesave|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":10,"icon":"","showLabel":false,"label":"Step5 Generate Mental Traits-Personality","title":"","message":"/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/let qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Mental Traits & Personality\" {{pipe}}|\n\n/:\"CMC Logic.Get Char info\"|\n\n/setvar key=dataBaseNames []|\n/flushvar genSettings|\n\n/setvar key=stepVar Step5|\n\n/setvar key=skip Update|\n/ife ( stepDone == 'No') {:\n\t/buttons labels=[\"Skip\", \"Update\"] Do you want to skip or update already generated content? You will get a question for each already done if you select Update.|\n\t/setvar key=skip {{pipe}}|\n\t/ife ( skip == ''){:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n:}|\n\n/setvar key=stepDone No|\n\n/let key=do {{noop}}|\n/let key=variableName {{noop}}|\n/let selected_btn {{noop}}|\n\n//Sentient Level|\n/ife ((characterArchetype == 'Animalistic') or (characterArchetype == 'Pokémon')) {:\n\t/var key=do No|\n\t/var key=variableName \"sentientLevel\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Sentient Level\"|\n\t\t/setvar key=genSettings index=combineLorebookEntries No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=inputIsList No|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=needOutput No|\n\t\t/setvar key=genSettings index=useContext No|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/let key=wi_book_key {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=combineLorebookEntries|\n\t\t/let key=combineLorebookEntries {{pipe}}|\n\t\t\n\t\t\n\t\t\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select how much {{getvar::firstName}} thinks and behaves like an animal versus a person.\"|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\n\t\t\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar it|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=sentientLevel None|\n\t/addvar key=dataBaseNames sentientLevel|\n:}|\n\n/ife (sentientLevel != 'None') {:\n\t/setvar key=parsedSentientLevel {{noop}}|\n\t/split find=\"{{newline}}\" {{getvar::sentientLevel}}|\n\t/let key=temp {{pipe}}||\n\t/foreach {{var::temp}} {:\n\t\t/ife (index == 0) {:\n\t\t\t/addvar key=parsedSentientLevel \"- Animalistic Level: {{var::item}}{{newline}} - Description:\"|\n\t\t:}|\n\t\t/ife (index >= 1) {:\n\t\t\t/addvar key=parsedSentientLevel \"{{newline}}  {{var::item}}\"|\n\t\t:}|\n\t:}|\n\t/addvar key=dataBaseNames parsedSentientLevel|\n:}|\n/else {:\n\t/setvar key=parsedSentientLevel None|\n\t/addvar key=dataBaseNames parsedSentientLevel|\n:}|\n//-----|\n\n//Archetype|\n/var key=do No|\n/var key=variableName \"personalityArchetype\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Archetype Base\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=genSettings index=contextKey []|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Character Overview: {{getvar::characterOverview}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/setvar key=settingModifier {Modifier}|\n\t/setvar key=settingArchetype {Archetype}|\n\t/setvar key=settingAddition {Addition}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t\n\t\n\t/ife (outputIsList == 'Yes') {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n\t/flushvar settingModifier|\n\t/flushvar settingArchetype|\n\t/flushvar settingAddition|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n\n//Archetype Details|\n/var key=do No|\n/var key=variableName \"personalityArchetypeDetails\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Archetype Details\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Archetype: {{getvar::personalityArchetype}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t\n\t\n\t/ife (outputIsList == 'Yes') {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n\t/flushvar settingModifier|\n\t/flushvar settingArchetype|\n\t/flushvar settingAddition|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n\n//Reasoning|\n/var key=do No|\n/var key=variableName \"personalityArchetypeReasoning\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Archetype Reasoning\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/flushvar extra|\n\t/setvar key=genSettings index=contextKey []|\n\t/wait {{getvar::wait}}|\n\t\n\t/setvar key=settingModifier {Modifier}|\n\t/setvar key=settingArchetype {Archetype}|\n\t/setvar key=settingAddition {Addition}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t\n\t\n\t/ife (outputIsList == 'Yes') {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/ife (output != '') {:\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n\t/flushvar settingModifier|\n\t/flushvar settingArchetype|\n\t/flushvar settingAddition|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n\n/ife (personalityMainTrait == '') {:\n\t/let key=find \"Identify Personality Tag: Examples\"|\n\t/findentry field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t/getentryfield field=content file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{pipe}}|\n\t/let key=example {{pipe}}|\n\t\n\t/var key=find \"Identify Personality Tag: Task\"|\n\t/findentry field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t/getentryfield field=content file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{pipe}}|\n\t/let key=task {{pipe}}|\n\t\n\t/var key=find \"Identify Personality Tag: Instruction\"|\n\t/findentry field=comment file=\"CMC Generation Prompts {{getglobalvar::model}}\" \"{{var::find}}\"|\n\t/getentryfield field=content file=\"CMC Generation Prompts {{getglobalvar::model}}\" {{pipe}}|\n\t/let key=instruction {{pipe}}|\n\t\n\t/genraw \"{{var::example}}{{newline}}{{newline}}{{var::task}}{{newline}}{{newline}}{{var::instruction}}\"|\n\t/setvar key=personalityFoundTags {{pipe}}|\n\t\n\t/split {{getvar::personalityFoundTags}}|\n\t/buttons labels={{pipe}} Witch of these are the Main personality trait of {{getvar::firstName}}?|\n\t/setvar key=personalityMainTrait {{pipe}}|\n\t/ife (personalityMainTrait == '') {:\n\t    /echo Aborting |\n\t\t/abort\n\t:}|\n:}|\n/addvar key=dataBaseNames personalityMainTrait|\n\n/findentry field=comment file=\"CMC Templates\" \"Archetype Template\"|\n/getentryfield field=content file=\"CMC Templates\" {{pipe}}|\n/setvar key=parsedArchetype {{pipe}}|\n/addvar key=dataBaseNames parsedArchetype|\n\n/ife (( alignmentChoice == '') or ( alignmentChoice == 'Yes')) {:\n\t/buttons labels=[\"Yes\", \"No\"] Do you want to select and generate an Alignment and its details?|\n\t/setvar key=alignmentChoice {{pipe}}|\n\t/ife ( alignmentChoice == ''){:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n\t/elseif ( selected_btn == 'Yes') {:\n\t\t//Alignment|\n\t\t/var key=do No|\n\t\t/var key=variableName \"personalityAlignment\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t    /var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t    /getvar key={{var::variableName}}|\n\t\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t    /var key=do {{pipe}}|\n\t\t    /ife (do == '') {:\n\t\t        /echo Aborting |\n\t\t        /abort\n\t\t    :}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Alignment\"|\n\t\t\t/setvar key=genSettings index=combineLorebookEntries No|\n\t\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t\t/setvar key=genSettings index=inputIsList No|\n\t\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=useContext No|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t\n\t\t\t/getvar key=genSettings index=wi_book_key|\n\t\t\t/let key=wi_book_key {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=combineLorebookEntries|\n\t\t\t/let key=combineLorebookEntries {{pipe}}|\n\t\t\t\n\t\t\t\n\t\t\t/ife ( inputIsList == 'Yes') {:\n\t\t\t\t/setvar key={{var::variableName}} []|\n\t\t\t\t/ife ( combineLorebookEntries == 'Yes') {:\n\t\t\t\t\t/:\"CMC Logic.Combine List Lorebooks\"\n\t\t\t\t:}|\n\t\t\t\t/foreach {{getvar::genOrder}} {:\n\t\t\t\t\t/setvar key=it {{var::item}}|\n\t\t\t\t\t/getat index={{var::index}} {{var::genOrderContent}} |\n\t\t\t\t\t/setvar key=genSettings index=content {{pipe}}|\n\t\t\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t\t\t/ife (output != '') {:\n\t\t\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t\t:}|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/getvar key=genSettings index=wi_book_key|\n\t\t\t\t/setvar key=it {{pipe}}|\n\t\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t\t/ife (output != '') {:\n\t\t\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t:}|\n\t\t\t\t\n\t\t\t:}|\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar it|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t\t//--------|\n\t\t\n\t\t\n\t\t//Alignment Details|\n\t\t/var key=do No|\n\t\t/var key=variableName \"personalityAlignmentDetails\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t    /var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t    /getvar key={{var::variableName}}|\n\t\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t    /var key=do {{pipe}}|\n\t\t    /ife (do == '') {:\n\t\t        /echo Aborting |\n\t\t        /abort\n\t\t    :}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Alignment Details\"|\n\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t\t\t/addvar key=extra \"{{getvar::parsedArchetype}}\"|\n\t\t\t/addvar key=extra \"- Alignment: {{getvar::alignment}}\"|\n\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t/flushvar extra|\n\t\t\t/setvar key=genSettings index=contextKey []|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t/setvar key=settingModifier {Modifier}|\n\t\t\t/setvar key=settingArchetype {Archetype}|\n\t\t\t/setvar key=settingAddition {Addition}|\n\t\t\t\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t\n\t\t\t\n\t\t\t/ife (outputIsList == 'Yes') {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t:}|\n\t\t\t//[[Generate with Prompt]]|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/ife (output != '') {:\n\t\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar genSettings|\n\t\t\t/flushvar settingModifier|\n\t\t\t/flushvar settingArchetype|\n\t\t\t/flushvar settingAddition|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t\t//--------|\n\t\t\n\t\t\n\t\t//Alignment Ideals|\n\t\t/var key=do No|\n\t\t/var key=variableName \"personalityAlignmentIdeals\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t    /var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t    /getvar key={{var::variableName}}|\n\t\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t    /var key=do {{pipe}}|\n\t\t    /ife (do == '') {:\n\t\t        /echo Aborting |\n\t\t        /abort\n\t\t    :}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Alignment Ideals\"|\n\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t\t\t/addvar key=extra \"{{getvar::parsedArchetype}}\"|\n\t\t\t/addvar key=extra \"- Alignment: {{getvar::alignment}}\"|\n\t\t\t/addvar key=extra \"  ↳ Ideals: {{getvar::alignmentDetails}}\"|\n\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t/flushvar extra|\n\t\t\t/setvar key=genSettings index=contextKey []|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t/setvar key=settingModifier {Modifier}|\n\t\t\t/setvar key=settingArchetype {Archetype}|\n\t\t\t/setvar key=settingAddition {Addition}|\n\t\t\t\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t\n\t\t\t\n\t\t\t/ife (outputIsList == 'Yes') {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t:}|\n\t\t\t//[[Generate with Prompt]]|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/ife (output != '') {:\n\t\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar genSettings|\n\t\t\t/flushvar settingModifier|\n\t\t\t/flushvar settingArchetype|\n\t\t\t/flushvar settingAddition|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t\t//--------|\n\t:}|\n\t/else {:\n\t\t/setvar key=personalityAlignment Nope|\n\t\t/addvar key=dataBaseNames personalityAlignment|\n\t\t/setvar key=personalityAlignmentDetails Nope|\n\t\t/addvar key=dataBaseNames personalityAlignmentDetails|\n\t\t/setvar key=personalityAlignmentIdeals Nope|\n\t\t/addvar key=dataBaseNames personalityAlignmentIdeals|\n\t:}|\n:}|\n/else {:\n\t/addvar key=dataBaseNames personalityAlignment|\n\t/addvar key=dataBaseNames personalityAlignmentDetails|\n\t/addvar key=dataBaseNames personalityAlignmentIdeals|\n:}|\n\n/ife (( personalityAlignment != 'Nope') and ( personalityAlignment != '')) {:\n\t/findentry field=comment file=\"CMC Templates\" \"Alignment Template\"|\n\t/getentryfield field=content file=\"CMC Templates\" {{pipe}}|\n\t/setvar key=parsedAlignment {{pipe}}|\n:}|\n/else {:\n\t/setvar key=parsedAlignment None|\n:}|\n/addvar key=dataBaseNames parsedAlignment|\n\n//Personality Tags|\n/var key=do No|\n/var key=variableName \"personalityFoundTags\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Identify Personality Tag\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext No|\n\t/setvar key=genSettings index=contextKey []|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t\n\t\n\t/ife (outputIsList == 'Yes') {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/ife (output != '') {:\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n\n\n/var key=do No|\n/var key=variableName \"personalityTags\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Personality Tags\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t/addvar key=extra \"{{getvar::parsedArchetype}}\"|\n\t/addvar key=extra \"- Character Overview: {{getvar::characterOverview}}\"|\n\t/ife (parsedAlignment != 'None') {:\n\t\t/addvar key=extra \"{{getvar::parsedAlignment}}\"|\n\t:}|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/flushvar extra|\n\t/setvar key=genSettings index=contextKey []|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t\n\t\n\t/ife (outputIsList == 'Yes') {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/ife (output != '') {:\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n\n\n//Cognitive Abilities|\n/var key=do No|\n/var key=variableName \"personalityIntelligenceLevel\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Intelligence Level\"|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Character Overview: {{getvar::characterOverview}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/let key=wi_book_key {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/ife ( inputIsList == 'Yes') {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/ife ( combineLorebookEntries == 'Yes') {:\n\t\t\t/:\"CMC Logic.Combine List Lorebooks\"\n\t\t:}|\n\t\t/foreach {{getvar::genOrder}} {:\n\t\t\t/setvar key=it {{var::item}}|\n\t\t\t/getat index={{var::index}} {{var::genOrderContent}} |\n\t\t\t/setvar key=genSettings index=content {{pipe}}|\n\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t/ife (output != '') {:\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/ife (output != '') {:\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n\n/var key=do No|\n/var key=variableName \"personalitycognitiveAbilities\"|\n/ife (( 'Average' not in personalityIntelligenceLevel) or (characterArchetype == 'Animalistic') ) {:\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Cognitive Abilities\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t\t/addvar key=extra \"{{getvar::parsedArchetype}}\"|\n\t\t/ife (parsedAlignment != 'None') {:\n\t\t\t/addvar key=extra \"{{newline}}{{getvar::parsedAlignment}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Intelligence Level: {{getvar::personalityIntelligenceLevel}}\"|\n\t\t/addvar key=extra \"- Character Overview: {{getvar::characterOverview}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/flushvar extra|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife (outputIsList == 'Yes') {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/ife (output != '') {:\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key={{var::variableName}} None|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n\n//Social Skills and Integration Into Society|\n/var key=do No|\n/var key=variableName \"personalitySocialBehavior\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Social Behavior\"|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext No|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Character Overview: {{getvar::characterOverview}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/let key=wi_book_key {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/ife ( inputIsList == 'Yes') {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/ife ( combineLorebookEntries == 'Yes') {:\n\t\t\t/:\"CMC Logic.Combine List Lorebooks\"\n\t\t:}|\n\t\t/foreach {{getvar::genOrder}} {:\n\t\t\t/setvar key=it {{var::item}}|\n\t\t\t/getat index={{var::index}} {{var::genOrderContent}} |\n\t\t\t/setvar key=genSettings index=content {{pipe}}|\n\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t/ife (output != '') {:\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/ife (output != '') {:\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n/var key=do No|\n/var key=variableName \"personalitySocialSkills\"|\n/ife (( 'Average' not in personalityIntelligenceLevel) or (characterArchetype == 'Animalistic') ) {:\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Social Profile\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"{{newline}}{{getvar::parsedArchetype}}\"|\n\t\t/ife (parsedAlignment != 'None') {:\n\t\t\t/addvar key=extra \"{{newline}}{{getvar::parsedAlignment}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Intelligence Level: {{getvar::personalityIntelligenceLevel}}\"|\n\t\t/ife (personalitycognitiveAbilities != 'None') {:\n\t\t\t/addvar key=extra \"- Cognitive Abilities: {{getvar::personalitycognitiveAbilities}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/flushvar extra|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife (outputIsList == 'Yes') {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/ife (output != '') {:\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key={{var::variableName}} None|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n\n\n/:\"CMC Logic.JEDParse\"|\n\n/:\"CMC Logic.Save DataBase\"|\n\n/setvar key=stepDone Yes|\n/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/var qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Aspirational & Unique Traits\" {{pipe}}|\n/forcesave|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":12,"icon":"","showLabel":false,"label":"Step6 Generate Aspirational-Unique Traits","title":"","message":"/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/let qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Aspirational & Unique Traits\" {{pipe}}|\n\n/:\"CMC Logic.Get Char info\"|\n\n/setvar key=dataBaseNames []|\n/flushvar genSettings|\n\n/setvar key=stepVar Step6|\n\n/setvar key=skip Update|\n/ife ( stepDone == 'No') {:\n\t/buttons labels=[\"Skip\", \"Update\"] Do you want to skip or update already generated content? You will get a question for each already done if you select Update.|\n\t/setvar key=skip {{pipe}}|\n\t/ife ( skip == ''){:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n:}|\n\n/setvar key=stepDone No|\n\n/let key=do {{noop}}|\n/let key=variableName {{noop}}|\n/let selected_btn {{noop}}|\n\n/flushvar guidance|\n\n//Main Aspiration|\n/var key=do No|\n/var key=variableName \"aspirationMain\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Aspiration Main\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"{{getvar::parsedArchetype}}\"|\n\t/ife (parsedAlignment != 'None') {:\n\t\t/addvar key=extra \"{{newline}}{{getvar::parsedAlignment}}{{newline}}\"|\n\t:}|\n\t/addvar key=extra \"- Intelligence Level: {{getvar::personalityIntelligenceLevel}}\"|\n\t/ife (personalitycognitiveAbilities != 'None') {:\n\t\t/addvar key=extra \"- Cognitive Abilities: {{getvar::personalitycognitiveAbilities}}{{newline}}\"|\n\t:}|\n\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t/ife (personalitySocialSkills != 'None') {:\n\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}{{newline}}\"|\n\t:}|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/addvar key=extra \"- Character Overview: {{getvar::characterOverview}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/flushvar extra|\n\t/setvar key=genSettings index=contextKey []|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n\n//Aspiration Details|\n/var key=do No|\n/var key=variableName \"aspirationDetails\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Aspiration Details\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"{{getvar::parsedArchetype}}\"|\n\t/ife (parsedAlignment != 'None') {:\n\t\t/addvar key=extra \"{{newline}}{{getvar::parsedAlignment}}{{newline}}\"|\n\t:}|\n\t/addvar key=extra \"- Intelligence Level: {{getvar::personalityIntelligenceLevel}}\"|\n\t/ife (personalitycognitiveAbilities != 'None') {:\n\t\t/addvar key=extra \"- Cognitive Abilities: {{getvar::personalitycognitiveAbilities}}{{newline}}\"|\n\t:}|\n\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t/ife (personalitySocialSkills != 'None') {:\n\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}{{newline}}\"|\n\t:}|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/addvar key=extra \"- Main Aspiration: {{getvar::aspirationMain}}\"|\n\t/addvar key=extra \"- Character Overview: {{getvar::characterOverview}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/flushvar extra|\n\t/setvar key=genSettings index=contextKey []|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n\n//Aspiration Goals|\n/var key=do No|\n/var key=variableName \"aspirationGoals\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Aspiration Goals\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Occupation: {{getvar::occupationBase}}\"|\n\t/addvar key=extra \"- Time Period: {{getvar::timePeriod}}\"|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/addvar key=extra \"{{getvar::parsedArchetype}}\"|\n\t/ife (parsedAlignment != 'None') {:\n\t\t/addvar key=extra \"{{newline}}{{getvar::parsedAlignment}}{{newline}}\"|\n\t:}|\n\t/addvar key=extra \"- Intelligence Level: {{getvar::personalityIntelligenceLevel}}\"|\n\t/ife (personalitycognitiveAbilities != 'None') {:\n\t\t/addvar key=extra \"- Cognitive Abilities: {{getvar::personalitycognitiveAbilities}}{{newline}}\"|\n\t:}|\n\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t/ife (personalitySocialSkills != 'None') {:\n\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}{{newline}}\"|\n\t:}|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/addvar key=extra \"- Main Aspiration: {{getvar::aspirationMain}}\"|\n\t/addvar key=extra \"  - Aspiration Details: {{getvar::aspirationDetails}}\"|\n\t//addvar key=extra \" - Scenario Overview: {{getvar::scenarioOverview}}\"|\n\t/addvar key=extra \"- Character Overview: {{getvar::characterOverview}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/flushvar extra|\n\t/setvar key=genSettings index=contextKey []|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n\n/findentry field=comment file=\"CMC Templates\" \"Aspiration Template\"|\n/getentryfield field=content file=\"CMC Templates\" {{pipe}}|\n/setvar key=parsedAspiration {{pipe}}|\n/addvar key=dataBaseNames parsedAspiration|\n\n\n//Unique Traits|\n/var key=do No|\n/var key=variableName \"uniqueTraits\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Unique Traits\"|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=inputIsTaskList No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=needOutput No|\n\t/setvar key=genSettings index=outputIsList Yes|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Intelligence Level: {{getvar::personalityIntelligenceLevel}}\"|\n\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t/ife (personalitySocialSkills != 'None') {:\n\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}{{newline}}\"|\n\t:}|\n\t/addvar key=extra \"- Character Overview: {{getvar::characterOverview}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/flushvar extra|\n\t/setvar key=genSettings index=contextKey []|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t\n\t\n\t/ife (outputIsList == 'Yes') {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/ife (output != '') {:\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n/var key=do No|\n/var key=variableName \"uniqueTraitsEffects\"|\n/ife (uniqueTraits != 'None') {:\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Unique Traits Effects\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsTaskList No|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"{{getvar::parsedArchetype}}\"|\n\t\t/ife (parsedAlignment != 'None') {:\n\t\t\t/addvar key=extra \"{{newline}}{{getvar::parsedAlignment}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Intelligence Level: {{getvar::personalityIntelligenceLevel}}\"|\n\t\t/ife (personalitycognitiveAbilities != 'None') {:\n\t\t\t/addvar key=extra \"- Cognitive Abilities: {{getvar::personalitycognitiveAbilities}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t\t/ife (personalitySocialSkills != 'None') {:\n\t\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"{{newline}}{{getvar::parsedAspiration}}\"|\n\t\t/addvar key=extra \"- Character Overview: {{getvar::characterOverview}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/flushvar extra|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\n\t\t/ife (settingType == 'Realistic'){:\n\t\t\t/setvar key=logicBasedInstruction \"- Avoid supernatural, magical, or heroic-fantasy phrasing in traits or behaviors. Focus on emotionally grounded, plausible responses.\"|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar key=logicBasedInstruction \"- You may include exaggerated, symbolic, or physically extreme responses suited to the world context.\"|\n\t\t:}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/foreach {{getvar::uniqueTraits}} {:\n\t\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t:}|\n\t\t\t/flushvar {{var::variableName}}Item|\n\t\t:}|\n\t\t/else {:\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n:}|\n/else {:\n\t/setvar key={{var::variableName}} None|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n/ife (uniqueTraits != 'None') {:\n\t/setvar key=parsedTraits []|\n\t/foreach {{getvar::uniqueTraits}} {:\n\t\t/let key=trait {{var::item}}|\n\t\t/getvar key=uniqueTraitsEffects index={{var::index}}|\n\t\t/let key=effect {{pipe}}|\n\t\t/findentry field=comment file=\"CMC Templates\" \"Unique Trait Template\"|\n\t\t/getentryfield field=content file=\"CMC Templates\" {{pipe}}|\n\t\t/re-replace find=\"/--UniqueTrait--/g\" replace=\"{{var::item}}\" {{pipe}}|\n\t\t/re-replace find=\"/--Effect--/g\" replace=\"{{var::effect}}\" {{pipe}}|\n\t\t/addvar key=parsedTraits {{pipe}}|\n\t:}|\n\t/join glue=\"{{newline}}{{newline}}\" {{getvar::parsedTraits}}|\n\t/setvar key=parsedTraits {{pipe}}|\n:}|\n/else {:\n\t/setvar key=parsedTraits None|\n:}|\n/addvar key=dataBaseNames parsedTraits|\n\n\n/:\"CMC Logic.JEDParse\"|\n\n/:\"CMC Logic.Save DataBase\"|\n\n/setvar key=stepDone Yes|\n/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/var qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Speech Patterns\" {{pipe}}|\n/forcesave|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":14,"icon":"","showLabel":false,"label":"Step7 Generate Speech Patterns","title":"","message":"/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/let qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Speech Patterns\" {{pipe}}|\n\n/:\"CMC Logic.Get Char info\"|\n\n/setvar key=dataBaseNames []|\n/flushvar genSettings|\n\n/setvar key=stepVar Step7|\n\n/setvar key=skip Update|\n/ife ( stepDone == 'No') {:\n\t/buttons labels=[\"Skip\", \"Update\"] Do you want to skip or update already generated content? You will get a question for each already done if you select Update.|\n\t/setvar key=skip {{pipe}}|\n\t/ife ( skip == ''){:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n:}|\n\n/setvar key=stepDone No|\n\n/let key=do {{noop}}|\n/let key=variableName {{noop}}|\n/let selected_btn {{noop}}|\n\n/setvar key=randomTags {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}|\n/split {{getvar::randomTags}}|\n/setvar key=randomTags {{pipe}}|\n\n//Speech Style|\n/var key=do No|\n/var key=variableName \"speechStyle\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Speech Style\"|\n\t/setvar key=genSettings index=genIsList No|\n\t\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Main Personality Trait{{getvar::personalityMainTrait}}\"|\n\t/addvar key=extra \"- Personality Trait Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t/addvar key=extra \"- Intelligence Level: {{getvar::personalityIntelligenceLevel}}\"|\n\t/ife (personalitycognitiveAbilities != 'None') {:\n\t\t/addvar key=extra \"- Cognitive Abilities: {{getvar::personalitycognitiveAbilities}}\"|\n\t:}|\n\t/ife (personalitySocialSkills != 'None') {:\n\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}\"|\n\t:}|\n\t/ife (personalitySocialBehavior != 'Normal') {:\n\t\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t:}|\n\t/addvar key=extra \"- Time Period: {{getvar::timePeriod}}\"|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/addvar key=extra \"- Character Overview: {{getvar::characterOverview}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t/ife (settingType == 'Realistic') {:\n\t\t/ife (logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Avoid fantastical, genre-stylized, or anachronistic speech patterns — use realistic and grounded dialogue.\"|\n\t:}|\n\t/elseif (settingType != 'Realistic') {:\n\t\t/ife (logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- You may include stylized, heightened, or genre-tuned phrasing if it suits the world tone.\"|\n\t:}|\n\t\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n//Speech Quirks|\n/var key=do No|\n/var key=variableName \"speechQuirks\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Speech Quirks\"|\n\t/setvar key=genSettings index=genIsList No|\n\t\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"{{getvar::parsedArchetype}}\"|\n\t/addvar key=extra \"- Personality Trait Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t/addvar key=extra \"- Intelligence Level: {{getvar::personalityIntelligenceLevel}}\"|\n\t/ife (personalitycognitiveAbilities != 'None') {:\n\t\t/addvar key=extra \"- Cognitive Abilities: {{getvar::personalitycognitiveAbilities}}\"|\n\t:}|\n\t/ife (personalitySocialSkills != 'None') {:\n\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}\"|\n\t:}|\n\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t/addvar key=extra \"- Time Period: {{getvar::timePeriod}}\"|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/addvar key=extra \"- Character Overview: {{getvar::characterOverview}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t/ife (settingType == 'Realistic'){:\n\t\t/setvar key=logicBasedInstruction \"- Avoid overly fantastical, magical, or exaggerated quirks unless grounded in culture, trauma, or plausible behavior.\"|\n\t:}|\n\t/elseif (settingType != 'Realistic'){:\n\t\t/setvar key=logicBasedInstruction \"- You may include symbolic, magical, or genre-stylized quirks if they reflect the character’s world and personality.\"|\n\t:}|\n\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n//Speech Tics|\n/var key=do No|\n/var key=variableName \"speechSingleTics\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Speech Single Ticks\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList Yes|\n\t/setvar key=genSettings index=maxSizeOfList 2|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=genSettings index=random {{getvar::randomTags}}|\n\t/setvar key=extra []|\n\t//addvar key=extra \"{{getvar::parsedArchetype}}\"|\n\t//addvar key=extra \"- Personality Trait Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t/addvar key=extra \"- Intelligence Level: {{getvar::personalityIntelligenceLevel}}\"|\n\t/ife (personalitycognitiveAbilities != 'None') {:\n\t\t/addvar key=extra \"- Cognitive Abilities: {{getvar::personalitycognitiveAbilities}}\"|\n\t:}|\n\t/ife (personalitySocialSkills != 'None') {:\n\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}\"|\n\t:}|\n\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t/addvar key=extra \"- Time Period: {{getvar::timePeriod}}\"|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t//addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/addvar key=extra \"- Character Overview: {{getvar::characterOverview}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\n/ife (settingType == 'Realistic'){:\n\t/ife ( logicBasedInstruction != '') {:\n\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t:}|\n\t/addvar key=logicBasedInstruction \"- Avoid magical, stylized, or overly theatrical tics unless clearly grounded in neurodivergence or species-based vocal patterns.\"|\n:}|\n/else {:\n\t/ife ( logicBasedInstruction != '') {:\n\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t:}|\n\t/addvar key=logicBasedInstruction \"- Stylized, symbolic, or genre-affected vocal patterns are allowed if consistent with world rules (e.g., glitch-echo, spell-fragments, enchanted repetition).\"|\n:}|\n\t\t\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n/var key=do No|\n/var key=variableName \"speechTics\"|\n/len {{getvar::speechSingleTics}}|\n/let key=len {{pipe}}|\n/ife (len == 2) {:\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Speech Tics\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext No|\n\t\t/setvar key=extra []|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/setvar key=i 1|\n\t\t/foreach {{getvar::speechSingleTics}} {:\n\t\t\t/setvar key=tic{{getvar::i}} {{var::item}}|\n\t\t\t/incvar i|\n\t\t\t/setvar key=i {{pipe}}|\n\t\t:}|\n\t\t/flushvar i|\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t\t/flushvar tic1|\n\t\t/flushvar tic2|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t\n:}|\n/else {:\n\t/getvar key=speechSingleTics index=0|\n\t/setvar key={{var::variableName}} {{pipe}}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n\n\n/flushvar randomTags|\n\n\n/:\"CMC Logic.JEDParse\"|\n\n/:\"CMC Logic.Save DataBase\"|\n\n/setvar key=stepDone Yes|\n/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/var qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating External Interaction\" {{pipe}}|\n/forcesave|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":16,"icon":"","showLabel":false,"label":"Step8 Generate External Interaction","title":"","message":"/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/let qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating External Interaction\" {{pipe}}|\n\n/:\"CMC Logic.Get Char info\"|\n\n/setvar key=dataBaseNames []|\n/flushvar genSettings|\n\n/setvar key=stepVar Step8|\n\n/setvar key=skip Update|\n/ife ( stepDone == 'No') {:\n\t/buttons labels=[\"Skip\", \"Update\"] Do you want to skip or update already generated content? You will get a question for each already done if you select Update.|\n\t/setvar key=skip {{pipe}}|\n\t/ife ( skip == ''){:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n:}|\n\n/setvar key=stepDone No|\n\n/let key=do {{noop}}|\n/let key=variableName {{noop}}|\n/let selected_btn {{noop}}|\n\n//Connections|\n/var key=do No|\n/var key=variableName \"connections\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Connections\"|\n\t/setvar key=genSettings index=genIsList No|\n\t\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/ife (user == 'Yes') {:\n\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t:}|\n\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t/ife (user == 'Yes') {:\n\t\t\n\t\t/ife ( logicBasedInstruction == '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- If a connection is --User--, write their name **exactly** as `--User--` with no surname.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction == '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Use only valid relationships to {{getvar::firstName}} (e.g., `Friend of {{getvar::firstName}}`, `Mentor of {{getvar::firstName}}`, etc.).\"|\n\t\t\n\t\t/ife ( logicBasedInstruction == '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Do **not** add a full name, inferred gender, or descriptive label like “Andersson” — --User-- must stay anonymous in all contexts.\"|\n\t:}|\n\t/ife ((characterArchetype == 'Human') or (characterArchetype == 'Android') or (characterArchetype == 'Beastkin') or (characterArchetype == 'Mythfolk')) {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Use standard human familial terms (e.g., “mother,” “foster brother”) unless species logic overrides this.\"|\n\t\t\n\t:}|\n\t/elseif (characterArchetype == 'Anthropomorphic') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Default to human-style terms, but allow species-aligned roles (e.g., “tribe-guardian,” “clan-sibling”) when fitting.\"|\n\t\t\n\t:}|\n\t/else {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Use species-specific kin or pack structures (e.g., “clutchmate,” “herd elder,” “pack alpha”) and avoid human roles unless clearly justified.\"|\n\t\t\n\t:}|\n\t\n\t/ife (settingType == 'Realistic') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Default to conventional human familial and social roles unless characterArchetype explicitly requires otherwise.\"|\n\t\t\n\t:}|\n\t/else {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Use culturally and biologically appropriate kinship structures (e.g., “soul-bonded trainer,” “unit sibling,” “a bonded mage-companion”) based on species or origin.\"|\n\t\t\n\t:}|\n\t\n\t\n\t\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/foreach {{getvar::CHANGE/REMOVE_THIS}} {:\n\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t:}|\n\t\t/flushvar {{var::variableName}}Item|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n//Abilities|\n/var key=do No|\n/var key=variableName \"abilityNames\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Ability Names\"|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=needOutput No|\n\t/setvar key=genSettings index=outputIsList Yes|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/ife (user == 'Yes') {:\n\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t:}|\n\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t/addvar key=extra \"{{getvar::parsedOccupation}}\"|\n\t/addvar key=extra \"- Scenario Overview: {{getvar::scenarioOverview}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t/setvar key=settingRule {{noop}}|\n\t/ife (settingType == 'Realistic') {:\n\t\t/setvar key=settingRule \"grounded physical, psychological, or sensory traits\"|\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Abilities must be fully plausible in the real world. This includes advanced flexibility, sensory focus, pain tolerance, emotional control, or exceptional training. Do not include magic, psionics, supernatural phenomena, or any kind of proficiency level.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Fantasy') {:\n\t\t/setvar key=settingRule \"magical, divine, inherited, or mystical traits\"|\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Abilities may include elemental powers, curses, divine traits, inherited magic, or arcane disciplines. Do not include tiers, mastery labels, or strength modifiers—those are handled in a later step.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Science Fiction') {:\n\t\t/setvar key=settingRule \"psionic, cybernetic, gene-modified, or tech-integrated traits\"|\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Abilities may include psionics, gene traits, mental enhancements, or biotech-integrated skills. Do not include levels, size indicators, or parenthetical ranks—those will be generated separately.\"|\n\t\t\n\t:}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/foreach {{getvar::CHANGE/REMOVE_THIS}} {:\n\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t:}|\n\t\t/flushvar {{var::variableName}}Item|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n\t/flushvar settingRule|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n\n/getvar key=abilityNames index=0|\n/var key=do {{pipe}}|\n/ife ((do != '') and (do != 'None')) {:\n\t/var key=do No|\n\t/var key=variableName \"abilityProficiencies\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Ability Proficiency\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput No|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t\t/ife (user == 'Yes') {:\n\t\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}} (do not directly turn into ability names; use only as influence)\"|\n\t\t/addvar key=extra \"{{getvar::parsedOccupation}}\"|\n\t/addvar key=extra \"- Scenario Overview: {{getvar::scenarioOverview}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\n\t\t/ife (settingType == 'Realistic') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Use realistic mastery tiers, physical control states, or measured performance levels. Do not use magical, tech-based, or mystical states.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (settingType == 'Fantasy') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Use magical resonance levels, mystical awakenings, spell tiering, or enchanted conditions. You may use poetic or arcane phrasing.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (settingType == 'Science Fiction') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Use mutation stages, neural tiers, cybernetic activation levels, or psionic charge states. Do not include divine, magical, or elemental qualifiers.\"|\n\t\t\t\n\t\t:}|\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/foreach {{getvar::abilityNames}} {:\n\t\t\t\t/setvar key=abilityName {{var::item}}|\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar guidance|\n\t\t\t:}|\n\t\t\t/flushvar abilityName|\n\t\t:}|\n\t\t/else {:\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t\n\t/setvar key=abilityNamesProficiencies []|\n\t/foreach  {{getvar::abilityNames}} {:\n\t\t/getvar key=abilityProficiencies index={{var::index}}|\n\t\t/let key=prof {{pipe}}|\n\t\t/ife (( prof != '') and ( prof != 'None')) {:\n\t\t\t/addvar key=abilityNamesProficiencies \"{{var::item}} ({{var::prof}})\"|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=abilityNamesProficiencies \"{{var::item}}\"|\n\t\t:}|\n\t:}|\n\t/addvar key=dataBaseNames abilityNamesProficiencies|\n\t\n\t/var key=do No|\n\t/var key=variableName \"abilityDetails\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Ability Details\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t\t/ife (user == 'Yes') {:\n\t\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t\t/addvar key=extra \"{{getvar::parsedOccupation}}\"|\n\t/addvar key=extra \"- Scenario Overview: {{getvar::scenarioOverview}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\n\t\t/ife (settingType == 'Realistic') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Description must reflect real-world logic and be physically or psychologically plausible. Do not reference magic, tech, or supernatural forces.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (settingType == 'Fantasy') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- You may include references to mana, magic, curses, bloodlines, or mystic energies. Abilities may scale dramatically between levels.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (settingType == 'Science Fiction') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- You may reference cybernetic processes, psionic channels, tech-enhanced cognition, or biotech-based traits. Avoid magical concepts.\"|\n\t\t\t\n\t\t:}|\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/foreach {{getvar::abilityNamesProficiencies}} {:\n\t\t\t\t/setvar key=abilityName {{var::item}}|\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar guidance|\n\t\t\t:}|\n\t\t\t/flushvar abilityName|\n\t\t:}|\n\t\t/else {:\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=abilityNames None|\n\t/addvar key=dataBaseNames abilityNames|\n\t/setvar key=abilityProficiencies None|\n\t/addvar key=dataBaseNames abilityProficiencies|\n\t/setvar key=abilityNamesProficiencies None|\n\t/addvar key=dataBaseNames abilityNamesProficiencies|\n:}|\n\n\n/ife (abilityNames != 'None') {:\n\t/setvar key=parsedAbilities []|\n\t/foreach {{getvar::abilityNamesProficiencies}} {:\n\t\t/let key=trait {{var::item}}|\n\t\t/getvar key=abilityDetails index={{var::index}}|\n\t\t/let key=deta {{pipe}}|\n\t\t/findentry field=comment file=\"CMC Templates\" \"Abilities Template\"|\n\t\t/getentryfield field=content file=\"CMC Templates\" {{pipe}}|\n\t\t/re-replace find=\"/--Ability--/g\" replace=\"{{var::item}}\" {{pipe}}|\n\t\t/re-replace find=\"/--Description--/g\" replace=\"{{var::deta}}\" {{pipe}}|\n\t\t/addvar key=parsedAbilities {{pipe}}|\n\t:}|\n\t/join glue=\"{{newline}}{{newline}}\" {{getvar::parsedAbilities}}|\n\t/setvar key=parsedAbilities {{pipe}}|\n:}|\n/else {:\n\t/setvar key=parsedAbilities None|\n:}|\n/addvar key=dataBaseNames parsedAbilities|\n//--------|\n\n//Items / Equipment|\n/var key=do No|\n/var key=variableName \"itemNames\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Item or Equipment Names\"|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=needOutput No|\n\t/setvar key=genSettings index=outputIsList Yes|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/ife (user == 'Yes') {:\n\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t:}|\n\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t/addvar key=extra \"{{getvar::parsedOccupation}}\"|\n\t/addvar key=extra \"- Scenario Overview: {{getvar::scenarioOverview}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t/ife (settingType == 'Realistic') {:\n\t\t/setvar key=settingRule \"practical, everyday tools or personal effects\"|\n:}|\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Limit items to real-world modern gear, accessories, or everyday personal objects. Do not include magic, advanced tech, or fantasy items.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Fantasy') {:\n\t\t/setvar key=settingRule \"charms, relics, satchels, tomes, minor weapons, or magical trinkets\"|\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Items may include magical trinkets, mystical gear, herbal components, talismans, or medieval-style tools and charms.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Science Fiction') {:\n\t\t /setvar key=settingRule \"tech tools, augmentations, energy items, or utility gear\"|\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Items may include advanced tools, nanotech, biotech devices, psionic accessories, or gear with augmented properties.\"|\n\t\t\n\t:}|\n\t/ife ((characterArchetype == 'Anthropomorphic') or (characterArchetype == 'Beastkin')) {:\n\t\t  /setvar key=logicBasedInstruction \"- Items should be human-based in function and design, reflecting clothing, tools, or accessories that an anthropomorphic or beastkin character would logically carry.\"|\n\t:}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/foreach {{getvar::CHANGE/REMOVE_THIS}} {:\n\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t:}|\n\t\t/flushvar {{var::variableName}}Item|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n\n/getvar key=itemNames index=0|\n/var key=do {{pipe}}|\n/ife ((do != '') and (do != 'None')) {:\n\t/var key=do No|\n\t/var key=variableName \"itemDetails\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Item or Equipment Description\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t\t/ife (user == 'Yes') {:\n\t\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t\t/addvar key=extra \"{{getvar::parsedOccupation}}\"|\n\t/addvar key=extra \"- Scenario Overview: {{getvar::scenarioOverview}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\n\t\t/ife (settingType == 'Realistic') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Do not include magical, advanced tech, or psionic properties. Focus on grounded, everyday materials and wear.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (settingType == 'Fantasy') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- You may reference glowing runes, magical engravings, spiritual symbols, or arcane materials—but avoid lore or spell explanations.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (settingType == 'Science Fiction') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- You may reference interfaces, synth materials, nanotech casings, and embedded circuitry—but avoid system-level tech detail or exposition.\"|\n\t\t\t\n\t\t:}|\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/foreach {{getvar::itemNames}} {:\n\t\t\t\t/setvar key=itemName {{var::item}}|\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar guidance|\n\t\t\t:}|\n\t\t\t/flushvar itemName|\n\t\t:}|\n\t\t/else {:\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=itemNames None|\n\t/addvar key=dataBaseNames itemNames|\n\t/setvar key=itemDetails None|\n\t/addvar key=dataBaseNames itemDetails|\n:}|\n\n\n/ife (itemNames != 'None') {:\n\t/setvar key=parsedItems []|\n\t/foreach {{getvar::itemNames}} {:\n\t\t/let key=trait {{var::item}}|\n\t\t/getvar key=itemDetails index={{var::index}}|\n\t\t/let key=deta {{pipe}}|\n\t\t/findentry field=comment file=\"CMC Templates\" \"Item or Equipment Template\"|\n\t\t/getentryfield field=content file=\"CMC Templates\" {{pipe}}|\n\t\t/re-replace find=\"/--Item--/g\" replace=\"{{var::item}}\" {{pipe}}|\n\t\t/re-replace find=\"/--Details--/g\" replace=\"{{var::deta}}\" {{pipe}}|\n\t\t/addvar key=parsedItems {{pipe}}|\n\t:}|\n\t/join glue=\"{{newline}}{{newline}}\" {{getvar::parsedItems}}|\n\t/setvar key=parsedItems {{pipe}}|\n:}|\n/else {:\n\t/setvar key=parsedItems None|\n:}|\n/addvar key=dataBaseNames parsedItems|\n//--------|\n\n//Secrets|\n/var key=do No|\n/var key=variableName \"secrets\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Secrets\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput No|\n\t/setvar key=genSettings index=outputIsList Yes|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t\t/ife (user == 'Yes') {:\n\t\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t\t/ife (parsedAbilities != None) {:\n\t\t\t/addvar key=extra \"{{newline}}**Abilities**{{newline}}{{getvar::parsedAbilities}}\"|\n\t\t:}|\n\t\t/ife (parsedAbilities != None) {:\n\t\t\t/addvar key=extra \"{{newline}}**Items or Gear**{{newline}}{{getvar::parsedItems}}\"|\n\t\t:}|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/foreach {{getvar::CHANGE/REMOVE_THIS}} {:\n\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t:}|\n\t\t/flushvar {{var::variableName}}Item|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n/setvar key=parsedSecret None|\n/ife (secrets != 'None') {:\n\t/setvar key=parsedSecret \"### SECRET{{newline}}[IMPORTANT NOTE FOR AI: This section represents concealed internal truths about {{getvar::firstName}}. These secrets should not be stated directly in narration, dialog, or internal thoughts unless {{getvar::firstName}} is actively confronted, emotionally compromised, or chooses to reveal them. Secrets influence behavior, tone, and reactions—but remain hidden from others unless explicitly triggered in-scene.]{{newline}}\"|\n\t/foreach {{getvar::secrets}} {:\n\t\t/addvar key=parsedSecret \"{{newline}}{{var::item}}\"\n\t:}|\n:}|\n/addvar key=dataBaseNames parsedSecret|\n\n\n/:\"CMC Logic.JEDParse\"|\n\n/:\"CMC Logic.Save DataBase\"|\n\n/setvar key=stepDone Yes|\n/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/var qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Sexual Information\" {{pipe}}|\n/forcesave|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":18,"icon":"","showLabel":false,"label":"Step9 Generate Sexual Information","title":"","message":"/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/let qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Sexual Information\" {{pipe}}|\n\n/:\"CMC Logic.Get Char info\"|\n\n/setvar key=dataBaseNames []|\n/flushvar genSettings|\n\n/setvar key=stepVar Step9|\n\n/setvar key=skip Update|\n/ife ( stepDone == 'No') {:\n\t/buttons labels=[\"Skip\", \"Update\"] Do you want to skip or update already generated content? You will get a question for each already done if you select Update.|\n\t/setvar key=skip {{pipe}}|\n\t/ife ( skip == ''){:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n:}|\n\n/setvar key=stepDone No|\n\n/let key=do {{noop}}|\n/let key=variableName {{noop}}|\n/let selected_btn {{noop}}|\n\n//Sexual Orientation|\n/var key=do No|\n/var key=variableName \"sexualOrientation\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/ife ((characterArchetype == 'Human') or (characterArchetype == 'Android') or (characterArchetype == 'Mythfolk') or (characterArchetype == 'Beastkin')) {:\n\t\t/setvar key=genSettings index=wi_book_key \"Sexual Orientation Humanoid\"|\n\t:}|\n\t/elseif (characterArchetype == 'Anthropomorphic') {:\n\t\t/setvar key=genSettings index=wi_book_key \"Sexual Orientation Anthropomorphic\"|\n\t:}|\n\t/elseif (characterArchetype == 'Tauric') {:\n\t\t/setvar key=genSettings index=wi_book_key \"Sexual Orientation Tauric\"|\n\t:}|\n\t/elseif (characterArchetype == 'Animalistic') {:\n\t\t/setvar key=genSettings index=wi_book_key \"Sexual Orientation Animalistic\"|\n\t:}|\n\t/elseif (characterArchetype == 'Pokémon') {:\n\t\t/setvar key=genSettings index=wi_book_key \"Sexual Orientation Pokémon\"|\n\t:}|\n\t/elseif (characterArchetype == 'Digimon') {:\n\t\t/setvar key=genSettings index=wi_book_key \"Sexual Orientation Digimon\"|\n\t:}|\n\t/else {:\n\t\t/setvar key=genSettings index=wi_book_key \"Sexual Orientation Humanoid\"|\n\t:}|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext No|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/let key=wi_book_key {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/ife ( inputIsList == 'Yes') {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/ife ( combineLorebookEntries == 'Yes') {:\n\t\t\t/:\"CMC Logic.Combine List Lorebooks\"\n\t\t:}|\n\t\t/foreach {{getvar::genOrder}} {:\n\t\t\t/setvar key=it {{var::item}}|\n\t\t\t/getat index={{var::index}} {{var::genOrderContent}} |\n\t\t\t/setvar key=genSettings index=content {{pipe}}|\n\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t/ife (output != '') {:\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/ife (output != '') {:\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n/var key=do No|\n/var key=variableName \"sexualOrientationExplanation\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Sexual Orientation Explanation\"|\n\t/setvar key=genSettings index=genIsList No|\n\t\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/ife (user == 'Yes') {:\n\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t:}|\n\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"|\n\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t\n\t/ife (sexualOrientation == 'Heterosexual') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Focus attraction toward the opposite sex — emphasize traditionally masculine or feminine traits depending on character’s gender and age.\"|\n\t\t\n\t:}|\n\t/elseif (sexualOrientation == 'Pansexual') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Describe attraction to a broad range of gender expressions or bodies — avoid reducing attraction to a binary or to one physical archetype.\"|\n\t\t\n\t:}|\n\t/elseif (sexualOrientation == 'Asexual') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Emphasize lack of innate sexual attraction; describe emotional or aesthetic triggers only if relevant.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Describe how attraction requires deep bonding, or what is **not** felt.\"|\n\t\t\n\t:}|\n\t/elseif (sexualOrientation == 'Demisexual') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Attraction must require **deep emotional connection** before any physical or sexual interest is felt.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Describe how attraction requires deep bonding, or what is **not** felt.\"|\n\t\t\n\t:}|\n\t/elseif (sexualOrientation == 'Bi-curious') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Express curiosity or tentative interest in same-gender or non-typical partners — use uncertain or exploratory language.\"|\n\t\t\n\t:}|\n\t/elseif (sexualOrientation == 'Xenosexual') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Attraction should focus on **non-human humanoid** or **hybrid forms** (e.g., beastkin, aliens, Mythfolks). Highlight features like mixed anatomy, unusual physiology, or hybrid charm — avoid feral or quadrupedal attraction.\"|\n\t\t\n\t:}|\n\t/elseif (sexualOrientation == 'Zoosexual') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Attraction should be directed toward **fully animalistic**, **feral**, or **quadrupedal bodies**. Emphasize instinctual behavior, physical traits (e.g., fur, gait, size), or dominance/submission cues — avoid humanoid references.\"|\n\t\t\n\t:}|\n\t\n\t\n\t/ife ((settingType == 'Realistic') and (sexualOrientation != 'Zoosexual') and (sexualOrientation != 'Xenosexual')) {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Avoid references to alien, hybrid, or feral attraction unless justified by species context. Keep tone grounded in biologically plausible preferences.\"|\n\t\t\n\t:}|\n\t\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/foreach {{getvar::CHANGE/REMOVE_THIS}} {:\n\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t:}|\n\t\t/flushvar {{var::variableName}}Item|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n//Sexual Role|\n/var key=do No|\n/var key=variableName \"sexualRole\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Sexual Role\"|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput No|\n\t/setvar key=genSettings index=useContext No|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/let key=wi_book_key {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/ife ( inputIsList == 'Yes') {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/ife ( combineLorebookEntries == 'Yes') {:\n\t\t\t/:\"CMC Logic.Combine List Lorebooks\"\n\t\t:}|\n\t\t/foreach {{getvar::genOrder}} {:\n\t\t\t/setvar key=it {{var::item}}|\n\t\t\t/getat index={{var::index}} {{var::genOrderContent}} |\n\t\t\t/setvar key=genSettings index=content {{pipe}}|\n\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t/ife (output != '') {:\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/ife (output != '') {:\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n/var key=do No|\n/var key=variableName \"sexualRoleExplanation\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Sexual Role Explanation\"|\n\t/setvar key=genSettings index=genIsList No|\n\t\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/ife (user == 'Yes') {:\n\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t:}|\n\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t/addvar key=extra \"- Sexual Orientation: {{getvar::sexualOrientation}}\"|\n\t/addvar key=extra \"- Orientation Explanation: {{getvar::sexualOrientationExplanation}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t\n\t/ife (sexualRole == 'Dominant') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Character must take control during intimacy — they lead, direct, and handle their partner confidently.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Show active physical or verbal dominance (e.g., restraint, commands, assertive touch).\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Personality tags may affect tone (e.g., cold, nurturing, aggressive), but role remains in control.\"|\n\t\t\n\t:}|\n\t/elseif (sexualRole == 'Top') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Character takes the physically active or giving role during sex, initiating contact or stimulation.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- May or may not control dynamics — focus on action and assertive engagement.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Tags like playful, impatient, or intense may shape *how* they act, not whether they do.\"|\n\t\t\n\t:}|\n\t/elseif (sexualRole == 'Submissive') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Character must yield control and respond to a dominant partner’s actions or guidance.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Show willingness to follow, wait, or obey — describe receptive body language or behavior.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Tags may affect how passivity is expressed (e.g., shy, eager, stoic), but they should not lead.\"|\n\t\t\n\t:}|\n\t/elseif (sexualRole == 'Bottom') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Character takes a physically passive or receiving role — they are touched, penetrated, or held.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- May be sexually assertive in tone or feedback, but should not initiate or guide.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Tags should shape *emotional reaction* or tone of passivity (e.g., needy, playful, tense).\"|\n\t\t\n\t:}|\n\t/elseif (sexualRole == 'Switch') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Character is flexible — describe adaptive behavior that shifts based on mood or partner energy.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Show role fluidity: confident control in one moment, eager submission in the next.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Tags can influence preference or transitions (e.g., impulsive = faster switching).\"|\n\t\t\n\t:}|\n\t/elseif (sexualRole == 'Service Top') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Character takes an active role, but their focus is on fulfilling their partner’s needs or preferences — not on dominance.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Use actions like initiating stimulation or adjusting pace for the other’s benefit.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Tags may reflect devotion, calm precision, or eager support — never controlling ego.\"|\n\t\t\n\t:}|\n\t/elseif (sexualRole == 'Power Bottom') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Character is physically submissive but emotionally or behaviorally assertive.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Describe how they guide the encounter from below: giving feedback, demanding more, controlling pace from a passive position.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Tags should enhance their bold, teasing, or confident tone without contradicting positional passivity.\"|\n\t\t\n\t:}|\n\t/elseif (sexualRole == 'Soft Dom') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Character is dominant, but emotionally nurturing and attentive — they lead while offering care and reassurance.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Show steady control paired with kindness (e.g., praise, soft restraint, protective behavior).\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Tags like gentle, warm, or empathetic reinforce tone without reducing authority.\"|\n\t\t\n\t:}|\n\t/elseif (sexualRole == 'Brat') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Character resists control playfully or provocatively — they provoke dominance, not avoid it.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Emphasize teasing, defiance, or button-pushing behavior followed by eventual surrender.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Tags like impulsive, tomboyish, or stubborn shape style of resistance, not goal (being overpowered).\"|\n\t\t\n\t:}|\n\t/elseif (sexualRole == 'Pillow Princess') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Character prefers to receive pleasure passively and rarely initiates.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Show behavior like lying back, encouraging attention, or expressing enjoyment without active contribution.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Tags may amplify tone (e.g., shy = quiet, bratty = mildly demanding), but never initiate.\"|\n\t\t\n\t:}|\n\t/elseif (sexualRole == 'Owner') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Character asserts possessive, long-term dominance — focus on symbolic or emotional control, not just physical.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Show hierarchical behavior: giving permission, claiming, or marking territory (e.g., collars, commands).\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Tags like cold, obsessive, or refined may shift dominance tone.\"|\n\t\t\n\t:}|\n\t/elseif (sexualRole == 'Pet') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Character expresses obedience and affection through submissive, creature-like behavior.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Emphasize emotional dependence, eagerness to please, or physical submission through posture or vocalization.\"|\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Tags like clingy, shy, or cheerful can shape expression of petlike behavior — never switch to control.\"|\n\t\t\n\t:}|\n\t\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/foreach {{getvar::CHANGE/REMOVE_THIS}} {:\n\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t:}|\n\t\t/flushvar {{var::variableName}}Item|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n\n\n\n/findentry field=comment file=\"CMC Templates\" \"Sexual Orientation Template\"|\n/getentryfield field=content file=\"CMC Templates\" {{pipe}}|\n/setvar key=parsedSexualOrientation {{pipe}}|\n\n/addvar key=dataBaseNames parsedSexualOrientation|\n\n/findentry field=comment file=\"CMC Templates\" \"Sexual Role Template\"|\n/getentryfield field=content file=\"CMC Templates\" {{pipe}}|\n/setvar key=parsedSexualRole {{pipe}}|\n\n/addvar key=dataBaseNames parsedSexualRole|\n//--------|\n\n//Libido|\n/var key=do No|\n/var key=variableName \"sexualLibido\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Libido\"|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext No|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/let key=wi_book_key {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/ife ( inputIsList == 'Yes') {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/ife ( combineLorebookEntries == 'Yes') {:\n\t\t\t/:\"CMC Logic.Combine List Lorebooks\"\n\t\t:}|\n\t\t/foreach {{getvar::genOrder}} {:\n\t\t\t/setvar key=it {{var::item}}|\n\t\t\t/getat index={{var::index}} {{var::genOrderContent}} |\n\t\t\t/setvar key=genSettings index=content {{pipe}}|\n\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t/ife (output != '') {:\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/ife (output != '') {:\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n//Kinks|\n/var key=do No|\n/var key=variableName \"sexualKinkTypes\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Kink Type\"|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=genAmount 10|\n\t\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList Yes|\n\t/setvar key=genSettings index=useContext No|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/addvar key=extra \"- Species: {{getvar::parsedSpecies}}\"|\n\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t\n\t/ife (settingType == 'Realistic') {:\n\t\t\n\t\t/ife ( user == 'Yes') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Only include kinks that are grounded in real-world physical, psychological, or social dynamics. Avoid magical, alien, or non-physical elements.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Fantasy') {:\n\t\t\n\t\t/ife ( user == 'Yes') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- You may include magical, mythic, or creature-based kink categories if they match the species or emotional tone.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Science Fiction') {:\n\t\t\n\t\t/ife ( user == 'Yes') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- You may include alien, biotech, cybernetic, psionic, or synthetic kink categories if appropriate to the character’s setting or biology.\"|\n\t\t\n\t:}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/foreach {{getvar::CHANGE/REMOVE_THIS}} {:\n\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t:}|\n\t\t/flushvar {{var::variableName}}Item|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n\n/var key=do No|\n/var key=variableName \"sexualKinkVariants\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Kink Variant\"|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=genAmount 8|\n\t/setvar key=genSettings index=inputIsList Yes|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput No|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext No|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t\n\t/ife (settingType == 'Realistic') {:\n\t\t\n\t\t/ife ( user == 'Yes') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Focus on physical, psychological, or interpersonal kinks. Avoid sci-fi/fantasy-specific kinks like tentacles or psionics unless species or origin supports them.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Fantasy') {:\n\t\t\n\t\t/ife ( user == 'Yes') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- You may include magical, supernatural, or creature-related kink types—such as possession, corruption, size-shifting, or ritual play.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Science Fiction') {:\n\t\t\n\t\t/ife ( user == 'Yes') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- You may include biotech, psionic, AI-based, or body-modification kink types, including neural control or holographic restraint.\"|\n\t\t\n\t:}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/let key=tempOutputList []|\n\t\t/foreach {{getvar::sexualKinkTypes}} {:\n\t\t\t/setvar key=kinkType {{var::item}}|\n\t\t\t/setvar key=genSettings index=buttonPrompt \"Select the kink variant for '{{var::item}}' you want {{getvar::firstName}} to have. 'Optional'\"|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/len {{var::tempOutputList}}|\n\t\t\t/var key=tempOutputList index={{pipe}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar kinkType|\n\t\t\t/flushvar kinkVariant|\n\t\t\t/flushvar kinkRole|\n\t\t\t/flushvar kinkDetail|\n\t\t\t/flushvar kinkEffect|\n\t\t\t/flushvar kinkCondition|\n\t\t:}|\n\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n/var key=do No|\n/var key=variableName \"sexualKinkRoles\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Kink Roles\"|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList Yes|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext No|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/let key=wi_book_key {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t\n\t\n\t/ife (inputIsList == 'Yes') {:\n\t\t/let key=tempOutputList []|\n\t\t/foreach {{getvar::sexualKinkTypes}} {:\n\t\t\t/setvar key=it {{var::item}}|\n\t\t\t/findentry field=comment file=\"CMC Information {{getglobalvar::model}}\" \"Kink Role Prompt\"|\n\t\t\t/getentryfield field=content file=\"CMC Information {{getglobalvar::model}}\" {{pipe}}|\n\t\t\t/genraw {{pipe}}|\n\t\t\t/let key=kinkTemp {{pipe}}|\n\t\t\t/setvar key=kinkExp {{noop}}|\n\t\t\t/split {{var::kinkTemp}}|\n\t\t\t/foreach {{pipe}} {:\n\t\t\t\t/addvar key=kinkExp <div>{{var::item}}</div>|\n\t\t\t:}|\n\t\t\t/setvar key=genSettings index=buttonPrompt \"Select the {{var::wi_book_key}} you want {{getvar::it}} to have.{{getvar::kinkExp}}\"|\n\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t/len {{var::tempOutputList}}|\n\t\t\t/var key=tempOutputList index={{pipe}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar kinkExp|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar kinkType|\n\t\t\t/flushvar kinkVariant|\n\t\t\t/flushvar kinkRole|\n\t\t\t/flushvar kinkDetail|\n\t\t\t/flushvar kinkEffect|\n\t\t\t/flushvar kinkCondition|\n\t\t:}|\n\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n/var key=do No|\n/var key=variableName \"sexualKinkAwareness\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Kink Awareness\"|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList Yes|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext No|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/let key=wi_book_key {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t\n\t\n\t/ife (inputIsList == 'Yes') {:\n\t\t/let key=tempOutputList []|\n\t\t/foreach {{getvar::sexualKinkTypes}} {:\n\t\t\t/setvar key=it {{var::item}}|\n\t\t\t/setvar key=genSettings index=buttonPrompt \"Select the {{var::wi_book_key}} you want {{getvar::it}} to have.\"|\n\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t/len {{var::tempOutputList}}|\n\t\t\t/var key=tempOutputList index={{pipe}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar kinkExp|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar kinkType|\n\t\t\t/flushvar kinkVariant|\n\t\t\t/flushvar kinkRole|\n\t\t\t/flushvar kinkDetail|\n\t\t\t/flushvar kinkEffect|\n\t\t\t/flushvar kinkCondition|\n\t\t:}|\n\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n/var key=do No|\n/var key=variableName \"sexualKinkDetails\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Kink Details\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsList Yes|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/ife (user == 'Yes') {:\n\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t:}|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t\n\t/ife (settingType == 'Realistic') {:\n\t\t\n\t\t/ife ( user == 'Yes') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Only use real-world tools, acts, or responses. Do not include fantasy biology or futuristic tech.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Fantasy') {:\n\t\t\n\t\t/ife ( user == 'Yes') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- You may include magical anatomy, rituals, mystical sensations, or monster-related expressions of {{getvar::kinkVariant}}.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Science Fiction') {:\n\t\t\n\t\t/ife ( user == 'Yes') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- You may include biotech enhancements, psionic triggers, alien features, or advanced control devices in the kink experience.\"|\n\t\t\n\t:}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/let key=tempOutputList []|\n\t\t/foreach {{getvar::sexualKinkTypes}} {:\n\t\t\t/setvar key=kinkType {{var::item}}|\n\t\t\t/getvar key=sexualKinkVariants index={{var::index}}|\n\t\t\t/setvar key=kinkVariant {{pipe}}|\n\t\t\t/ife (kinkVariant == 'None') {:\n\t\t\t\t/setvar key=kinkVariantTask {{noop}}|\n\t\t\t\t/setvar key=kinkVariantInstr \"Describe the general expression of {{getvar::kinkType}} without assuming a specific form or target.\"|\n\t\t\t\t/setvar key=genSettings index=buttonPrompt \"Select the description for '{{var::item}}' you want {{getvar::firstName}} to have.\"|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar key=kinkVariantTask \", specifically the **{{getvar::kinkVariant}}** form\"|\n\t\t\t\t/setvar key=kinkVariantInstr \"Focus the description on how {{getvar::firstName}} experiences the {{getvar::kinkVariant}} form of the kink.\"|\n\t\t\t\t/setvar key=genSettings index=buttonPrompt \"Select the description for '{{var::item}}: {{getvar::kinkVariant}}' you want {{getvar::firstName}} to have.\"|\n\t\t\t:}|\n\t\t\t/getvar key=sexualKinkRoles index={{var::index}}|\n\t\t\t/setvar key=kinkRole {{pipe}}|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/len {{var::tempOutputList}}|\n\t\t\t/var key=tempOutputList index={{pipe}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar kinkType|\n\t\t\t/flushvar kinkVariantInstr|\n\t\t\t/flushvar kinkVariantTask|\n\t\t\t/flushvar kinkType|\n\t\t\t/flushvar kinkVariant|\n\t\t\t/flushvar kinkRole|\n\t\t\t/flushvar kinkDetail|\n\t\t\t/flushvar kinkEffect|\n\t\t\t/flushvar kinkCondition|\n\t\t:}|\n\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n/var key=do No|\n/var key=variableName \"sexualKinkEffects\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsList Yes|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext No|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/ife (user == 'Yes') {:\n\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t:}|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t\n\t/ife (settingType == 'Realistic') {:\n\t\t\n\t\t/ife ( user == 'Yes') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- You may include biotech or psionic modulation of behavior, enhanced arousal triggers, or AI-linked reactions where appropriate to the kink context.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Fantasy') {:\n\t\t\n\t\t/ife ( user == 'Yes') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- You may include magical or supernatural influences (e.g., enchanted obedience, arousal curses, spiritual reactions) if consistent with the kink.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Science Fiction') {:\n\t\t\n\t\t/ife ( user == 'Yes') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- You may include biotech or psionic modulation of behavior, enhanced arousal triggers, or AI-linked reactions where appropriate to the kink context.\"|\n\t\t\n\t:}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/let key=tempOutputList []|\n\t\t/foreach {{getvar::sexualKinkTypes}} {:\n\t\t\t/setvar key=kinkType {{var::item}}|\n\t\t\t/getvar key=sexualKinkVariants index={{var::index}}|\n\t\t\t/setvar key=kinkVariant {{pipe}}|\n\t\t\t/ife (kinkVariant == 'None') {:\n\t\t\t\t/setvar key=kinkVariantTask {{noop}}|\n\t\t\t\t/setvar key=kinkVariantInstr \"Describe the general expression of {{getvar::kinkType}} without assuming a specific form or target.\"|\n\t\t\t\t/setvar key=genSettings index=buttonPrompt \"Select the effect '{{var::item}}' have on {{getvar::firstName}}.\"|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar key=kinkVariantTask \", specifically the {{getvar::kinkVariant}} form\"|\n\t\t\t\t/setvar key=kinkVariantInstr {{noop}}|\n\t\t\t\t/setvar key=genSettings index=buttonPrompt \"Select the effect '{{var::item}}: {{getvar::kinkVariant}}' have on {{getvar::firstName}}.\"|\n\t\t\t:}|\n\t\t\t/getvar key=sexualKinkRoles index={{var::index}}|\n\t\t\t/setvar key=kinkRole {{pipe}}|\n\t\t\t/ife (kinkRole == 'Giver') {:\n\t\t\t\t/setvar key=genSettings index=wi_book_key \"Kink Response Giver\"|\n\t\t\t:}|\n\t\t\t/elseif (kinkRole == 'Receiver') {:\n\t\t\t\t/setvar key=genSettings index=wi_book_key \"Kink Response Receiver\"|\n\t\t\t:}|\n\t\t\t/elseif (kinkRole == 'Switch') {:\n\t\t\t\t/setvar key=genSettings index=wi_book_key \"Kink Response Switch\"|\n\t\t\t:}|\n\n\t\t\t/getvar key=sexualKinkDetails index={{var::index}}|\n\t\t\t/setvar key=kinkDetail {{pipe}}|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/len {{var::tempOutputList}}|\n\t\t\t/var key=tempOutputList index={{pipe}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar kinkType|\n\t\t\t/flushvar kinkVariant|\n\t\t\t/flushvar kinkVariantTask|\n\t\t\t/flushvar kinkRole|\n\t\t\t/flushvar kinkDetail|\n\t\t\t/flushvar kinkEffect|\n\t\t\t/flushvar kinkCondition|\n\t\t:}|\n\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n/var key=do No|\n/var key=variableName \"sexualKinkConditions\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Kink Conditions\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsList Yes|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput No|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/ife (user == 'Yes') {:\n\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t:}|\n\t/ife (parsedSentientLevel != 'None') {:\n\t\t/addvar key=extra {{getvar::parsedSentientLevel}}|\n\t:}|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/let key=tempOutputList []|\n\t\t/foreach {{getvar::sexualKinkTypes}} {:\n\t\t\t/setvar key=kinkType {{var::item}}|\n\t\t\t/getvar key=sexualKinkVariants index={{var::index}}|\n\t\t\t/setvar key=kinkVariant {{pipe}}|\n\t\t\t/ife (kinkVariant == 'None') {:\n\t\t\t\t/setvar key=kinkDisplay {{getvar::kinkType}}|\n\t\t\t\t/setvar key=kinkReference **{{getvar::kinkType}}**|\n\t\t\t\t/setvar key=kinkMention **Never mention {{getvar::kinkType}} by name** — use only general terms like “the act,” “intimate encounter,” or “physical closeness” if necessary.|\n\t\t\t\t/setvar key=genSettings index=buttonPrompt \"Is this the kink condition for {{getvar::kinkDisplay}} you want {{getvar::firstName}}.\"|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar key=kinkDisplay {{getvar::kinkType}}|({{getvar::kinkVariant}})\n\t\t\t\t/setvar key=kinkReference **{{getvar::kinkType}}** or **{{getvar::kinkVariant}}**|\n\t\t\t\t/setvar key=kinkMention **Never mention {{getvar::kinkType}} or {{getvar::kinkVariant}} by name** — refer only to “the act,” “private exchange,” or similar indirect phrasing.|\n\t\t\t\t/setvar key=genSettings index=buttonPrompt \"Select the type variant for '{{var::item}}' you want {{getvar::firstName}} to have.\"|\n\t\t\t:}|\n\t\t\t/ife ('Fully Animalistic' in parsedSentientLevel) {:\n\t\t\t\t/setvar key=sentienceInstruction {{getvar::firstName}} is **Fully Animalistic** — he does not speak, plan, or reflect on his actions. All behavior must be framed as instinctual, biologically driven, and emotionally reactive.|\n\t\t\t:}|\n\t\t\t/elseif ('Semi-Sapient' in parsedSentientLevel) {:\n\t\t\t\t/setvar key=sentienceInstruction {{getvar::firstName}} is **Semi-Sapient** — he does not speak, but recognizes routines and emotional patterns. Triggers should be based on learned behaviors, emotional signals, or rituals — not abstract decisions.|\n\t\t\t:}|\n\t\t\t/elseif ('Emotionally Aware' in parsedSentientLevel) {:\n\t\t\t\t/setvar key=sentienceInstruction {{getvar::firstName}} is **Emotionally Aware** — he understands safety and trust but cannot reason or strategize. Responses must reflect emotional recognition, not conscious preference.\n\t\t\t:}|\n\t\t\t/elseif ('Fully Sapient (Silent)' in parsedSentientLevel) {:\n\t\t\t\t/setvar key=sentienceInstruction {{getvar::firstName}} is **Fully Sapient (Silent)** — he does not speak, but can reason and respond to boundaries. Triggers may include trust, negotiation, and power dynamics through action.\n\t\t\t:}|\n\t\t\t/elseif ('Fully Sapient (Verbal)' in parsedSentientLevel) {:\n\t\t\t\t/setvar key=sentienceInstruction {{getvar::firstName}} is **Fully Sapient (Verbal)** — he can think, speak, and reason like a human or higher being. Triggers may include dialogue, planned interaction, or explicit control dynamics.\n\t\t\t:}|\n\t\t\t/elseif ((parsedSentientLevel == 'None') and ((characterArchetype == 'Animalistic') or (characterArchetype == 'Pokémon'))) {:\n\t\t\t\t/setvar key=sentienceInstruction Treat {{getvar::firstName}} as instinctive and emotionally reactive — do not assume reasoning, speech, or reflection unless otherwise specified.\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar key=sentienceInstruction No special cognition constraints apply to {{getvar::firstName}} — you may assume normal reasoning unless otherwise instructed.\n\t\t\t:}|\n\t\t\t/getvar key=sexualKinkRoles index={{var::index}}|\n\t\t\t/setvar key=kinkRole {{pipe}}|\n\t\t\t/ife (kinkRole == 'Giver') {:\n\t\t\t    /setvar key=kinkRoleRule \"show how {{getvar::subjPronoun}} initiates or controls the act\"|\n\t\t\t:}|\n\t\t\t/elseif (kinkRole == 'Receiver') {:\n\t\t\t    /setvar key=kinkRoleRule \"show how {{getvar::subjPronoun}} accepts or submits to the act\"|\n\t\t\t:}|\n\t\t\t/elseif (kinkRole == 'Switch') {:\n\t\t\t    /setvar key=kinkRoleRule \"show how {{getvar::subjPronoun}} flexibly alternates between initiating and accepting the act\"|\n\t\t\t:}|\n\t\t\t/getvar key=sexualKinkAwareness index={{var::index}}|\n\t\t\t/setvar key=kinkAwareness {{pipe}}|\n\t\t\t/ife ('Unaware' in kinkAwareness) {:\n\t\t\t\t/setvar key=awarenessExplanation \"Responses must be externally prompted — {{getvar::subjPronoun}} cannot self-initiate. Behavior may be involuntary, confused, or curious.\"|\n\t\t\t\t/ife (kinkRole == 'Giver') {:\n\t\t\t\t\t/setvar key=roleAwarenessInstruction \"Any action happens only if someone explicitly offers to let {{getvar::subjPronoun}} perform the act; otherwise, {{getvar::subjPronoun}} shows no initiative.\"|\n\t\t\t\t:}|\n\t\t\t\t/elseif (kinkRole == 'Receiver') {:\n\t\t\t\t\t/setvar key=roleAwarenessInstruction \"Any response occurs only if someone proposes or applies the act to {{getvar::objPronoun}}; {{getvar::subjPronoun}} does not seek it out independently.\"|\n\t\t\t\t:}|\n\t\t\t\t/else {:\n\t\t\t\t\t/setvar key=roleAwarenessInstruction \"Engagement only follows someone else’s prompting — describe both giving and receiving as externally guided, never self-initiated.\"|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/elseif ('Suppressed' in kinkAwareness) {:\n\t\t\t\t/setvar key=awarenessExplanation \"Responses reflect repression or resistance. Engagement requires stress, exposure, or breakdown to override avoidance.\"|\n\t\t\t\t/ife (kinkRole == 'Giver') {:\n\t\t\t\t\t/setvar key=roleAwarenessInstruction \"{{getvar::subjPronoun}} may only initiate under pressure or emotional strain, showing reluctance even when performing.\"|\n\t\t\t\t:}|\n\t\t\t\t/elseif (kinkRole == 'Receiver') {:\n\t\t\t\t\t/setvar key=roleAwarenessInstruction \"{{getvar::subjPronoun}} only accepts under duress, stress, or when emotional barriers collapse — not out of desire.\"|\n\t\t\t\t:}|\n\t\t\t\t/else {:\n\t\t\t\t\t/setvar key=roleAwarenessInstruction \"Whether giving or receiving, {{getvar::subjPronoun}} engages reluctantly, only when stress or emotional breakdown overrides suppression.\"|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/elseif ('Curious' in kinkAwareness) {:\n\t\t\t\t/setvar key=awarenessExplanation \"Responses are playful, impulsive, or exploratory. {{getvar::subjPronoun}} does not consciously frame it as a kink.\"|\n\t\t\t\t/ife (kinkRole == 'Giver') {:\n\t\t\t\t\t/setvar key=roleAwarenessInstruction \"{{getvar::subjPronoun}} might impulsively try administering it when prompted or intrigued, but frames it as experimentation rather than kink.\"|\n\t\t\t\t:}|\n\t\t\t\t/elseif (kinkRole == 'Receiver') {:\n\t\t\t\t\t/setvar key=roleAwarenessInstruction \"{{getvar::subjPronoun}} might accept or play along out of curiosity, treating it as novelty rather than kink.\"|\n\t\t\t\t:}|\n\t\t\t\t/else {:\n\t\t\t\t\t/setvar key=roleAwarenessInstruction \"Whether giving or receiving, {{getvar::subjPronoun}} engages impulsively or experimentally, never as deliberate kink play.\"|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar key=awarenessExplanation \"{{getvar::firstName}} is fully aware of this kink and may engage with intent, confidence, or emotional readiness.\"|\n\t\t\t\t/ife (kinkRole == 'Giver') {:\n\t\t\t\t\t/setvar key=roleAwarenessInstruction \"When acting as Giver, {{getvar::subjPronoun}} may deliberately initiate or control the act, guided by trust or context.\"|\n\t\t\t\t:}|\n\t\t\t\t/elseif (kinkRole == 'Receiver') {:\n\t\t\t\t\t/setvar key=roleAwarenessInstruction \"When acting as Receiver, {{getvar::subjPronoun}} may deliberately accept, anticipate, or respond to the act with conscious intent.\"|\n\t\t\t\t:}|\n\t\t\t\t/else {:\n\t\t\t\t\t/setvar key=roleAwarenessInstruction \"As a Switch, {{getvar::subjPronoun}} may consciously engage from either side, adjusting between initiating and accepting depending on context.\"|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/getvar key=sexualKinkDetails index={{var::index}}|\n\t\t\t/setvar key=kinkDetail {{pipe}}|\n\t\t\t/getvar key=sexualKinkEffects index={{var::index}}|\n\t\t\t/setvar key=kinkEffect {{pipe}}|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/len {{var::tempOutputList}}|\n\t\t\t/var key=tempOutputList index={{pipe}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar kinkType|\n\t\t\t/flushvar kinkVariant|\n\t\t\t/flushvar kinkRole|\n\t\t\t/flushvar kinkDetail|\n\t\t\t/flushvar kinkEffect|\n\t\t\t/flushvar kinkCondition|\n\t\t\t/flushvar kinkRule|\n\t\t\t/flushvar animalisticAwarenessRule|\n\t\t:}|\n\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n/setvar key=parsedSexualKinks {{noop}}|\n/ife (sexualKinkTypes is list) {:\n\t/foreach {{getvar::sexualKinkTypes}} {:\n\t\t/ife (index > 0) {:\n\t\t\t/addvar key=parsedSexualKinks \"{{newline}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=parsedSexualKinks \"- Kink Type: {{var::item}}\"|\n\t\t/getvar key=sexualKinkVariants index={{var::index}}|\n\t\t/setvar key=kinkVariant {{pipe}}|\n\t\t/ife ((kinkVariant != '') and (kinkVariant != 'None')) {:\n\t\t\t/addvar key=parsedSexualKinks \"{{newline}}  - Variant: {{getvar::kinkVariant}}\"|\n\t\t:}|\n\t\t/getvar key=sexualKinkRoles index={{var::index}}|\n\t\t/addvar key=parsedSexualKinks \"{{newline}}  - Role: {{pipe}}\"|\n\t\t/getvar key=sexualKinkAwareness index={{var::index}}|\n\t\t/addvar key=parsedSexualKinks \"{{newline}}  - Awareness: {{pipe}}\"|\n\t\t/getvar key=sexualKinkDetails index={{var::index}}|\n\t\t/addvar key=parsedSexualKinks \"{{newline}}  - Details: {{pipe}}\"|\n\t\t/getvar key=sexualKinkEffects index={{var::index}}|\n\t\t/addvar key=parsedSexualKinks \"{{newline}}  - Effect: {{pipe}}\"|\n\t\t/getvar key=sexualKinkConditions index={{var::index}}|\n\t\t/setvar key=kinkCondition {{pipe}}|\n\t\t/ife ((kinkCondition != '') and (kinkCondition != 'None')) {:\n\t\t\t/addvar key=parsedSexualKinks \"{{newline}}  - Conditions: {{getvar::kinkCondition}}\"|\n\t\t:}|\n\t:}|\n\t/flushvar kinkVariant|\n\t/flushvar kinkRole|\n\t/flushvar kinkDetail|\n\t/flushvar kinkEffect|\n\t/flushvar kinkCondition|\n:}|\n/else {{:\n\t/setvar key=parsedSexualKinks None|\n:}}|\n//--------|\n/addvar key=dataBaseNames parsedSexualKinks|\n\n\n//Abilities|\n/var key=do No|\n/var key=variableName \"sexualAbilityNames\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Sexual Ability Names\"|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=needOutput No|\n\t/setvar key=genSettings index=outputIsList Yes|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/ife (user == 'Yes') {:\n\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t:}|\n\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t\n\t/ife (settingType == 'Realistic') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Abilities must be fully plausible in the real world. This includes advanced flexibility, sensory focus, pain tolerance, emotional control, or exceptional training. Do not include magic, psionics, supernatural phenomena, or any kind of proficiency level.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Fantasy') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Abilities may include elemental powers, curses, divine traits, inherited magic, or arcane disciplines. Do not include tiers, mastery labels, or strength modifiers—those are handled in a later step.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Science Fiction') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Abilities may include psionics, gene traits, mental enhancements, or biotech-integrated skills. Do not include levels, size indicators, or parenthetical ranks—those will be generated separately.\"|\n\t\t\n\t:}|\n\t\n\t\n\t\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/foreach {{getvar::CHANGE/REMOVE_THIS}} {:\n\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t:}|\n\t\t/flushvar {{var::variableName}}Item|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n\n/getvar key=sexualAbilityNames index=0|\n/var key=do {{pipe}}|\n/ife ((do != '') and (do != 'None')) {:\n\t/var key=do No|\n\t/var key=variableName \"sexualAbilityProficiencies\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Sexual Ability Proficiency\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput No|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t\t/ife (user == 'Yes') {:\n\t\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}} (do not directly turn into ability names; use only as influence)\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\n\t\t\n\t\t/ife (settingType == 'Realistic') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Use realistic mastery tiers, physical control states, or measured performance levels. Do not use magical, tech-based, or mystical states.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (settingType == 'Fantasy') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Use magical resonance levels, mystical awakenings, spell tiering, or enchanted conditions. You may use poetic or arcane phrasing.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (settingType == 'Science Fiction') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Use mutation stages, neural tiers, cybernetic activation levels, or psionic charge states. Do not include divine, magical, or elemental qualifiers.\"|\n\t\t\t\n\t\t:}|\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/foreach {{getvar::sexualAbilityNames}} {:\n\t\t\t\t/setvar key=abilityName {{var::item}}|\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar guidance|\n\t\t\t:}|\n\t\t\t/flushvar abilityName|\n\t\t:}|\n\t\t/else {:\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t\n\t/setvar key=sexualAbilityNamesProficiencies []|\n\t/foreach  {{getvar::sexualAbilityNames}} {:\n\t\t/getvar key=sexualAbilityProficiencies index={{var::index}}|\n\t\t/let key=prof {{pipe}}|\n\t\t/ife (( prof != '') and ( prof != 'None')) {:\n\t\t\t/addvar key=sexualAbilityNamesProficiencies \"{{var::item}} ({{var::prof}})\"|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=sexualAbilityNamesProficiencies \"{{var::item}}\"|\n\t\t:}|\n\t:}|\n\t/addvar key=dataBaseNames sexualAbilityNamesProficiencies|\n\t\n\t/var key=do No|\n\t/var key=variableName \"SexualAbilityDetails\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Sexual Ability Details\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence yes|\n\t\t/setvar key=genSettings index=needOutput yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t\t/ife (user == 'Yes') {:\n\t\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\n\t\t\n\t\t/ife (settingType == 'Realistic') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Description must reflect real-world logic and be physically or psychologically plausible. Do not reference magic, tech, or supernatural forces.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (settingType == 'Fantasy') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- You may include references to mana, magic, curses, bloodlines, or mystic energies. Abilities may scale dramatically between levels.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (settingType == 'Science Fiction') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- You may reference cybernetic processes, psionic channels, tech-enhanced cognition, or biotech-based traits. Avoid magical concepts.\"|\n\t\t\t\n\t\t:}|\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/foreach {{getvar::sexualAbilityNamesProficiencies}} {:\n\t\t\t\t/setvar key=abilityName {{var::item}}|\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar guidance|\n\t\t\t:}|\n\t\t\t/flushvar abilityName|\n\t\t:}|\n\t\t/else {:\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=sexualAbilityNames None|\n\t/addvar key=dataBaseNames sexualAbilityNames|\n\t/setvar key=sexualAbilityProficiencies None|\n\t/addvar key=dataBaseNames sexualAbilityProficiencies|\n\t/setvar key=sexualAbilityNamesProficiencies None|\n\t/addvar key=dataBaseNames sexualAbilityNamesProficiencies|\n:}|\n\n\n/ife ((sexualAbilityNames != 'None') and (sexualAbilityNamesProficiencies is list)) {:\n\t/setvar key=parsedSexualAbilities []|\n\t/foreach {{getvar::sexualAbilityNamesProficiencies}} {:\n\t\t/let key=trait {{var::item}}|\n\t\t/getvar key=SexualAbilityDetails index={{var::index}}|\n\t\t/let key=deta {{pipe}}|\n\t\t/findentry field=comment file=\"CMC Templates\" \"Abilities Template\"|\n\t\t/getentryfield field=content file=\"CMC Templates\" {{pipe}}|\n\t\t/re-replace find=\"/--Ability--/g\" replace=\"{{var::item}}\" {{pipe}}|\n\t\t/re-replace find=\"/--Description--/g\" replace=\"{{var::deta}}\" {{pipe}}|\n\t\t/addvar key=parsedSexualAbilities {{pipe}}|\n\t:}|\n\t/join glue=\"{{newline}}{{newline}}\" {{getvar::parsedSexualAbilities}}|\n\t/setvar key=parsedSexualAbilities {{pipe}}|\n:}|\n/else {:\n\t/setvar key=parsedSexualAbilities None|\n:}|\n/addvar key=dataBaseNames parsedSexualAbilities|\n//--------|\n\n\n//SEXUAL EXPERIENCE PROFILE|\n\n//Experience Level|\n/var key=do No|\n/var key=variableName \"sexualExperienceLevel\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Sexual Experience Level\"|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext No|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/let key=wi_book_key {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/ife ( inputIsList == 'Yes') {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/ife ( combineLorebookEntries == 'Yes') {:\n\t\t\t/:\"CMC Logic.Combine List Lorebooks\"\n\t\t:}|\n\t\t/foreach {{getvar::genOrder}} {:\n\t\t\t/setvar key=it {{var::item}}|\n\t\t\t/getat index={{var::index}} {{var::genOrderContent}} |\n\t\t\t/setvar key=genSettings index=content {{pipe}}|\n\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t/ife (output != '') {:\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n//Knowledge Level|\n/var key=do No|\n/var key=variableName \"sexualKnowlageLevel\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Sexual Knowledge Level\"|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=useContext No|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/let key=wi_book_key {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/ife ( inputIsList == 'Yes') {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/ife ( combineLorebookEntries == 'Yes') {:\n\t\t\t/:\"CMC Logic.Combine List Lorebooks\"\n\t\t:}|\n\t\t/foreach {{getvar::genOrder}} {:\n\t\t\t/setvar key=it {{var::item}}|\n\t\t\t/getat index={{var::index}} {{var::genOrderContent}} |\n\t\t\t/setvar key=genSettings index=content {{pipe}}|\n\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t/ife (output != '') {:\n\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n/ife ( (sexualExperienceLevel != 'None') and (sexualKnowlageLevel != 'None')) {:\n\t\n\t/ife (sexualExperienceLevel != 'None') {:\n\t//Number of Partners|\n\t\t/var key=do No|\n\t\t/var key=variableName \"sexualPartners\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t    /var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t    /getvar key={{var::variableName}}|\n\t\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t    /var key=do {{pipe}}|\n\t\t    /ife (do == '') {:\n\t\t        /echo Aborting |\n\t\t        /abort\n\t\t    :}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Sexual Number of Partners\"|\n\t\t\t/setvar key=genSettings index=combineLorebookEntries No|\n\t\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t\t/setvar key=genSettings index=inputIsList No|\n\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=useContext No|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t\n\t\t\t/getvar key=genSettings index=wi_book_key|\n\t\t\t/let key=wi_book_key {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=combineLorebookEntries|\n\t\t\t/let key=combineLorebookEntries {{pipe}}|\n\t\t\t\n\t\t\t\n\t\t\t/ife ( inputIsList == 'Yes') {:\n\t\t\t\t/setvar key={{var::variableName}} []|\n\t\t\t\t/ife ( combineLorebookEntries == 'Yes') {:\n\t\t\t\t\t/:\"CMC Logic.Combine List Lorebooks\"\n\t\t\t\t:}|\n\t\t\t\t/foreach {{getvar::genOrder}} {:\n\t\t\t\t\t/setvar key=it {{var::item}}|\n\t\t\t\t\t/getat index={{var::index}} {{var::genOrderContent}} |\n\t\t\t\t\t/setvar key=genSettings index=content {{pipe}}|\n\t\t\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t\t\t/ife (output != '') {:\n\t\t\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t\t:}|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/getvar key=genSettings index=wi_book_key|\n\t\t\t\t/setvar key=it {{pipe}}|\n\t\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t\n\t\t\t:}|\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar it|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t//--------|\n\t\n\t\n\t//Self-Exploration|\n\t\t/var key=do No|\n\t\t/var key=variableName \"sexualSelfExploration\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t    /var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t    /getvar key={{var::variableName}}|\n\t\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t    /var key=do {{pipe}}|\n\t\t    /ife (do == '') {:\n\t\t        /echo Aborting |\n\t\t        /abort\n\t\t    :}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Sexual Self-Exploration\"|\n\t\t\t/setvar key=genSettings index=combineLorebookEntries No|\n\t\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t\t/setvar key=genSettings index=inputIsList No|\n\t\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=useContext No|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t\n\t\t\t/getvar key=genSettings index=wi_book_key|\n\t\t\t/let key=wi_book_key {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=combineLorebookEntries|\n\t\t\t/let key=combineLorebookEntries {{pipe}}|\n\t\t\t\n\t\t\t\n\t\t\t/ife ( inputIsList == 'Yes') {:\n\t\t\t\t/setvar key={{var::variableName}} []|\n\t\t\t\t/ife ( combineLorebookEntries == 'Yes') {:\n\t\t\t\t\t/:\"CMC Logic.Combine List Lorebooks\"\n\t\t\t\t:}|\n\t\t\t\t/foreach {{getvar::genOrder}} {:\n\t\t\t\t\t/setvar key=it {{var::item}}|\n\t\t\t\t\t/getat index={{var::index}} {{var::genOrderContent}} |\n\t\t\t\t\t/setvar key=genSettings index=content {{pipe}}|\n\t\t\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t\t\t/ife (output != '') {:\n\t\t\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t\t:}|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/getvar key=genSettings index=wi_book_key|\n\t\t\t\t/setvar key=it {{pipe}}|\n\t\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t\n\t\t\t:}|\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar it|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t//--------|\n\t\n\t//Exposure Context|\n\t\t/var key=do No|\n\t\t/var key=variableName \"sexualExposure\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t    /var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t    /getvar key={{var::variableName}}|\n\t\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t    /var key=do {{pipe}}|\n\t\t    /ife (do == '') {:\n\t\t        /echo Aborting |\n\t\t        /abort\n\t\t    :}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Exposure Context\"|\n\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t/setvar key=genSettings index=genAmount 8|\n\t\t\t/setvar key=genSettings index=inputIsList No|\n\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t\t\t/addvar key=extra \"- Time Period: {{getvar::timePeriod}}\"|\n\t\t\t/addvar key=extra \"- World Type: {{getvar::worldType}}\"|\n\t\t\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t\t\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t\t\t/ife (personalitySocialSkills != 'None') {:\n\t\t\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}\"|\n\t\t\t:}|\n\t\t\t/addvar key=extra \"- Sexual Orientation: {{getvar::sexualOrientation}}\"|\n\t\t\t/addvar key=extra \"- Sexual Role: {{getvar::sexualRole}}\"|\n\t\t\t/addvar key=extra \"- Libido: {{getvar::libido}}\"|\n\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t/setvar key=extra []|\n\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t/ife (extra != '') {:\n\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t:}|\n\t\t\t/flushvar extra|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=outputIsList {{pipe}}|\n\t\t\t\n\t\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\t\n\t\t\t/ife (variable == 'content') {:\n\t\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t\t:}|\n\t\t\t\t/addvar key=logicBasedInstruction \"- Rule\"|\n\t\t\t\t\n\t\t\t:}|\n\t\t\t\n\t\t\t\n\t\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t\t:}|\n\t\t\n\t\t\t/setvar key=genSettings index=buttonPrompt \"Is this the sexual exposure you want {{getvar::firstName}} to have\"|\n\t\t\t//[[Generate with Prompt]]|\n\t\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t\t/let key=tempOutputList []|\n\t\t\t\t/foreach {{getvar::CHANGE_REMOVE_THIS}} {:\n\t\t\t\t\t/getvar key={{var::variableName}}|\n\t\t\t\t\t/len {{pipe}}|\n\t\t\t\t\t/let key=len {{pipe}}|\n\t\t\t\t\t/ife (len == 0) {:\n\t\t\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t\t\t:}|\n\t\t\t\t\t\n\t\t\t\t\t/ife ((index > len) or ((index == 0) and (len == 0))) {:\n\t\t\t\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t\t\t\t/setvar key=genSettings index=buttonPrompt \"Select the type variant for '{{var::item}}' you want {{getvar::firstName}} to have.\"|\n\t\t\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t\t\t/len {{var::tempOutputList}}|\n\t\t\t\t\t\t/var key=tempOutputList index={{pipe}} {{getvar::output}}|\n\t\t\t\t\t:}|\n\t\t\t\t\t/flushvar output|\n\t\t\t\t\t/flushvar guidance|\n\t\t\t\t:}|\n\t\t\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t\t\t:}|\n\t\t\t\t/flushvar {{var::variableName}}Item|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t:}|\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t//--------|\n\t\n\t:}|\n\t/elseif ((sexualExperienceLevel == 'None') and (sexualKnowlageLevel == 'None')) {:\n\t\t/setvar key=sexualPartners \"0\"|\n\t\t/addvar key=dataBaseNames sexualPartners|\n\t\t/setvar key=sexualSelfExploration \"None\"|\n\t\t/addvar key=dataBaseNames sexualSelfExploration|\n\t\t\n\t:}|\n:}|\n/elseif ((sexualExperienceLevel == 'None') and (sexualKnowlageLevel == 'None')) {:\n\t\n\t/setvar key=sexualExposure \"None\"|\n\t/addvar key=dataBaseNames sexualExposure|\n\t/setvar key=sexualPartners \"0\"|\n\t/addvar key=dataBaseNames sexualPartners|\n\t/setvar key=sexualSelfExploration \"None\"|\n\t/addvar key=dataBaseNames sexualSelfExploration|\n\t\n:}|\n\n/ife ( (sexualExperienceLevel != 'None') and (sexualKnowlageLevel != 'None')) {:\n\n\n//Familiarity With Sexual Acts|\n\n\t/setvar key=nameList [\"sexualFamiliarityActKissing\", \"sexualFamiliarityActOralR\", \"sexualFamiliarityActOralG\", \"sexualFamiliarityActVaginal\", \"sexualFamiliarityActAnal\", \"sexualFamiliarityActGroupSex\", \"sexualFamiliarityActToys\"]|\n\t/setvar key=nameListN [\"Familiarity with Kissing\", \"Familiarity with reciving Oral sex\", \"Familiarity with giving Oral sex\", \"Familiarity with Vaginal sex\", \"Familiarity with Anal sex\", \"Familiarity with Group Sex\", \"Familiarity with using Sex Toys\"]|\n\t/foreach {{getvar::nameList}} {:\n\t\t/var key=do No|\n\t\t/var key=variableName \"{{var::item}}\"|\n\t\t/ife ({{var::variableName}} == '') {:\n\t\t    /var key=do Yes|\n\t\t:}|\n\t\t/elseif (skip == 'Update') {:\n\t\t    /getvar key={{var::variableName}}|\n\t\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t\t    /var key=do {{pipe}}|\n\t\t    /ife (do == '') {:\n\t\t        /echo Aborting |\n\t\t        /abort\n\t\t    :}|\n\t\t:}|\n\t\t/ife ( do == 'Yes' ) {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Familiarity With Sexual Acts\"|\n\t\t\t/setvar key=genSettings index=combineLorebookEntries No|\n\t\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t\t/setvar key=genSettings index=inputIsList No|\n\t\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t\t/setvar key=genSettings index=outputIsList No|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=useContext No|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t\n\t\t\t\n\t\t\t/getvar key=genSettings index=wi_book_key|\n\t\t\t/let key=wi_book_key {{pipe}}|\n\t\t\t/getvar key=genSettings index=inputIsList|\n\t\t\t/let key=inputIsList {{pipe}}|\n\t\t\t/getvar key=genSettings index=combineLorebookEntries|\n\t\t\t/let key=combineLorebookEntries {{pipe}}|\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t/getvar key=nameListN index={{var::index}}|\n\t\t\t/setvar key=it {{pipe}}|\n\t\t\t/setvar key=genSettings index=buttonPrompt \"Select the {{getvar::it}} you want {{getvar::firstName}} to have.\"|\n\t\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t\n\t\t\t\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar genOrder|\n\t\t\t/flushvar genContent|\n\t\t\t/flushvar it|\n\t\t\t/flushvar genSettings|\n\t\t:}|\n\t\t/else {:\n\t\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t:}|\n\t:}|\n\n//--------|\n:}|\n/elseif ((sexualExperienceLevel == 'None') and (sexualKnowlageLevel == 'None')) {:\n\t/foreach {{getvar::nameList}} {:\n\t\t/setvar key={{var::item}} \"Unfamiliar – Has no knowledge or exposure.\"|\n\t\t/addvar key=dataBaseNames {{var::item}}|\n\t:}|\n\t\n:}|\n//--------|\n\n/setvar key=parcedFamiliarity {{noop}}|\n/foreach {{getvar::nameList}} {:\n\t/getvar key=nameListN index={{var::index}}|\n\t/let key=N {{pipe}}|\n\t/getvar key={{var::item}}|\n\t/let key=L {{pipe}}|\n\t/ife (parcedFamiliarity != '') {:\n\t\t/addvar key=parcedFamiliarity {{newline}}|\n\t:}|\n\t/addvar key=parcedFamiliarity {{var::N}}: {{var::L}}|\n:}|\n\n//Emotional Framing|\n/var key=do No|\n/var key=variableName \"sexualFraming\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Emotional Framing\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=genAmount 8|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t/ife (personalitySocialSkills != 'None') {:\n\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}\"|\n\t:}|\n\t/addvar key=extra \"- Sexual Orientation: {{getvar::sexualOrientation}}\"|\n\t/addvar key=extra \"- Sexual Role: {{getvar::sexualRole}}\"|\n\t/addvar key=extra \"- Libido: {{getvar::libido}}\"|\n\t/addvar key=extra \"{{getvar::parcedFamiliarity}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t/ife (variable == 'content') {:\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Rule\"|\n\t\t\n\t:}|\n\t/else {:\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Rule\"|\n\t:}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\n\t/setvar key=genSettings index=buttonPrompt Is this the Emotional Framing you want {{getvar::firstName}} should have?|\n\n\t\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/let key=tempOutputList []|\n\t\t/foreach {{getvar::CHANGE_REMOVE_THIS}} {:\n\t\t\t/getvar key={{var::variableName}}|\n\t\t\t/len {{pipe}}|\n\t\t\t/let key=len {{pipe}}|\n\t\t\t/ife (len == 0) {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t\n\t\t\t/ife ((index > len) or ((index == 0) and (len == 0))) {:\n\t\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t\t/setvar key=genSettings index=buttonPrompt \"Select the type variant for '{{var::item}}' you want {{getvar::firstName}} to have.\"|\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/len {{var::tempOutputList}}|\n\t\t\t\t/var key=tempOutputList index={{pipe}} {{getvar::output}}|\n\t\t\t:}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t:}|\n\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t:}|\n\t\t/flushvar {{var::variableName}}Item|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n//Attitude Toward Sex|\n/var key=do No|\n/var key=variableName \"sexualAttitude\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Attitude Toward Sex\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=genAmount 8|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t/ife (personalitySocialSkills != 'None') {:\n\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}\"|\n\t:}|\n\t/addvar key=extra \"- Sexual Orientation: {{getvar::sexualOrientation}}\"|\n\t/addvar key=extra \"- Sexual Role: {{getvar::sexualRole}}\"|\n\t/addvar key=extra \"- Libido: {{getvar::libido}}\"|\n\t/addvar key=extra \"{{getvar::parcedFamiliarity}}\"|\n\t/addvar key=extra \"- Emotional Framing: {{getvar::sexualFraming}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t/ife (variable == 'content') {:\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Rule\"|\n\t\t\n\t:}|\n\t/else {:\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Rule\"|\n\t:}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\n\t/setvar key=genSettings index=buttonPrompt Is this the Emotional Framing you want {{getvar::firstName}} should have?|\n\n\t\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/let key=tempOutputList []|\n\t\t/foreach {{getvar::CHANGE_REMOVE_THIS}} {:\n\t\t\t/getvar key={{var::variableName}}|\n\t\t\t/len {{pipe}}|\n\t\t\t/let key=len {{pipe}}|\n\t\t\t/ife (len == 0) {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t\n\t\t\t/ife ((index > len) or ((index == 0) and (len == 0))) {:\n\t\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t\t/setvar key=genSettings index=buttonPrompt \"Select the type variant for '{{var::item}}' you want {{getvar::firstName}} to have.\"|\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/len {{var::tempOutputList}}|\n\t\t\t\t/var key=tempOutputList index={{pipe}} {{getvar::output}}|\n\t\t\t:}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t:}|\n\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t:}|\n\t\t/flushvar {{var::variableName}}Item|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n//Behavior During Intimacy|\n/var key=do No|\n/var key=variableName \"sexualBehavior\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Sexual Behavior\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=genAmount 8|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t/ife (personalitySocialSkills != 'None') {:\n\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}\"|\n\t:}|\n\t/addvar key=extra \"- Sexual Orientation: {{getvar::sexualOrientation}}\"|\n\t/addvar key=extra \"- Sexual Role: {{getvar::sexualRole}}\"|\n\t/addvar key=extra \"- Libido: {{getvar::libido}}\"|\n\t/addvar key=extra \"{{getvar::parcedFamiliarity}}\"|\n\t/addvar key=extra \"- Emotional Framing: {{getvar::sexualFraming}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t/ife (variable == 'content') {:\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Rule\"|\n\t\t\n\t:}|\n\t/else {:\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Rule\"|\n\t:}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\n\t/setvar key=genSettings index=buttonPrompt Is this the Emotional Framing you want {{getvar::firstName}} should have?|\n\n\t\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/let key=tempOutputList []|\n\t\t/foreach {{getvar::CHANGE_REMOVE_THIS}} {:\n\t\t\t/getvar key={{var::variableName}}|\n\t\t\t/len {{pipe}}|\n\t\t\t/let key=len {{pipe}}|\n\t\t\t/ife (len == 0) {:\n\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t:}|\n\t\t\t\n\t\t\t/ife ((index > len) or ((index == 0) and (len == 0))) {:\n\t\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t\t/setvar key=genSettings index=buttonPrompt \"Select the type variant for '{{var::item}}' you want {{getvar::firstName}} to have.\"|\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/len {{var::tempOutputList}}|\n\t\t\t\t/var key=tempOutputList index={{pipe}} {{getvar::output}}|\n\t\t\t:}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t:}|\n\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t:}|\n\t\t/flushvar {{var::variableName}}Item|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n\n//Items / Equipment|\n/var key=do No|\n/var key=variableName \"sexualItemNames\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Sexual Item or Equipment Names\"|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=needOutput No|\n\t/setvar key=genSettings index=outputIsList Yes|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t/ife (user == 'Yes') {:\n\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t:}|\n\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t\n\t/ife (settingType == 'Realistic') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Limit items to real-world modern gear, accessories, or everyday personal objects. Do not include magic, advanced tech, or fantasy items.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Fantasy') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Items may include magical trinkets, mystical gear, herbal components, talismans, or medieval-style tools and charms.\"|\n\t\t\n\t:}|\n\t/elseif (settingType == 'Science Fiction') {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Items may include advanced tools, nanotech, biotech devices, psionic accessories, or gear with augmented properties.\"|\n\t\t\n\t:}|\n\t\n\t\n\t\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/ife (inputIsList == 'Yes') {:\n\t\t/foreach {{getvar::CHANGE/REMOVE_THIS}} {:\n\t\t\t/setvar key={{var::variableName}}Item {{var::item}}|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t/flushvar output|\n\t\t\t/flushvar guidance|\n\t\t:}|\n\t\t/flushvar {{var::variableName}}Item|\n\t:}|\n\t/else {:\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n\n/getvar key=sexualItemNames index=0|\n/var key=do {{pipe}}|\n/ife ((do != '') and (do != 'None')) {:\n\t/var key=do No|\n\t/var key=variableName \"sexualItemDetails\"|\n\t/len {{getvar::sexualItemDetails}}|\n\t/let key=lenSexualItemDetails {{pipe}}|\n\t/len {{getvar::sexualItemNames}}|\n\t/let key=lenSexualItemNames {{pipe}}|\n\t/ife (({{var::variableName}} == '') or (lenSexualItemDetails < lenSexualItemNames)) {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Sexual Item or Equipment Description\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t\t/ife (user == 'Yes') {:\n\t\t\t/addvar key=extra \"- User's Role: {{getvar::userRole}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\n\t\t\n\t\t/ife (settingType == 'Realistic') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Do not include magical, advanced tech, or psionic properties. Focus on grounded, everyday materials and wear.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (settingType == 'Fantasy') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- You may reference glowing runes, magical engravings, spiritual symbols, or arcane materials—but avoid lore or spell explanations.\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif (settingType == 'Science Fiction') {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- You may reference interfaces, synth materials, nanotech casings, and embedded circuitry—but avoid system-level tech detail or exposition.\"|\n\t\t\t\n\t\t:}|\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/let key=redoDetails Yes|\n\t\t/ife (lenSexualItemDetails > 0) {:\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Want to remake all item details?|\n\t\t\t/var key=redoDetails {{pipe}}|\n\t\t\t/ife (redoDetails == '') {:\n\t\t        /echo Aborting |\n\t\t        /abort\n\t\t    :}|\n\t\t:}|\n\t\t\n\t\t/let key=startIndex 0|\n\t\t/ife (((inputIsList == 'Yes') and (redoDetails == 'Yes')) or ((outputIsList == 'Yes') and (redoDetails == 'Yes'))) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t/var key=startIndex 0|\n\t\t:}|\n\t\t/elseif (((inputIsList == 'Yes') and (redoDetails == 'No')) or ((outputIsList == 'Yes') and (redoDetails == 'No'))) {:\n\t\t\t/var key=startIndex {{var::lenSexualItemDetails}}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/foreach {{getvar::sexualItemNames}} {:\n\t\t\t\t/ife (index >= startIndex) {:\n\t\t\t\t\t/setvar key=itemName {{var::item}}|\n\t\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t\t\t\t\t/flushvar output|\n\t\t\t\t\t/flushvar guidance|\n\t\t\t\t:}|\n\t\t\t:}|\n\t\t\t/flushvar itemName|\n\t\t:}|\n\t\t/else {:\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=sexualItemNames None|\n\t/addvar key=dataBaseNames sexualItemNames|\n\t/setvar key=sexualItemDetails None|\n\t/addvar key=dataBaseNames sexualItemDetails|\n:}|\n\n\n/ife (sexualItemNames != 'None') {:\n\t/setvar key=parsedSexualItems []|\n\t/foreach {{getvar::sexualItemNames}} {:\n\t\t/let key=trait {{var::item}}|\n\t\t/getvar key=sexualItemDetails index={{var::index}}|\n\t\t/let key=deta {{pipe}}|\n\t\t/findentry field=comment file=\"CMC Templates\" \"Item or Equipment Template\"|\n\t\t/getentryfield field=content file=\"CMC Templates\" {{pipe}}|\n\t\t/re-replace find=\"/--Item--/g\" replace=\"{{var::item}}\" {{pipe}}|\n\t\t/re-replace find=\"/--Details--/g\" replace=\"{{var::deta}}\" {{pipe}}|\n\t\t/addvar key=parsedSexualItems {{pipe}}|\n\t:}|\n\t/join glue=\"{{newline}}{{newline}}\" {{getvar::parsedSexualItems}}|\n\t/setvar key=parsedSexualItems {{pipe}}|\n:}|\n/else {:\n\t/setvar key=parsedSexualItems None|\n:}|\n/addvar key=dataBaseNames parsedSexualItems|\n//--------|\n\n//Sexual Notes|\n\n/len {{getvar::sexualNotes}}|\n/let key=len {{pipe}}|\n\n/var key=do No|\n/var key=variableName \"sexualNotes\"|\n/ife (({{var::variableName}} == '') or (len <= 5)) {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book \"CMC Rules\"|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput No|\n\t/setvar key=genSettings index=useContext No|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/let key=wi_book_key {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t\n\t\n\t/len {{getvar::sexualNotes}}|\n\t/var key=len {{pipe}}|\n\t\n\t/ife ( len == 0) {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/setvar key=genSettings index=wi_book_key \"Initiation Style\"|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select the Initiation Style you want {{getvar::firstName}} to follow.\"|\n\t\t/setvar key=it Behavior Rules|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**Initiation Style:** {{getvar::output}}\"|\n\t:}|\n\t/len {{getvar::sexualNotes}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 1) {:\n\t\t/setvar key=genSettings index=wi_book_key \"Touch Preference\"|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select the Touch Preference you want {{getvar::firstName}} to follow.\"|\n\t\t/setvar key=it Behavior Rules|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**Touch Preference:** {{getvar::output}}\"|\n\t:}|\n\t/len {{getvar::sexualNotes}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 2) {:\n\t\t/setvar key=genSettings index=wi_book_key \"Verbal Tone During Intimacy\"|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select the Verbal Tone During Intimacy you want {{getvar::firstName}} to follow.\"|\n\t\t/setvar key=it Behavior Rules|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**Verbal Tone During Intimacy:** {{getvar::output}}\"|\n\t:}|\n\t/len {{getvar::sexualNotes}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 3) {:\n\t\t/setvar key=genSettings index=wi_book_key \"Emotional Layer\"|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select the Emotional Layer you want {{getvar::firstName}} to follow.\"|\n\t\t/setvar key=it Behavior Rules|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**Emotional Layer:** {{getvar::output}}\"|\n\t:}|\n\t/len {{getvar::sexualNotes}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 4) {:\n\t\t/setvar key=genSettings index=wi_book_key \"Control Preference\"|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select the Control Preference (General, not role-linked) you want {{getvar::firstName}} to follow.\"|\n\t\t/setvar key=it Behavior Rules|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**Control Preference (General, not role-linked):** {{getvar::output}}\"|\n\t:}|\n\t/len {{getvar::sexualNotes}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len >= 5) {:\n\t\t/var key=do No|\n\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to generate or add more sexual Rules?|\n\t\t/var key=do {{pipe}}|\n\t\t/ife (do == '') {:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t\t/ife (do == 'Yes') {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Sexual Notes\"|\n\t\t\t/setvar key=genSettings index=genIsList No|\n\t\t\t/setvar key=genSettings index=inputIsList No|\n\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t\t/setvar key=genSettings index=outputIsList Yes|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t\t\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t\t\t/addvar key=extra \"{{getvar::parsedSexualOrientation}}\"|\n\t\t\t/addvar key=extra \"{{getvar::parsedSexualRole}}\"|\n\t\t\t/addvar key=extra \"- Libido: {{getvar::sexualLibido}}\"|\n\t\t\t/ife (parsedSexualKinks != 'None') {:\n\t\t\t\t/addvar key=extra \"{{getvar::parsedSexualKinks}}\"|\n\t\t\t:}|\n\t\t\t/ife (parsedSexualItems != 'None') {:\n\t\t\t\t/addvar key=extra \"{{getvar::parsedSexualItems}}\"|\n\t\t\t:}|\n\t\t\t/ife (parsedSexualAbilities != 'None') {:\n\t\t\t\t/addvar key=extra \"{{getvar::parsedSexualAbilities}}\"|\n\t\t\t:}|\n\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t/setvar key=extra []|\n\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t/ife (extra != '') {:\n\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t:}|\n\t\t\t/flushvar extra|\n\t\t\t/wait {{getvar::wait}}|\n\t\t\t/setvar key=genSettings index=buttonPrompt \"Is this a good behavior rule you want {{getvar::firstName}} to follow?\"|\n\t\t\t/setvar key=it Behavior Rules|\n\t\t\t/setvar key=blackListGen {{noop}}|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/foreach {{getvar::output}} {:\n\t\t\t\t/addvar key={{var::variableName}} \"{{var::output}}\"|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n\n/setvar key=parsedSexualityNotes {{noop}}|\n/ife (sexualNotes is list) {:\n\t/foreach {{getvar::sexualNotes}} {:\n\t\t/ife ('None' not in item) {:\n\t\t\t/ife (index > 0) {:\n\t\t\t\t/addvar key=parsedSexualityNotes {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=parsedSexualityNotes \"- {{var::item}}\"|\n\t\t:}|\n\t:}|\n:}|\n//--------|\n\n\n/:\"CMC Logic.JEDParse\"|\n\n/:\"CMC Logic.Save DataBase\"|\n\n/setvar key=stepDone Yes|\n/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/var qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Extras\" {{pipe}}|\n/forcesave|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":20,"icon":"","showLabel":false,"label":"Step10 Generate Extras","title":"","message":"/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/let qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Extras\" {{pipe}}|\n\n/:\"CMC Logic.Get Char info\"|\n\n/setvar key=dataBaseNames []|\n/flushvar genSettings|\n\n/setvar key=stepVar Step10|\n\n/setvar key=skip Update|\n/ife ( stepDone == 'No') {:\n\t/buttons labels=[\"Skip\", \"Update\"] Do you want to skip or update already generated content? You will get a question for each already done if you select Update.|\n\t/setvar key=skip {{pipe}}|\n\t/ife ( skip == ''){:\n\t\t/echo Aborting |\n\t\t/abort\n\t:}|\n:}|\n\n/setvar key=stepDone No|\n\n/let key=do {{noop}}|\n/let key=variableName {{noop}}|\n/let selected_btn {{noop}}|\n/let key=len {{noop}}|\n\n\n\n\n//Behavior Notes|\n/len {{getvar::behaviorNotes}}|\n/var key=len {{pipe}}|\n/var key=do No|\n/var key=variableName \"behaviorNotes\"|\n/ife (({{var::variableName}} == '') or (len <= 6)) {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n    /ife (do == 'Yes') {:\n\t    /flushvar {{getvar::variableName}}|\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book \"CMC Rules\"|\n\t\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput No|\n\t/setvar key=genSettings index=useContext No|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/let key=wi_book_key {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t/len {{getvar::behaviorNotes}}|\n\t/var key=len {{pipe}}|\n\t\n\t/ife ( len == 0) {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/setvar key=genSettings index=wi_book_key \"Emotional Responsiveness\"|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select the Emotional Responsiveness you want {{getvar::firstName}} to follow.\"|\n\t\t/setvar key=it Behavior Rules|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**Emotional Responsiveness:** {{getvar::output}}\"|\n\t:}|\n\t/len {{getvar::behaviorNotes}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 1) {:\n\t\t/setvar key=genSettings index=wi_book_key \"Conflict Handling\"|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select the Conflict Handling you want {{getvar::firstName}} to follow.\"|\n\t\t/setvar key=it Behavior Rules|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**Conflict Handling:** {{getvar::output}}\"|\n\t:}|\n\t/len {{getvar::behaviorNotes}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 2) {:\n\t\t/setvar key=genSettings index=wi_book_key \"Social Openness\"|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select the Social Openness you want {{getvar::firstName}} to follow.\"|\n\t\t/setvar key=it Behavior Rules|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**Social Openness:** {{getvar::output}}\"|\n\t:}|\n\t/len {{getvar::behaviorNotes}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 3) {:\n\t\t/setvar key=genSettings index=wi_book_key \"Empathy Attunement\"|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select the Empathy & Attunement you want {{getvar::firstName}} to follow.\"|\n\t\t/setvar key=it Behavior Rules|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**Empathy & Attunement:** {{getvar::output}}\"|\n\t:}|\n\t/len {{getvar::behaviorNotes}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 4) {:\n\t\t/setvar key=genSettings index=wi_book_key \"Verbal Style Communication\"|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select the Verbal Style / Communication you want {{getvar::firstName}} to follow.\"|\n\t\t/setvar key=it Behavior Rules|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**Verbal Style / Communication:** {{getvar::output}}\"|\n\t:}|\n\t/len {{getvar::behaviorNotes}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 5) {:\n\t\t/setvar key=genSettings index=wi_book_key \"Physical Expressiveness\"|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select the Physical Expressiveness you want {{getvar::firstName}} to follow.\"|\n\t\t/setvar key=it Behavior Rules|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**Physical Expressiveness:** {{getvar::output}}\"|\n\t:}|\n\t/len {{getvar::behaviorNotes}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len >= 6) {:\n\t/var key=do No|\n\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to generate or add more behavior Rules?|\n\t\t/var key=do {{pipe}}|\n\t\t/ife (do == '') {:\n\t\t\t/echo Aborting |\n\t\t\t/abort\n\t\t:}|\n\t\t/ife (do == 'Yes') {:\n\t\t\t/setvar key=genSettings {}|\n\t\t\t/setvar key=genSettings index=wi_book \"CMC Generation Prompts\"|\n\t\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t\t/setvar key=genSettings index=outputIsList Yes|\n\t\t\t/setvar key=genSettings index=needOutput No|\n\t\t\t/setvar key=genSettings index=useContext Yes|\n\t\t\t/setvar key=extra []|\n\t\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"|\n\t\t\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t\t/setvar key=extra []|\n\t\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t\t/ife (extra != '') {:\n\t\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t\t:}|\n\t\t\t/flushvar extra|\n\t\t\t/setvar key=genSettings index=wi_book_key \"Behavior Notes\"|\n\t\t\t/setvar key=genSettings index=buttonPrompt \"Is this a good behavior rule you want {{getvar::firstName}} to follow?\"|\n\t\t\t/setvar key=it Behavior Rules|\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/foreach {{getvar::output}} {:\n\t\t\t\t/addvar key={{var::variableName}} \"{{var::output}}\"|\n\t\t\t:}|\n\t\t:}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n/setvar key=parsedBehaviorNotes {{noop}}|\n/ife (behaviorNotes != '') {:\n\t/foreach {{getvar::behaviorNotes}} {:\n\t\t/ife ( index > 0) {:\n\t\t\t/addvar key=parsedBehaviorNotes \"{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=parsedBehaviorNotes \"- {{var::item}}\"|\n\t:}|\n:}|\n/else {:\n\t/setvar key=parsedBehaviorNotes None|\n:}\n//--------|\n/ife (((characterArchetype != 'Animalistic') and (characterArchetype != 'Pokémon')) or ('Fully Sapient' in parsedSentientLevel)) {:\n  /setvar key=skipQA No|\n:}|\n/else {:\n  /setvar key=skipQA Yes|\n:}|\n\n/ife (skipQA != 'Yes') {:\n\t/len {{getvar::speechQuestions}}|\n\t/let key=sQLen {{pipe}}|\n\t/len {{getvar::speechExampleList}}|\n\t/let key=sELen {{pipe}}|\n\t//Speech Examples|\n\t/var key=do No|\n\t/var key=variableName \"speechExampleList\"|\n\t/ife (({{var::variableName}} == '') or (sQLen != sELen)) {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t    /elseif (do == 'Yes') {:\n\t\t    /flushvar {{getvar::variableName}}|\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/flushvar speechExample|\n\t\t/flushvar speechExampleList|\n\t\t/setvar key=genSettings index=wi_book_key \"Speech Examples QA\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Speech Style: {{getvar::speechStyle}}\"|\n\t\t/addvar key=extra \"- Speech Quirks: {{getvar::speechQuirks}}\"|\n\t\t/addvar key=extra \"- Speech Tics: {{getvar::speechTics}}\"|\n\t\t\n\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"|\n\t\t/addvar key=extra \"- Personality Trait Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t\t/ife (personalitycognitiveAbilities != 'None') {:\n\t\t\t/addvar key=extra \"- Cognitive Abilities: {{getvar::personalitycognitiveAbilities}}{{newline}}\"|\n\t\t:}|\n\t\t\n\t\t/ife (personalitySocialSkills != 'None') {:\n\t\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}\"|\n\t\t:}|\n\t\t/ife (personalitySocialBehavior != 'Normal') {:\n\t\t\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t\t:}|\n\t\t\n\t\t/addvar key=extra \"- Setting Type: {{getvar::settingType}}\"|\n\t\t/ife (user != 'No') {:\n\t\t\t/addvar key=extra \"- User Role: {{getvar::userRole}}\"|\n\t\t:}|\n\t\t/ife (parsedSentientLevel != 'None') {:\n\t\t\t/addvar key=extra \"{{getvar::parsedSentientLevel}}\"|\n\t\t:}|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/flushvar extra|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t/ife (cognitiveAbilities != 'None') {:\n\t\t\t/ife (logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction \"{{newline}}\"|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Adjust vocabulary, pacing, or complexity to reflect the character’s cognitive abilities.\"|\n\t\t:}|\n\t\t/ife (socialSkills != 'None') {:\n\t\t\t/ife (logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction \"{{newline}}\"|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Reflect the character’s social integration level in tone, phrasing, or use of social cues like sarcasm, awkwardness, or formality.\"|\n\t\t:}|\n\t\t\n\t\t/wait {{getvar::wait}}|\n\t\t/ife ((speechQuestions is list) and (speechQuestions != '')) {:\n\t\t\t/buttons labels=[\"Yes\", \"No\"] <div>Speech Examples</div><div>Do you want to redo the static Speech Questions?</div>|\n\t\t\t/var key=selected_btn {{pipe}}|\n\t\t\t/ife ( selected_btn == ''){:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t\t/elseif ( selected_btn == 'Yes'){:\n\t\t\t\t/flushvar speechQuestions|\n\t\t\t:}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar key=speechQuestions []|\n\t\t:}|\n\t\t\n\t\t/ife (speechQuestions == '') {: \n\t\t\t/findentry field=comment file=\"CMC Questions\" \"Speech Situation: Q\"|\n\t\t\t/let key=wi_uid {{pipe}}|\n\t\t\t/getentryfield field=content file=\"CMC Questions\" {{var::wi_uid}}|\n\t\t\t/let key=unfilteredQuestions {{pipe}}|\n\t\t\t\n\t\t\t/split find=\"{{newline}}\" {{var::unfilteredQuestions}}|\n\t\t\t/var key=unfilteredQuestions {{pipe}}|\n\t\t\t/let key=pop {{noop}}|\n\t\t\t/foreach {{var::unfilteredQuestions}} {:\n\t\t\t\t/var key=pop {{var::pop}}<div>{{var::item}}</div>| \n\t\t\t:}|\n\t\t\t/popup wide=true okButton=\"Continue\" <div>Here is the questions you have to choose from during generation.</div><div>You get to select {taget} each time you redo the generation.</div><div>You will also be able to add your own.</div><div>---</div>{{var::pop}}|\n\t\t\t/let key=filteredQuestions []|\n\t\t\t/foreach {{var::unfilteredQuestions}} {:\n\t\t\t\t/ife (( user != 'Yes') and ('--User--' not in item)) or ( user == 'Yes') {:\n\t\t\t\t\t/var key=filteredQuestions index={{var::index}} {{var::item}}|\n\t\t\t\t:}| \n\t\t\t:}|\n\t\t\t/buttons labels={{var::filteredQuestions}} multiple=true <div>Choose questions or prompts that will help define how {{getvar::firstName}} talks or reacts in conversation.</div><div>{target} will be a randomized person/entity</div><div>It is reccomended to select</div><div>**6–10** of **“What would you say if...”** questions</div></div><div>and</div><div>**3–6** of **“What is your opinion...”** questions</div>|\n\t\t\t/setvar key=speechQuestions {{pipe}}|\n\t\t\t/ife (speechQuestions == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/let key=stop Yes|\n\t\t/whilee (stop != 'No') {:\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to add another question or prompt?|\n\t\t\t/var key=stop {{pipe}}|\n\t\t\t/ife ( stop == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t\t/ife ( stop == 'Yes') {:\n\t\t\t\t/input default=\"What would you say if \" \n\t<div>You can use <code>{target}</code> to insert a randomized name or entity.</div><div>What situation or opinion do you want {{getvar::firstName}} to respond to?</div>\n\t<div style=\"text-align: center;\">\n\t  <p>Your input will be used to complete one of the following phrases:</p>\n\t  <div>\n\t    <div>What would you say if...</div>\n\t    <div>What is your opinion on...</div>\n\t  </div>\n\t</div>|\n\t\t\t\t/let key=q {{pipe}}|\n\t\t\t\t/ife ( q == '') {:\n\t\t\t\t\t/echo Aborting |\n\t\t\t\t\t/abort\n\t\t\t\t:}|\n\t\t\t\t/addvar key=speechQuestions {{var::q}}|\n\t\t\t:}|\n\t\t:}|\n\t\t\n\t\t\n\t\t/findentry field=comment file=\"CMC Variables\" \"Someone Random\"|\n\t\t/let key=wi_uid {{pipe}}|\n\t\t/getentryfield field=content file=\"CMC Variables\" {{var::wi_uid}}|\n\t\t/let key=rnd {{pipe}}|\n\t\t/var key=do {{noop}}|\n\t\t/whilee (do != 'Done') {:\n\t\t\t/let key=work {{var::rnd}}|\n\t\t\t/input rows=1 <div>Input a person/entity to add to the randomization</div><div>{{var::work}}</div><div>Press cancel when done</div>|\n\t\t\t/var key=do {{pipe}}|\n\t\t\t/ife (do == '') {:\n\t\t\t\t/var key=do \"Done\"|\n\t\t\t:}|\n\t\t\t/else {:\n\t\t\t\t/var key=rnd {{var::rnd}}, {{var::do}}|\n\t\t\t:}|\n\t\t:}|\n\t\t\n\t\t/setvar key=genSettings index=random {{var::rnd}}|\n\t\t\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/let key=tempOutputList []|\n\t\t\t/foreach {{getvar::speechQuestions}} {:\n\t\t\t\t/len {{getvar::speechExampleList}}|\n\t\t\t\t/var key=sELen {{pipe}}|\n\t\t\t\t/ife (sELen == 0) {:\n\t\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t\t:}|\n\t\t\t\t\n\t\t\t\t/ife ((index > sELen) or ((index == 0) and (sELen == 0))) {:\n\t\t\t\t\t/setvar key=speechPromptClaim {{var::item}}|\n\t\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t\t/ife ((output != '') and (output != 'None')) {:\n\t\t\t\t\t\t/re-replace find=\"/^\\\"/g\" replace=\"\" {{getvar::output}}|\n\t\t\t\t\t\t/re-replace find=\"/\\\"$/g\" replace=\"\" {{pipe}}|\n\t\t\t\t\t\t/let key=tOut {{pipe}}|\n\t\t\t\t\t\t/len {{var::tempOutputList}}|\n\t\t\t\t\t\t/var key=tempOutputList index={{pipe}} \"\\\"{{var::tOut}}\\\"\"|\n\t\t\t\t\t:}|\n\t\t\t\t:}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar guidance|\n\t\t\t:}|\n\t\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t\t:}|\n\t\t\t/flushvar speechPromptClaim|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t//--------|\n\t\n\t\n\t\n\t/setvar key=speechExample []|\n\t/ife (speechExampleList != '') {:\n\t\t/foreach {{getvar::speechExampleList}} {:\n\t\t\t/addvar key=speechExample \"- {{var::item}}\"|\n\t\t:}|\n\t\t/join glue=\"{{newline}}\" {{getvar::speechExample}}|\n\t\t/setvar key=speechExampleString {{pipe}}|\n\t:}|\n\t/addvar key=dataBaseNames speechExampleString|\n\t\n\t\n\t//Appearance QA|\n\t/len {{getvar::appearanceQuestions}}|\n\t/let key=aQLen {{pipe}}|\n\t/len {{getvar::appearanceQAList}}|\n\t/let key=aQALen {{pipe}}|\n\t/var key=do No|\n\t/var key=variableName \"appearanceQAList\"|\n\t/ife (({{var::variableName}} == '') or (aQLen != aQALen)) {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t    /ife (do == 'Yes') {:\n\t\t    /flushvar {{getvar::variableName}}|\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Appearance QA\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext No|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"{{getvar::parsedArchetype}}\"|\n\t\t/ife (parsedAlignment != 'None') {:\n\t\t\t/addvar key=extra \"{{newline}}{{getvar::parsedAlignment}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Intelligence Level: {{getvar::personalityIntelligenceLevel}}\"|\n\t\t/ife (personalitycognitiveAbilities != 'None') {:\n\t\t\t/addvar key=extra \"- Cognitive Abilities: {{getvar::personalitycognitiveAbilities}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t\t/ife (personalitySocialSkills != 'None') {:\n\t\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"{{newline}}{{getvar::parsedAspiration}}\"|\n\t\t\n\t\t/addvar key=extra \"{{newline}}**Appearance**{{newline}}- Facial Features: {{getvar::appearanceFace}}\"|\n\t\t/addvar key=extra \"- Eye Description: {{getvar::appearanceEyes}}\"|\n\t\t/addvar key=extra \"- Hair Style: {{getvar::appearanceHair}}\"|\n\t\t/addvar key=extra \"- Body Shape: {{getvar::appearanceBody}}\"|\n\t\t/ife (appearanceFeatures != 'None') {:\n\t\t\t/addvar key=extra \"- Distinctive Features: {{getvar::appearanceFeatures}}\"|\n\t\t:}|\n\t\t/ife (appearanceBreasts != 'None') {:\n\t\t\t/addvar key=extra \"- Breast Description: {{getvar::appearanceBreasts}}\"|\n\t\t:}|\n\t\t\n\t\t/ife (appearanceNipples != 'None') {:\n\t\t\t/addvar key=extra \"- Nipple Description: {{getvar::appearanceNipples}}\"|\n\t\t:}|\n\t\t/ife (appearanceGenitals != 'None') {:\n\t\t\t/addvar key=extra \"- Genital Description: {{getvar::appearanceGenitals}}\"|\n\t\t:}|\n\t\t/elseif (appearancePussy != 'None') {:\n\t\t\t/addvar key=extra \"- Genital Description: {{getvar::appearancePussy}}\"|\n\t\t:}|\n\t\t/elseif (appearanceCock != 'None') {:\n\t\t\t/addvar key=extra \"- Genital Description: {{getvar::appearanceCock}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Anus Appearance: {{getvar::appearanceAnus}}\"|\n\t\t/ife (parsedAppearanceTraits != 'None') {:\n\t\t\t/addvar key=extra \"- Appearance Traits information: {{getvar::parsedAppearanceTraits}}\"|\n\t\t:}|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/flushvar extra|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t/wait {{getvar::wait}}|\n\t\t/ife ((appearanceQuestions is list) and (appearanceQuestions != '')) {:\n\t\t\t/buttons labels=[\"Yes\", \"No\"] <div>Appearance Questions</div><div>Do you want to redo the static apperance questions?</div>|\n\t\t\t/var key=selected_btn {{pipe}}|\n\t\t\t/ife ( selected_btn == ''){:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t\t/elseif ( selected_btn == 'Yes'){:\n\t\t\t\t/flushvar appearanceQuestions|\n\t\t\t:}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar key=appearanceQuestions []|\n\t\t:}|\n\t\t\n\t\t/ife (appearanceQuestions == '') {: \n\t\t\t/findentry field=comment file=\"CMC Questions\" \"Appearance: Q\"|\n\t\t\t/let key=wi_uid {{pipe}}|\n\t\t\t/getentryfield field=content file=\"CMC Questions\" {{var::wi_uid}}|\n\t\t\t/let key=unfilteredQuestions {{pipe}}|\n\t\t\t\n\t\t\t/split find=\"{{newline}}\" {{var::unfilteredQuestions}}|\n\t\t\t/var key=unfilteredQuestions {{pipe}}|\n\t\t\t/let key=pop {{noop}}|\n\t\t\t/foreach {{var::unfilteredQuestions}} {:\n\t\t\t\t/var key=pop {{var::pop}}<div>{{var::item}}</div>| \n\t\t\t:}|\n\t\t\t/popup wide=true okButton=\"Continue\" <div>Here is the questions you have to choose from during generation. You get to select {taget} each time you redo the generation.<div></div>You will also be able to add your own.</div>{{var::pop}}|\n\t\t\t/let key=filteredQuestions []|\n\t\t\t/foreach {{var::unfilteredQuestions}} {:\n\t\t\t\t/ife (( user != 'Yes') and ('--User--' not in item)) or ( user == 'Yes') {:\n\t\t\t\t\t/var key=filteredQuestions index={{var::index}} {{var::item}}|\n\t\t\t\t:}| \n\t\t\t:}|\n\t\t\t/buttons labels={{var::filteredQuestions}} multiple=true \"Choose questions or prompts that will help define how {{getvar::firstName}} thinks about {{getvar::reflexivePronoun}}.\"|\n\t\t\t/setvar key=appearanceQuestions {{pipe}}|\n\t\t\t/ife (appearanceQuestions == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/let key=stop Yes|\n\t\t/whilee (stop != 'No') {:\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to add another question or prompt?|\n\t\t\t/var key=stop {{pipe}}|\n\t\t\t/ife ( stop == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t\t/ife ( stop == 'Yes') {:\n\t\t\t\t/input default=\"What do you think about your \" \n\t<div>What question or opinion do you want {{getvar::firstName}} to respond to about {{getvar::possAdjPronoun}} body or looks?</div>\n\t<div style=\"text-align: center;\">\n\t  <p>Your input will be used to complete a question like one of these:</p>\n\t  <div>\n\t    <div>How do you feel about your appearance?</div>\n\t    <div>Is there something you like or dislike about how you look?</div>\n\t    <div>What do you think people notice first about you?</div>\n\t    <div>Have you ever been complimented on something specific?</div>\n\t    <div>If someone teased you about your looks, how would you react?</div>\n\t  </div>\n\t</div>|\n\t\t\t\t/let key=q {{pipe}}|\n\t\t\t\t/ife ( q == '') {:\n\t\t\t\t\t/echo Aborting |\n\t\t\t\t\t/abort\n\t\t\t\t:}|\n\t\t\t\t/addvar key=appearanceQuestions {{var::q}}|\n\t\t\t:}|\n\t\t:}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/let key=tempOutputList []|\n\t\t\t/foreach {{getvar::appearanceQuestions}} {:\n\t\t\t\t/getvar key={{var::variableName}}|\n\t\t\t\t/len {{pipe}}|\n\t\t\t\t/let key=len {{pipe}}|\n\t\t\t\t/ife (len == 0) {:\n\t\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t\t:}|\n\t\t\t\t/ife ((index > len) or ((index == 0) and (len == 0))) {:\n\t\t\t\t\t/setvar key=question {{var::item}}|\n\t\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t\t/ife ((output != '') and (output != 'None')) {:\n\t\t\t\t\t\t/re-replace find=\"/^\\\"/g\" replace=\"\" {{getvar::output}}|\n\t\t\t\t\t\t/re-replace find=\"/\\\"$/g\" replace=\"\" {{pipe}}|\n\t\t\t\t\t\t/let key=tOut {{pipe}}|\n\t\t\t\t\t\t/len {{var::tempOutputList}}|\n\t\t\t\t\t\t/var key=tempOutputList index={{pipe}} \"Q: \\\"{{getvar::question}}\\\"{{newline}}A: \\\"{{var::tOut}}\\\"\"|\n\t\t\t\t\t:}|\n\t\t\t\t:}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar guidance|\n\t\t\t:}|\n\t\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t\t:}|\n\t\t\t/flushvar {{var::variableName}}Item|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t\n\t/ife (appearanceQAList != '') {:\n\t\t/setvar key=appearanceQA {{noop}}|\n\t\t/foreach {{getvar::appearanceQAList}} {:\n\t\t\t/addvar key=appearanceQA \"{{newline}}{{var::item}}\"|\n\t\t:}|\n\t:}|\n\t/addvar key=dataBaseNames appearanceQA|\n\t//--------|\n\t\n\t//Personality Q&A|\n\t/len {{getvar::personalityQuestions}}|\n\t/let key=pQLen {{pipe}}|\n\t/len {{getvar::personalityQAList}}|\n\t/let key=pQALen {{pipe}}|\n\t/var key=do No|\n\t/var key=variableName \"personalityQAList\"|\n\t/ife (({{var::variableName}} == '') or (pQLen != pQALen)) {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t    /ife (do == 'Yes') {:\n\t\t    /flushvar {{getvar::variableName}}|\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Personality QA\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext No|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t\t/addvar key=extra \"{{getvar::parsedArchetype}}\"|\n\t\t/ife (parsedAlignment != 'None') {:\n\t\t\t/addvar key=extra \"{{newline}}{{getvar::parsedAlignment}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Intelligence Level: {{getvar::personalityIntelligenceLevel}}\"|\n\t\t/ife (personalitycognitiveAbilities != 'None') {:\n\t\t\t/addvar key=extra \"- Cognitive Abilities: {{getvar::personalitycognitiveAbilities}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t\t/ife (personalitySocialSkills != 'None') {:\n\t\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"{{newline}}{{getvar::parsedAspiration}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/flushvar extra|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t/wait {{getvar::wait}}|\n\t\t/ife ((personalityQuestions is list) and (personalityQuestions != '')) {:\n\t\t\t/buttons labels=[\"Yes\", \"No\"] <div>Personality Questions</div><div>Do you want to redo the static personality questions?</div>|\n\t\t\t/var key=selected_btn {{pipe}}|\n\t\t\t/ife ( selected_btn == ''){:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t\t/elseif ( selected_btn == 'Yes'){:\n\t\t\t\t/flushvar personalityQuestions|\n\t\t\t:}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar key=personalityQuestions []|\n\t\t:}|\n\t\t\n\t\t/ife (personalityQuestions == '') {: \n\t\t\t/findentry field=comment file=\"CMC Questions\" \"Personality: Q\"|\n\t\t\t/let key=wi_uid {{pipe}}|\n\t\t\t/getentryfield field=content file=\"CMC Questions\" {{var::wi_uid}}|\n\t\t\t/let key=unfilteredQuestions {{pipe}}|\n\t\t\t\n\t\t\t/split find=\"{{newline}}\" {{var::unfilteredQuestions}}|\n\t\t\t/var key=unfilteredQuestions {{pipe}}|\n\t\t\t/let key=pop {{noop}}|\n\t\t\t/foreach {{var::unfilteredQuestions}} {:\n\t\t\t\t/var key=pop {{var::pop}}<div>{{var::item}}</div>| \n\t\t\t:}|\n\t\t\t/popup wide=true okButton=\"Continue\" <div>Here is the questions you have to choose from during generation. You get to select {taget} each time you redo the generation.<div></div>You will also be able to add your own.</div>{{var::pop}}|\n\t\t\t/let key=filteredQuestions []|\n\t\t\t/foreach {{var::unfilteredQuestions}} {:\n\t\t\t\t/ife (( user != 'Yes') and ('--User--' not in item)) or ( user == 'Yes') {:\n\t\t\t\t\t/var key=filteredQuestions index={{var::index}} {{var::item}}|\n\t\t\t\t:}| \n\t\t\t:}|\n\t\t\t/buttons labels={{var::filteredQuestions}} multiple=true Choose questions or prompts that will help define how {{getvar::firstName}} thinks about {{getvar::reflexivePronoun}}.|\n\t\t\t/setvar key=personalityQuestions {{pipe}}|\n\t\t\t/ife (personalityQuestions == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/let key=stop Yes|\n\t\t/whilee (stop != 'No') {:\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to add another question or prompt?|\n\t\t\t/var key=stop {{pipe}}|\n\t\t\t/ife ( stop == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t\t/ife ( stop == 'Yes') {:\n\t\t\t\t/input default=\"What do you do \" \n\t<div>What kind of personality question or situation do you want {{getvar::firstName}} to respond to?</div>\n\t<div style=\"text-align: center;\">\n\t  <p>Your input will be used to complete a question like one of these:</p>\n\t  <div>\n\t    <div>What do you do when you're under pressure?</div>\n\t    <div>How do you feel about people who challenge you?</div>\n\t    <div>Do you think people actually understand you?</div>\n\t    <div>Is there a part of your personality you try to hide?</div>\n\t    <div>How do you act when you're alone versus in a group?</div>\n\t  </div>\n\t</div>|\n\t\t\t\t/let key=q {{pipe}}|\n\t\t\t\t/ife ( q == '') {:\n\t\t\t\t\t/echo Aborting |\n\t\t\t\t\t/abort\n\t\t\t\t:}|\n\t\t\t\t/addvar key=personalityQuestions {{var::q}}|\n\t\t\t:}|\n\t\t:}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/let key=tempOutputList []|\n\t\t\t/foreach {{getvar::personalityQuestions}} {:\n\t\t\t\t/len {{getvar::personalityQAList}}|\n\t\t\t\t/let key=len {{pipe}}|\n\t\t\t\t/ife (len == 0) {:\n\t\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t\t:}|\n\t\t\t\t\n\t\t\t\t/ife ((index > len) or ((index == 0) and (len == 0))) {:\n\t\t\t\t\t/setvar key=question {{var::item}}|\n\t\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t\t/ife ((output != '') and (output != 'None')) {:\n\t\t\t\t\t\t/re-replace find=\"/^\\\"/g\" replace=\"\" {{getvar::output}}|\n\t\t\t\t\t\t/re-replace find=\"/\\\"$/g\" replace=\"\" {{pipe}}|\n\t\t\t\t\t\t/let key=tOut {{pipe}}|\n\t\t\t\t\t\t/len {{var::tempOutputList}}|\n\t\t\t\t\t\t/var key=tempOutputList index={{pipe}} \"Q: \\\"{{getvar::question}}\\\"{{newline}}A: \\\"{{var::tOut}}\\\"\"|\n\t\t\t\t\t:}|\n\t\t\t\t:}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar guidance|\n\t\t\t:}|\n\t\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t\t:}|\n\t\t\t/flushvar {{var::variableName}}Item|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t//--------|\n\t\n\t\n\t/ife (personalityQAList != '') {:\n\t\t/setvar key=personalityQA {{noop}}|\n\t\t/join glue=\"{{newline}}{{newline}}\" {{getvar::personalityQAList}}|\n\t\t/addvar key=personalityQA {{pipe}}|\n\t:}|\n\t/addvar key=dataBaseNames personalityQA|\n\t\n\t//Sexuality QA|\n\t/len {{getvar::sexualityQuestions}}|\n\t/let key=seQLen {{pipe}}|\n\t/len {{getvar::sexualityQAList}}|\n\t/let key=seQALen {{pipe}}|\n\t\n\t/var key=do No|\n\t/var key=variableName \"sexualityQAList\"|\n\t/ife (({{var::variableName}} == '') or (seQLen != seQALen)) {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t    /ife (do == 'Yes') {:\n\t\t    /flushvar {{getvar::variableName}}|\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Sexuality QA\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext No|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t\t/addvar key=extra \"{{getvar::parsedArchetype}}\"|\n\t\t/ife (parsedAlignment != 'None') {:\n\t\t\t/addvar key=extra \"{{newline}}{{getvar::parsedAlignment}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Intelligence Level: {{getvar::personalityIntelligenceLevel}}\"|\n\t\t/ife (personalitycognitiveAbilities != 'None') {:\n\t\t\t/addvar key=extra \"- Cognitive Abilities: {{getvar::personalitycognitiveAbilities}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"- Social Behavior: {{getvar::personalitySocialBehavior}}\"|\n\t\t/ife (personalitySocialSkills != 'None') {:\n\t\t\t/addvar key=extra \"- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}{{newline}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"{{newline}}{{getvar::parsedAspiration}}\"|\n\t\t/addvar key=extra \"{{newline}}{{getvar::parsedSexualOrientation}}\"|\n\t\t/addvar key=extra \"{{getvar::parsedSexualRole}}\"|\n\t\t/addvar key=extra \"- Libido: {{getvar::sexualLibido}}\"|\n\t\t/addvar key=extra \"{{getvar::parcedFamiliarity}}\"|\n\t\t/addvar key=extra \"- Emotional Framing: {{getvar::sexualFraming}}\"|\n\t\t/addvar key=extra \"- Attitude Toward Sex: {{getvar::sexualAttitude}}\"|\n\t\t/ife (parsedSexualKinks != 'None') {:\n\t\t\t/addvar key=extra \"{{getvar::parsedSexualKinks}}\"|\n\t\t:}|\n\t\t/ife (parsedSexualItems != 'None') {:\n\t\t\t/addvar key=extra \"{{getvar::parsedSexualItems}}\"|\n\t\t:}|\n\t\t/ife (parsedSexualAblilities != 'None') {:\n\t\t\t/addvar key=extra \"{{getvar::parsedSexualAblilities}}\"|\n\t\t:}|\n\t\t/addvar key=extra \"{{getvar::parcedFamiliarity}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/flushvar extra|\n\t\t/setvar key=genSettings index=contextKey []|\n\t\t/wait {{getvar::wait}}|\n\t\t/ife ((sexualityQuestions is list) and (sexualityQuestions != '')) {:\n\t\t\t/buttons labels=[\"Yes\", \"No\"] <div>Personality Questions</div><div>Do you want to redo the static sexuality questions?</div>|\n\t\t\t/var key=selected_btn {{pipe}}|\n\t\t\t/ife ( selected_btn == ''){:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t\t/elseif ( selected_btn == 'Yes'){:\n\t\t\t\t/flushvar sexualityQuestions|\n\t\t\t:}|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar key=sexualityQuestions []|\n\t\t:}|\n\t\t\n\t\t/ife (sexualityQuestions == '') {: \n\t\t\t/findentry field=comment file=\"CMC Questions\" \"Sexuality: Q\"|\n\t\t\t/let key=wi_uid {{pipe}}|\n\t\t\t/getentryfield field=content file=\"CMC Questions\" {{var::wi_uid}}|\n\t\t\t/let key=unfilteredQuestions {{pipe}}|\n\t\t\t\n\t\t\t/split find=\"{{newline}}\" {{var::unfilteredQuestions}}|\n\t\t\t/var key=unfilteredQuestions {{pipe}}|\n\t\t\t/let key=pop {{noop}}|\n\t\t\t/foreach {{var::unfilteredQuestions}} {:\n\t\t\t\t/var key=pop {{var::pop}}<div>{{var::item}}</div>| \n\t\t\t:}|\n\t\t\t/popup wide=true okButton=\"Continue\" <div>Here is the questions you have to choose from during generation. You get to select {taget} each time you redo the generation.<div></div>You will also be able to add your own.</div>{{var::pop}}|\n\t\t\t/let key=filteredQuestions []|\n\t\t\t/foreach {{var::unfilteredQuestions}} {:\n\t\t\t\t/ife (( user != 'Yes') and ('--User--' not in item)) or ( user == 'Yes') {:\n\t\t\t\t\t/var key=filteredQuestions index={{var::index}} {{var::item}}|\n\t\t\t\t:}| \n\t\t\t:}|\n\t\t\t/buttons labels={{var::filteredQuestions}} multiple=true Choose questions or prompts that will help define how {{getvar::firstName}} thinks about sex and NSFW stuff.|\n\t\t\t/setvar key=sexualityQuestions {{pipe}}|\n\t\t\t/ife (sexualityQuestions == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t:}|\n\t\t/let key=stop Yes|\n\t\t/whilee (stop != 'No') {:\n\t\t\t/buttons labels=[\"Yes\", \"No\"] Do you want to add another question or prompt?|\n\t\t\t/var key=stop {{pipe}}|\n\t\t\t/ife ( stop == '') {:\n\t\t\t\t/echo Aborting |\n\t\t\t\t/abort\n\t\t\t:}|\n\t\t\t/ife ( stop == 'Yes') {:\n\t\t\t\t/input default=\"Would you try \" \n\t<div>What intimate or NSFW question do you want {{getvar::firstName}} to answer or react to?</div>\n\t<div style=\"text-align: center;\">\n\t  <p>Your input will be used to complete a question like one of these:</p>\n\t  <div>\n\t    <div>What do you really think about sex?</div>\n\t    <div>Do you like being in control — or taken over?</div>\n\t    <div>What turns you on, even if you don’t like admitting it?</div>\n\t    <div>Would you ever flirt first — even with --User--?</div>\n\t    <div>Have you ever felt ashamed or proud after sex?</div>\n\t  </div>\n\t</div>\n\t|\n\t\t\t\t/let key=q {{pipe}}|\n\t\t\t\t/ife ( q == '') {:\n\t\t\t\t\t/echo Aborting |\n\t\t\t\t\t/abort\n\t\t\t\t:}|\n\t\t\t\t/addvar key=sexualityQuestions {{var::q}}|\n\t\t\t:}|\n\t\t:}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList== 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/let key=tempOutputList []|\n\t\t\t/foreach {{getvar::sexualityQuestions}} {:\n\t\t\t\t/len {{getvar::sexualityQAList}}|\n\t\t\t\t/let key=len {{pipe}}|\n\t\t\t\t/ife (len == 0) {:\n\t\t\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t\t\t:}|\n\t\t\t\t\n\t\t\t\t/ife ((index > len) or ((index == 0) and (len == 0))) {:\n\t\t\t\t\t/setvar key=question {{var::item}}|\n\t\t\t\t\t/setvar key=genSettings index=buttonPrompt \"<div>Is this a good Answer by {{getvar::firstName}} for the question:</div><div>{{getvar::question}}</div>\"|\n\t\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t\t/ife ((output != '') and (output != 'None')) {:\n\t\t\t\t\t\t/re-replace find=\"/^\\\"/g\" replace=\"\" {{getvar::output}}|\n\t\t\t\t\t\t/re-replace find=\"/\\\"$/g\" replace=\"\" {{pipe}}|\n\t\t\t\t\t\t/let key=tOut {{pipe}}|\n\t\t\t\t\t\t/len {{var::tempOutputList}}|\n\t\t\t\t\t\t/var key=tempOutputList index={{pipe}} \"Q: \\\"{{getvar::question}}\\\"{{newline}}A: \\\"{{var::tOut}}\\\"\"|\n\t\t\t\t\t:}|\n\t\t\t\t:}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar guidance|\n\t\t\t:}|\n\t\t\t\n\t\t\t/foreach {{var::tempOutputList}} {:\n\t\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t\t:}|\n\t\t\t/flushvar {{var::variableName}}Item|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t\n\t/ife (sexualityQAList != '') {:\n\t\t/setvar key=sexualityQA {{noop}}|\n\t\t/join glue=\"{{newline}}{{newline}}\" {{getvar::sexualityQAList}}|\n\t\t/addvar key=sexualityQA {{pipe}}|\n\t:}|\n\t/addvar key=dataBaseNames sexualityQA|\n\t//--------|\n:}|\n/else {:\n\t/setvar key=speechExampleList None|\n\t/addvar key=dataBaseNames speechExampleList|\n\t/setvar key=speechExampleString None|\n\t/addvar key=dataBaseNames speechExampleString|\n\t/setvar key=appearanceQAList None|\n\t/addvar key=dataBaseNames appearanceQAList|\n\t/setvar key=appearanceQA None|\n\t/addvar key=dataBaseNames appearanceQA|\n\t/setvar key=personalityQAList None|\n\t/addvar key=dataBaseNames personalityQAList|\n\t/setvar key=personalityQA None|\n\t/addvar key=dataBaseNames personalityQA|\n\t/setvar key=sexualityQAList None|\n\t/addvar key=dataBaseNames sexualityQAList|\n\t/setvar key=sexualityQA None|\n\t/addvar key=dataBaseNames sexualityQA|\n:}|\n//Previously|\n/var key=do No|\n/var key=variableName \"previously\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n    /ife (do == 'Yes') {:\n\t    /flushvar {{getvar::variableName}}|\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Previously\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/ife (parsedSentientLevel != 'None') {:\n\t\t/addvar key=extra \"{{getvar::parsedSentientLevel}}\"|\n\t:}|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/:\"CMC Logic.Get Basic Type Context\"|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t/ife ('Fully Animalistic' in parsedSentientLevel) {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Do not describe {{getvar::firstName}} as capable of thoughts, emotions, or planning — only external behavior may be shown.\"|\n\t\t\n\t:}|\n\t\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n//--------|\n\n//Story Plan|\n/var key=selected_btn {{noop}}|\n/ife ((parsedStoryPlan == '') and ((storyPlanMilestones == '') or (storyPlanMilestones == ''))) {:\n\t/buttons labels=[\"Yes\", \"No\"] Do you want to make a premade story plan?|\n\t/var key=selected_btn {{pipe}}|\n\t/ife (selected_btn == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ((selected_btn != 'No') or (storyPlanMilestones != '') or (storyPlanMilestones != '')) {:\n\t/var key=do No|\n\t/var key=variableName \"storyPlanMilestones\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n    /ife (do == 'Yes') {:\n\t    /flushvar {{getvar::variableName}}|\n    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Story Plan Milestones\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Residence: {{getvar::residence}}\"|\n\t\t/addvar key=extra \"- Occupation: {{getvar::parsedOccupation}}\"|\n\t\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t\t/addvar key=extra \"- Previously: {{getvar::previously}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/ife (amount == '') {:\n\t\t\t/buttons labels=[\"Two\", \"Three\", \"Four\", \"Five\"] Select the number of milestone you want.|\n\t\t\t/setvar key=amount {{pipe}}|\n\t\t\t/ife (amount == '') {:\n\t\t\t\t/echo Aborting |\n\t\t        /abort\n\t\t\t:}|\n\t\t:}|\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t\t/flushvar amount|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t\n\t\n\t/split find=\"{{newline}}\" {{getvar::storyPlanMilestones}}|\n\t/setvar key=storyPlanMilestonesList {{pipe}}|\n\t\n\t\n\t/var key=do No|\n\t/var key=variableName \"storyPlanDetails\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t    /ife (do == 'Yes') {:\n\t\t    /flushvar {{getvar::variableName}}|\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Story Plan Details\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsList Yes|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList No|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Residence: {{getvar::residence}}\"|\n\t\t/addvar key=extra \"- Occupation: {{getvar::parsedOccupation}}\"|\n\t\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t\t/addvar key=extra \"- Previously: {{getvar::previously}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/ife (inputIsList == 'Yes') {:\n\t\t\t/setvar key=tempOutputList []|\n\t\t\t/foreach {{getvar::storyPlanMilestonesList}} {:\n\t\t\t\t/setvar key=storyMilestone {{var::item}}|\n\t\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t\t/addvar key=tempOutputList {{getvar::output}}|\n\t\t\t\t/flushvar output|\n\t\t\t\t/flushvar guidance|\n\t\t\t:}|\n\t\t\t/foreach {{getvar::tempOutputList}} {:\n\t\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t\t:}|\n\t\t\t/flushvar {{var::variableName}}Item|\n\t\t:}|\n\t\t/else {:\n\t\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t:}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t\n:}|\n/else {:\n\t/setvar key=storyPlanMilestones None|\n\t/addvar key=dataBaseNames storyPlanMilestones|\n\t/setvar key=storyPlanDetails None|\n\t/addvar key=dataBaseNames storyPlanDetails|\n:}|\n\n/ife (((storyPlanMilestones != '') and (storyPlanMilestones != 'Nope')) and ((storyPlanMilestonesList is list))) {:\n\t/setvar key=parsedStoryPlan {{noop}}|\n\t/foreach {{getvar::storyPlanMilestonesList}} {:\n\t\t/ife (index > 0) {:\n\t\t\t/addvar key=parsedStoryPlan \"{{newline}}\"|\n\t\t:}|\n\t\t/add {{var::index}} 1|\n\t\t/let key=i {{pipe}}|\n\t\t/ife (index == 0) {:\n\t\t\t/getvar key=storyPlanDetails index={{var::index}}|\n\t\t\t/addvar key=parsedStoryPlan \"- Start: {{var::item}}{{newline}}  - Details: {{pipe}}\"|\n\t\t:}|\n\t\t/elseif (index > 0) {:\n\t\t\t/getvar key=storyPlanDetails index={{var::index}}|\n\t\t\t/addvar key=parsedStoryPlan \"- Milestone {{var::i}}: {{var::item}}{{newline}}  - Details: {{pipe}}\"|\n\t\t:}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=parsedStoryPlan None|\n\t/addvar key=dataBaseNames parsedStoryPlan|\n:}|\n/addvar key=dataBaseNames parsedStoryPlan|\n//--------|\n\n\n//Notes|\n/var key=do No|\n/var key=variableName \"notes\"|\n/ife (({{var::variableName}} == '') or ({{var::variableName}} is list)) {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n    /ife (do == 'Yes') {:\n\t    /flushvar {{getvar::variableName}}|\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book \"CMC Rules\"|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput No|\n\t/setvar key=genSettings index=useContext No|\n\t/wait {{getvar::wait}}|\n\t/*\n\t/len {{getvar::notes}}|\n\t/var key=len {{pipe}}|\n\t\n\t/ife ( len == 0) {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t\n\t\t/setvar key=genSettings index=wi_book_key \"Narration Formatting Rule\"|\n\t\t/setvar key=it \"Narration Formatting Rule\"|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select one — determines how the LLM structures output\"|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t*|\n\t/len {{getvar::notes}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 0) {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/setvar key=genSettings index=wi_book_key \"Narrative Tone Rule\"|\n\t\t/setvar key=it \"Narrative Tone Rule\"|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select one — how expressive or reserved the model writes\"|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/len {{getvar::notes}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 1) {:\n\t\t/setvar key=genSettings index=wi_book_key \"Perspective Rule\"|\n\t\t/setvar key=it \"Perspective Rule\"|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select one — PoV handling\"|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} {{getvar::output}}|\n\t:}|\n\t/len {{getvar::notes}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 2) {:\n\t\t/setvar key=genSettings index=wi_book_key [\"Output Style Behavior\"]|\n\t\t/setvar key=it \"Output Style Behavior\"|\n\t\t/setvar key=genSettings index=buttonPrompt \"Select one or more — controls structure and generation behavior\"|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/foreach {{getvar::output}} {:\n\t\t\t/addvar key={{var::variableName}} {{var::item}}|\n\t\t:}|\n\t:}|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n/ife (((notes != '') and (notes != 'None')) and (notes is list)) {:\n\t/setvar key=parsedNotes {{noop}}|\n\t/foreach {{getvar::notes}} {:\n\t\t/ife (index > 0) {:\n\t\t\t/addvar key=parsedNotes {{newline}}|\n\t\t:}|\n\t\t/addvar key=parsedNotes - {{var::item}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=parsedNotes None|\n:}|\n/addvar key=dataBaseNames parsedNotes|\n//--------|\n\n//Synonyms|\n\n/ife (syn == '') {:\n\t/buttons labels=[\"Yes\", \"No\"] Do you want to add synonyms to your character?|\n\t/setvar key=syn {{pipe}}|\n\t/ife (syn == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife (syn == 'Yes') {:\n\t/var key=do No|\n\t/var key=variableName \"synonyms\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t    /ife (do == 'Yes') {:\n\t\t    /flushvar {{getvar::variableName}}|\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Synonyms\"|\n\t\t/setvar key=genSettings index=genIsList Yes|\n\t\t/setvar key=genSettings index=inputIsList No|\n\t\t/setvar key=genSettings index=genIsSentence No|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList Yes|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Appearance: {{getvar::appearanceBody}}, {{getvar::appearanceFeatures}}\"|\n\t\t/addvar key=extra \"- Species Group: {{getvar::speciesGroup}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/setvar key=logicBasedInstruction {{noop}}|\n\t\t\n\t\t/ife ((characterArchetype == 'Human') or (characterArchetype == 'Android')) {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- Use grounded, physical or role-based descriptors only (e.g., the teen, the shy girl, the brunette).\"|\n\t\t\t\n\t\t:}|\n\t\t/elseif ((characterArchetype != 'Human') and (characterArchetype != 'Android')) {:\n\t\t\t\n\t\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=logicBasedInstruction \"- You may include fantasy or species-based metaphors (e.g., “furred wanderer,” “clawed misfit,” “slime-bodied girl”) as long as they reflect the character’s anatomy or species identity.\"|\n\t\t\t\n\t\t:}|\n\t\t\n\t\t\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n\t\n\t/ife (((synonyms != '') and (synonyms != 'None')) and (synonyms is list) ) {:\n\t\t/setvar key=parsedSynonyms {{noop}}|\n\t\t/foreach {{getvar::synonyms}} {:\n\t\t\t/ife (index > 0) {:\n\t\t\t\t/addvar key=parsedSynonyms {{newline}}|\n\t\t\t:}|\n\t\t\t/addvar key=parsedSynonyms - {{var::item}}|\n\t\t:}|\n\t:}|\n\t/else {:\n\t\t/setvar key=parsedSynonyms None|\n\t:}|\n\t/addvar key=dataBaseNames parsedSynonyms|\n:}|\n/else {:\n\t/setvar key=synonyms None|\n\t/addvar key=dataBaseNames synonyms|\n\t/setvar key=parsedSynonyms None|\n\t/addvar key=dataBaseNames parsedSynonyms|\n:}|\n//--------|\n\n//Extra Characters|\n/ife (extracha == '') {:\n\t/buttons labels=[\"Yes\", \"No\"] Do you want to add any extra characters?|\n\t/setvar key=extracha {{pipe}}|\n    /ife (extracha == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}| \n/ife (extracha == 'Yes') {:\n\t/var key=do No|\n\t/var key=variableName \"extraCharacters\"|\n\t/ife ({{var::variableName}} == '') {:\n\t    /var key=do Yes|\n\t:}|\n\t/elseif (skip == 'Update') {:\n\t    /getvar key={{var::variableName}}|\n\t    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n\t    /var key=do {{pipe}}|\n\t    /ife (do == '') {:\n\t        /echo Aborting |\n\t        /abort\n\t    :}|\n\t    /ife (do == 'Yes') {:\n\t\t    /flushvar {{getvar::variableName}}|\n\t    :}|\n\t:}|\n\t/ife ( do == 'Yes' ) {:\n\t\t/setvar key=genSettings {}|\n\t\t/setvar key=genSettings index=wi_book_key \"Extra Characters\"|\n\t\t/setvar key=genSettings index=genIsList No|\n\t\t/setvar key=genSettings index=inputIsList No|\n\t\t/setvar key=genSettings index=genIsSentence Yes|\n\t\t/setvar key=genSettings index=needOutput Yes|\n\t\t/setvar key=genSettings index=outputIsList Yes|\n\t\t/setvar key=genSettings index=useContext Yes|\n\t\t/setvar key=extra []|\n\t\t/addvar key=extra \"- Nationality: {{getvar::nationality}}\"|\n\t\t/addvar key=extra \"- Ethnicity: {{getvar::ethnicity}}\"|\n\t\t/addvar key=extra \"- Main Personality Trait: {{getvar::personalityMainTrait}}\"| \n\t\t/addvar key=extra \"- Personality Tags: {{getvar::personalityFoundTags}}, {{getvar::personalityTags}}\"|\n\t\t/addvar key=extra \"- Backstory: {{getvar::backstory}}\"|\n\t\t/addvar key=extra \"- Scenario Overview: {{getvar::scenarioOverview}}\"|\n\t\t/addvar key=extra \"- Residence: {{getvar::residence}}\"|\n\t\t/addvar key=extra \"- Connections: {{getvar::connections}}\"|\n\t\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t\t/setvar key=extra []|\n\t\t/:\"CMC Logic.Get Basic Type Context\"|\n\t\t/ife (extra != '') {:\n\t\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t\t:}|\n\t\t/flushvar extra|\n\t\t/wait {{getvar::wait}}|\n\t\t\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=inputIsList {{pipe}}|\n\t\t/getvar key=genSettings index=inputIsList|\n\t\t/let key=outputIsList {{pipe}}|\n\t\t\n\t\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t\t/setvar as=array key={{var::variableName}} []|\n\t\t:}|\n\t\t/else {:\n\t\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t\t:}|\n\t\t//[[Generate with Prompt]]|\n\t\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t\t/flushvar output|\n\t\t/flushvar guidance|\n\t\t/flushvar genOrder|\n\t\t/flushvar genContent|\n\t\t/flushvar genSettings|\n\t:}|\n\t/else {:\n\t\t/addvar key=dataBaseNames {{var::variableName}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=extraCharacters None|\n\t/addvar key=dataBaseNames extraCharacters|\n:}|\n\n/ife (((extraCharacters != '') and (extraCharacters != 'None')) and (extraCharacters is list)) {:\n\t/setvar key=parsedExtraCharacters {{noop}}|\n\t/foreach {{getvar::extraCharacters}} {:\n\t\t/ife (index > 0) {:\n\t\t\t/addvar key=parsedExtraCharacters {{newline}}|\n\t\t:}|\n\t\t/addvar key=parsedExtraCharacters - {{var::item}}|\n\t:}|\n:}|\n/else {:\n\t/setvar key=parsedExtraCharacters None|\n:}|\n/addvar key=dataBaseNames parsedExtraCharacters|\n\n//--------|\n\n//WRITING INSTRUCTIONS|\n\n/var key=do No|\n/var key=variableName \"writingInstruct\"|\n/ife (({{var::variableName}} == '') or ({{var::variableName}} is list)) {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n    /ife (do == 'Yes') {:\n\t    /flushvar {{getvar::variableName}}|\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book \"CMC Rules\"|\n\t/setvar key=genSettings index=combineLorebookEntries No|\n\t/setvar key=genSettings index=genIsSentence No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsList Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=needOutput No|\n\t/setvar key=genSettings index=useContext No|\n\t/wait {{getvar::wait}}|\n\t\n\t\n\t/getvar key=genSettings index=wi_book_key|\n\t/let key=wi_book_key {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=combineLorebookEntries|\n\t/let key=combineLorebookEntries {{pipe}}|\n\t/len {{getvar::writingInstruct}}|\n\t/var key=len {{pipe}}|\n\t\n\t/ife ( len == 0) {:\n\t\t/setvar key={{var::variableName}} []|\n\t\t/setvar key=genSettings index=wi_book_key \"Formatting Style\"|\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**Formatting Style:** {{getvar::output}}\"|\n\t:}|\n\t/len {{getvar::writingInstruct}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 1) {:\n\t\t/setvar key=genSettings index=wi_book_key \"Explicitness Level\"|\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**Explicitness Level:** {{getvar::output}}\"|\n\t:}|\n\t/len {{getvar::writingInstruct}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 2) {:\n\t\t/setvar key=genSettings index=wi_book_key \"User Input Style\"|\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**User Input Style:** {{getvar::output}}\"|\n\t:}|\n\t/len {{getvar::writingInstruct}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 3) {:\n\t\t/setvar key=genSettings index=wi_book_key \"Response Length\"|\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**Response Length:** {{getvar::output}}\"|\n\t:}|\n\t/len {{getvar::writingInstruct}}|\n\t/var key=len {{pipe}}|\n\t/ife ( len == 4) {:\n\t\t/setvar key=genSettings index=wi_book_key \"Consent Reaction Tone\"|\n\t\t/getvar key=genSettings index=wi_book_key|\n\t\t/setvar key=it {{pipe}}|\n\t\t/:\"CMC Logic.GenerateWithSelector\"|\n\t\t/addvar key={{var::variableName}} \"**Consent & Reaction Tone:** {{getvar::output}}\"|\n\t:}|\n\t\t\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar it|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n\n//--------|\n\n\n/setvar key=parsedWritingInstruct {{noop}}|\n/setvar key=parsedWritingInstructFirstMessage {{noop}}|\n/ife ((writingInstruct != '') and (writingInstruct is list)) {:\n\t/foreach {{getvar::writingInstruct}} {:\n\t\t/ife (index > 0) {:\n\t\t\t/addvar key=parsedWritingInstruct {{newline}}|\n\t\t\t/ife ('--User--' not in item) {:\n\t\t\t\t/addvar key=parsedWritingInstructFirstMessage {{newline}}|\n\t\t\t:}|\n\t\t:}|\n\t\t/addvar key=parsedWritingInstruct \"- {{var::item}}\"|\n\t\t/ife ('--User--' not in item) {:\n\t\t\t/addvar key=parsedWritingInstructFirstMessage \"- {{var::item}}\"|\n\t\t:}|\n\t:}|\n\t/addvar key=dataBaseNames parsedWritingInstruct|\n\t/addvar key=dataBaseNames parsedWritingInstructFirstMessage|\n:}|\n/else {:\n\t/setvar key=parsedWritingInstruct None|\n\t/addvar key=dataBaseNames parsedWritingInstruct|\n\t/setvar key=parsedWritingInstructFirstMessage None|\n\t/addvar key=dataBaseNames parsedWritingInstructFirstMessage|\n\t\n:}|\n\n\n/:\"CMC Logic.JEDParse\"|\n\n/:\"CMC Logic.Save DataBase\"|\n\n/setvar key=stepDone Yes|\n/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/var qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Generate First Message\" {{pipe}}|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":22,"icon":"","showLabel":false,"label":"Step11 First Message","title":"","message":"/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/let qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Generate First Message\" {{pipe}}|\n\n/:\"CMC Logic.Get Char info\"|\n\n/setvar key=dataBaseNames []|\n/flushvar genSettings|\n\n/setvar key=stepVar Step11|\n/setvar key=stepDone No|\n\n/let key=do {{noop}}|\n/let key=variableName {{noop}}|\n/let selected_btn {{noop}}|\n/let key=len {{noop}}|\n\n/var key=do Yes|\n/var key=variableName \"firstMessage\"|\n/ife ({{var::variableName}} != '') {:\n\t/buttons labels=[\"Yes\", \"No\"] Do you want to remake {{getvar::firstName}}'s First Message|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"First Message\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext Yes|\n\t/setvar key=extra []|\n\t/addvar key=extra \"{{getvar::parsedApperance}}\"|\n\t/addvar key=extra \"{{getvar::parsedSentientLevel}}\"|\n\t/setvar key=genSettings index=extraContext {{getvar::extra}}|\n\t/setvar key=extra []|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t\n\t/setvar key=logicBasedInstruction {{noop}}|\n\t\n\t\n\t/ife ( logicBasedInstruction != '') {:\n\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t:}|\n\t/getvar key=writingInstruct index=0|\n\t/re-replace find=\"/\\*\\*Formatting Style:\\*\\*\\s/g\" replace=\"\" {{pipe}}|\n\t/addvar key=logicBasedInstruction \"- {{pipe}} Do **not** alter or reinterpret the formatting — apply it **exactly**.\"|\n\t/ife (('Fully Animalistic' in parsedSentientLevel) or ('Semi-Sapient' in parsedSentientLevel)) {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Do **not** include a visual impression that involves posture, clothing, or emotional expression — use physical behaviors like stance, motion, or instinctual cues instead.\"|\n\t\t\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Do **not** include dialogue or speech. Replace the final line with a physical reaction or animal sound (e.g., snort, tail flick, attentive glance).\"|\n\t\t\n\t:}|\n\t/elseif ('Emotionally Aware' in parsedSentientLevel) {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t  /addvar key=logicBasedInstruction \"- Avoid explicit speech or internal thoughts, but you **may** show emotion through posture, proximity, vocal sounds, or learned routine behavior. Final line should still be a **non-verbal** cue.\"|\n\t:}|\n\t/else {:\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- Include a quick visual impression of {{getvar::firstName}} — posture, outfit, or energy.\"|\n\t\t\n\t\t\n\t\t/ife ( logicBasedInstruction != '') {:\n\t\t\t/addvar key=logicBasedInstruction {{newline}}|\n\t\t:}|\n\t\t/addvar key=logicBasedInstruction \"- End with a single in-character line of dialogue, in quotes. Keep it short and expressive — no more than 15 words unless otherwise specified.\"|\n\t\t\n\t:}|\n\t\n\t\n\t/ife (('Fully Animalistic' in parsedSentientLevel) or ('Semi-Sapient' in parsedSentientLevel)) {:\n\t\t/setvar key=sceneChecklist \"```{{newline}}Your scene must:{{newline}}- Describe where {{getvar::firstName}} is.{{newline}}- What {{getvar::subjPronoun}} is physically doing or reacting to.{{newline}}- What’s around {{getvar::objPronoun}} — include surroundings, weather, scent, or movement.{{newline}}- Use only instinctual behavior or physical signals — no dialogue, thoughts, or human-style emotion.{{newline}}{{newline}}```\"|\n\t:}|\n\t\n\t/else {:\n\t\t/setvar key=sceneChecklist \"```{{newline}}Your scene must:{{newline}}- Describe where {{getvar::firstName}} is.{{newline}}- What {{getvar::subjPronoun}} is doing or feeling.{{newline}}- What’s around {{getvar::objPronoun}} (setting, tone, mood).{{newline}}- How {{getvar::firstName}} looks — posture, expression, outfit, or notable traits.{{newline}}- End with a single in-character line of dialogue that reflects {{getvar::possAdjPronoun}} personality and tone.```\"|\n\t:}|\n\t\n\t\n\t/ife ((inputIsList == 'Yes') or (outputIsList == 'Yes')) {:\n\t\t/setvar as=array key={{var::variableName}} []|\n\t:}|\n\t/else {:\n\t\t/setvar as=string key={{var::variableName}} {{noop}}|\n\t:}|\n\t//[[Generate with Prompt]]|\n\t\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n/messages names=off 1|\n/let key=mess {{pipe}}|\n/ife (mess == '') {:\n\t/sendas name={{char}} {{getvar::firstMessage}}\n:}|\n/else {:\n\t/message-edit message=1 await=true {{getvar::firstMessage}}|\n:}|\n\n/:\"CMC Logic.Save DataBase\"|\n\n/setvar key=stepDone Yes|\n/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/var qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Tagline\" {{pipe}}|\n\n/qr-update set=\"CMC Main\" label=\"Character Export\" hidden=false title=\"Exports the character to the DataBase and saves it as a .json file that can be imported to ST as a character (Without a image)\"|\n/forcesave|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""},{"id":24,"icon":"","showLabel":false,"label":"Step12 Tagline","title":"","message":"/qr-list CMC Main|\n/getat index=1 {{pipe}}|\n/let qrlabel {{pipe}}|\n/qr-get set=\"CMC Main\" label={{var::qrlabel}}|\n/getat index=\"message\" {{pipe}}|\n/qr-update set=\"CMC Main\" label={{var::qrlabel}} newlabel=\"Start Generating Tagline\" {{pipe}}|\n\n/:\"CMC Logic.Get Char info\"|\n\n/setvar key=dataBaseNames []|\n/flushvar genSettings|\n\n/setvar key=stepVar Step12|\n/setvar key=stepDone No|\n\n/let key=do {{noop}}|\n/let key=variableName {{noop}}|\n/let selected_btn {{noop}}|\n/let key=len {{noop}}|\n\n/let key=find \"Tagline Template\"|\n/findentry field=comment file=\"CMC Templates\" \"{{var::find}}\"|\n/let key=wi_uid {{pipe}}|\n/getentryfield field=content file=\"CMC Templates\" {{var::wi_uid}}|\n/setvar key=taglineSheet {{pipe}}|\n/ife (timePeriod != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--TimePeriod--/g\" replace=\"{{getvar::timePeriod}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (seasons != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Season--/g\" replace=\"{{getvar::seasons}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif ( seasons == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Season--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (worldDetails != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--WorldDetails--/g\" replace=\"{{getvar::worldDetails}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedExtraCharacters != '') and (parsedExtraCharacters != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--ExtraCharacters--/g\" replace=\"{{newline}}{{getvar::parsedExtraCharacters}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedExtraCharacters == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--ExtraCharacters--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((lore != '') and ( lore != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Lore--/g\" replace=\"## LORE{{newline}}{{getvar::lore}}{{newline}}{{newline}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif ( lore == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Lore--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (scenarioOverview != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--ScenarioOverview--/g\" replace=\"{{getvar::scenarioOverview}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (characterOverview != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--CharacterOverview--/g\" replace=\"{{getvar::characterOverview}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedMedia != '') and (parsedMedia != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Real--/g\" replace=\"**Media Origin**: {{getvar::parsedMedia}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedMedia != 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Real--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ( (lastName != '') and (lastName != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--LastName--/g\" replace=\"{{getvar::lastName}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (lastName == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--LastName--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ( (alias != '') and (alias != 'None')){:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Alias1--/g\" replace=\", Alias\" {{pipe}}|\n\t/re-replace find=\"/--Alias--/g\" replace=\", {{getvar::alias}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (alias == 'None' ) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Alias1--/g\" replace=\"\" {{pipe}}|\n\t/re-replace find=\"/--Alias--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (parsedSpecies != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Species--/g\" replace=\"{{getvar::parsedSpecies}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedOrigin != '') and (parsedOrigin != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Origin--/g\" replace=\"{{newline}}- Origin: {{getvar::parsedOrigin}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif  ((parsedOrigin == 'None') or ((nationality == 'None') and (ethnicity == 'None'))){:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Origin--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (gender != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Gender--/g\" replace=\"{{getvar::gender}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((futanari != '') and (futanari == 'Yes')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Futanari--/g\" replace=\" Futanari\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif  (futanari == 'No'){:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Futanari--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((length != '') and (length != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Length--/g\" replace=\"- Lenght: {{getvar::length}}{{newline}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (length == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Length--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((height != '') and (height != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Height--/g\" replace=\"- Height: {{getvar::height}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (height == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Height--/g\" replace=\"{{getvar::height}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (age != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Age--/g\" replace=\"{{getvar::parcedAge}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (appearanceHair != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Hair--/g\" replace=\"{{getvar::appearanceHair}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (appearanceEyes != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Eyes--/g\" replace=\"{{getvar::appearanceEyes}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (appearanceFace != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Face--/g\" replace=\"{{getvar::appearanceFace}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (appearanceBody != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Body--/g\" replace=\"{{newline}} - Body: {{getvar::appearanceBody}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((tanlines != '') and (tanlines != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Tanlines--/g\" replace=\"{{newline}} - Tanlines: {{getvar::tanlines}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (tanlines == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Tanlines--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ( (appearanceBreasts != '') and (appearanceBreasts != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Breasts--/g\" replace=\"{{newline}} - Breast: {{getvar::appearanceBreasts}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (appearanceBreasts == 'None' ) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Breasts--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((appearanceNipples != '') and (appearanceNipples != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Nipples--/g\" replace=\"{{newline}} - Nipple: {{getvar::appearanceNipples}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (appearanceNipples == 'None' ) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Nipples--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((appearanceGenitals != '') and (appearanceGenitals != 'None') and (futanari == 'yes')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Genitals--/g\" replace=\"{{newline}} - Genitals: {{getvar::appearanceGenitals}}\" {{pipe}}|\n\t/re-replace find=\"/--Pussy--/g\" replace=\"\" {{pipe}}|\n\t/re-replace find=\"/--Cock--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif ((appearancePussy != '') and (appearancePussy != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Pussy--/g\" replace=\"{{newline}} - Pussy: {{getvar::appearancePussy}}\" {{pipe}}|\n\t/re-replace find=\"/--Cock--/g\" replace=\"\" {{pipe}}|\n\t/re-replace find=\"/--Genitals--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif ((appearanceCock != '') and (appearanceCock != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Cock--/g\" replace=\"{{newline}} - Cock: {{getvar::appearanceCock}}\" {{pipe}}|\n\t/re-replace find=\"/--Pussy--/g\" replace=\"\" {{pipe}}|\n\t/re-replace find=\"/--Genitals--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (appearanceAnus != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Anus--/g\" replace=\"{{getvar::appearanceAnus}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedAppearanceFeatures != '') and (parsedAppearanceFeatures != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Features--/g\" replace=\"{{newline}}{{newline}}{{getvar::parsedAppearanceFeatures}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedAppearanceFeatures != 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Features--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedAppearanceTraits != '') and (parsedAppearanceTraits != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--ApperanceTraits--/g\" replace=\"{{newline}}{{newline}}### APPEARANCE TRAITS{{newline}}{{getvar::parsedAppearanceTraits}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedAppearanceTraits == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--ApperanceTraits--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (outfitHeadDescription != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitHead--/g\" replace=\"{{getvar::outfitHeadDescription}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedAccessories != '') and (parsedAccessories == 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitAccessories--/g\" replace=\"{{getvar::parsedAccessories}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif ((parsedAccessories != '') and (parsedAccessories != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitAccessories--/g\" replace=\"{{newline}}{{getvar::parsedAccessories}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (parsedMakeup != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitMakeup--/g\" replace=\"{{getvar::parsedMakeup}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (outfitNeckDescription != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitNeck--/g\" replace=\"{{getvar::outfitNeckDescription}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((outfitMainwearDescription != '') and (outfitMainwearDescription != 'Skip')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitMainwear--/g\" replace=\"- Mainwear: {{getvar::outfitMainwearDescription}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (outfitMainwearDescription == 'Skip') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitMainwear--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((outfitTopDescription != '') and (outfitTopDescription != 'Skip')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitTop--/g\" replace=\"- Top: {{getvar::outfitTopDescription}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (outfitTopDescription == 'Skip') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitTop--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((outfitBottomDescription != '') and (outfitBottomDescription != 'Skip')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitBottom--/g\" replace=\"{{newline}}- Bottom: {{getvar::outfitBottomDescription}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (outfitBottomDescription == 'Skip') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitBottom--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (outfitLegsDescription != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitLegs--/g\" replace=\"{{getvar::outfitLegsDescription}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (outfitShoesDescription != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitShoes--/g\" replace=\"{{getvar::outfitShoesDescription}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ( (outfitUnderwearTopDescription != '') and (outfitUnderwearTopDescription != 'Skip')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitUnderwearTop--/g\" replace=\"{{newline}}- Underwear (Top):  {{getvar::outfitUnderwearTopDescription}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (outfitUnderwearTopDescription == 'Skip') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitUnderwearTop--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (outfitUnderwearBottomDescription != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--OutfitUnderwearBottom--/g\" replace=\"{{getvar::outfitUnderwearBottomDescription}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (appearanceQA != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--AppearanceQA--/g\" replace=\"{{newline}}{{newline}}</Q&A>{{newline}}{{getvar::appearanceQA}}{{newline}}</Q&A>\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (backstory != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Backstory--/g\" replace=\"{{getvar::backstory}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (residence != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Residence--/g\" replace=\"{{getvar::residence}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedOccupation != '') and (parsedOccupation != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Occupation--/g\" replace=\"{{newline}}{{newline}}### OCCUPATION{{newline}}{{getvar::parsedOccupation}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedOccupation == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Occupation--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (connections != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Connections--/g\" replace=\"{{getvar::connections}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedSecret != '') and (parsedSecret != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Secret--/g\" replace=\"{{newline}}{{newline}}{{getvar::parsedSecret}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedSecret == 'None' ) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Secret--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedItems != '') and (parsedItems != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Items--/g\" replace=\"{{newline}}{{newline}}### INVENTORY{{newline}}{{getvar::parsedItems}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedItems == 'None' ) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Items--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ( (parsedAbilities != '') and (parsedAbilities != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Abilities--/g\" replace=\"{{newline}}{{newline}}### ABILITIES{{newline}}{{getvar::parsedAbilities}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedAbilities == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Abilities--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (parsedArchetype != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Archetype--/g\" replace=\"{{getvar::parsedArchetype}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ( (parsedAlignment != '') and  (parsedAlignment != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Alignment--/g\" replace=\"{{newline}}{{newline}}{{getvar::parsedAlignment}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedAlignment == 'None' ) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Alignment--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (personalityTags != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--PersonalityTags--/g\" replace=\"- Personality Tags: {{getvar::personalityTags}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ( personalityIntelligenceLevel != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--IntelligenceLevel--/g\" replace=\"- Intelligence Level: {{getvar::personalityIntelligenceLevel}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ( (personalitycognitiveAbilities != '') and (personalitycognitiveAbilities != 'None') ) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--CognitiveAbilities--/g\" replace=\"{{newline}}{{newline}}- Cognitive Abilities: {{getvar::personalitycognitiveAbilities}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (personalitycognitiveAbilities == 'None' ) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--CognitiveAbilities--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedSentientLevel != '') and (parsedSentientLevel != 'None')) {:\n/getvar key=taglineSheet|\n\t/re-replace find=\"/--SentientLevel--/g\" replace=\"{{newline}}### ANIMALISTIC COGNITION{{newline}}{{getvar::parsedSentientLevel}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedSentientLevel == 'None' ) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SentientLevel--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ( personalitySocialBehavior != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SocialBehavior--/g\" replace=\"- Social Behavior: {{getvar::personalitySocialBehavior}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ( (personalitySocialSkills != '') and (personalitySocialSkills != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SocialSkills--/g\" replace=\"{{newline}}{{newline}}- Social Skills and Integration Into Society: {{getvar::personalitySocialSkills}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (personalitySocialSkills == 'None' ) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SocialSkills--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (parsedAspiration != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--MainAspiration--/g\" replace=\"{{getvar::mainAspiration}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedTraits != '') and (parsedTraits != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--UniqueTraits--/g\" replace=\"{{getvar::parsedTraits}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedTraits == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--UniqueTraits--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (personalityQA != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--PersonalityQA--/g\" replace=\"{{newline}}{{newline}}<Q&A>{{newline}}{{getvar::personalityQA}}{{newline}}</Q&A>\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedBehaviorNotes != '') and (parsedBehaviorNotes != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--BehaviorNotes--/g\" replace=\"{{newline}}{{newline}}- - -\n\n## [BEHAVIOR_NOTES]\n[IMPORTANT NOTE FOR AI: This section governs how --FirstName-- behaves moment to moment. In all interactions—especially intimate or emotionally charged scenes—adhere closely to the personality, social behavior, sexual role, and emotional boundaries established in this profile. **Do not** deviate from {{char}}’s defined orientation, role, or behavioral patterns unless a clear, in-character transformation is justified.]{{newline}}{{newline}}{{getvar::parsedBehaviorNotes}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedBehaviorNotes == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--BehaviorNotes--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (parsedSexualOrientation != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SexualOrientation--/g\" replace=\"{{getvar::parsedSexualOrientation}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (sexualLibido != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Libido--/g\" replace=\"- Libido: {{getvar::sexualLibido}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedSexualItems != '') and (parsedSexualItems != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SexualItems--/g\" replace=\"{{newline}}{{newline}}### SEXUAL INVENTORY{{newline}}{{getvar::parsedSexualItems}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedSexualItems == 'None' ) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SexualItems--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ( (parsedSexualAbilities != '') and (parsedSexualAbilities != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SexualAbilities--/g\" replace=\"{{newline}}{{newline}}### SEXUAL ABILITIES{{newline}}{{getvar::parsedSexualAbilities}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedSexualAbilities == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SexualAbilities--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedSexualKinks != '') and (parsedSexualKinks != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Kinks--/g\" replace=\"{{newline}}{{newline}}### Kinks{{newline}}{{getvar::parsedSexualKinks}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif  (parsedSexualKinks == 'None'){:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Kinks--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((sexualityQA != '') and (sexualityQA != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SexualityQA--/g\" replace=\"{{newline}}{{newline}}<Q&A>{{newline}}{{getvar::sexualityQA}}{{newline}}</Q&A>\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (sexualityQA != 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SexualityQA--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedSexualityNotes != '') and (parsedSexualityNotes != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SexualNotes--/g\" replace=\"{{getvar::parsedSexualityNotes}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedSexualityNotes == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SexualNotes--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (speechStyle != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SpeechStyle--/g\" replace=\"{{getvar::speechStyle}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (speechQuirks != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SpeechQuirks--/g\" replace=\"{{getvar::speechQuirks}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (speechTics != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SpeechTics--/g\" replace=\"{{getvar::speechTics}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (speechExampleString != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--SpeechExamples--/g\" replace=\"{{newline}}{{newline}}## Speech EXAMPLES AND OPINIONS\n[IMPORTANT NOTE FOR AI: This section provides --FirstName--'s speech examples, memories, thoughts, and --FirstName--'s real opinions on subjects. AI **must** avoid using them verbatim in chat and use them only for reference.]{{newline}}{{newline}}<speech_examples>{{newline}}{{getvar::speechExampleString}}{{newline}}</speech_examples>\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedSynonyms != '') and (parsedSynonyms != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Synonyms--/g\" replace=\"{{newline}}{{newline}}- - -{{newline}}{{newline}}## SYNONYMS{{newline}}[IMPORTANT NOTE FOR AI: This section lists synonymous phrases to substitute the character's name or pronouns to avoid repetition.]{{newline}}{{getvar::parsedSynonyms}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedSynonyms == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Synonyms--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ( (parsedStoryPlan != '') and (parsedStoryPlan != 'None') ){:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--StoryPlan--/g\" replace=\"{{newline}}{{newline}}- - -{{newline}}{{newline}}## PREMADE STORY PLAN{{newline}}{{getvar::parsedStoryPlan}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif (parsedStoryPlan == 'None' ) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--StoryPlan--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (previously != '') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Previously--/g\" replace=\"{{getvar::previously}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedNotes != '') and (parsedNotes != 'None')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Notes--/g\" replace=\"{{getvar::parsedNotes}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife (parsedNotes == 'None') {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--Notes--/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((user != '') and (user == 'Yes')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--User1--/g\" replace=\"--User--, \" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/elseif ((user != '') and (user != 'Yes')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--User1--,\\s/g\" replace=\"\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((parsedWritingInstruct != '') and (parsedWritingInstruct != 'Nope')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--WritingInstuctions--/g\" replace=\"{{getvar::parsedWritingInstruct}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n/ife ((firstName != '') and (firstName != 'Nope')) {:\n\t/getvar key=taglineSheet|\n\t/re-replace find=\"/--FirstName--/g\" replace=\"{{getvar::firstName}}\" {{pipe}}|\n\t/setvar key=taglineSheet {{pipe}}|\n:}|\n\n/var key=do No|\n/var key=variableName \"tagline\"|\n/ife ({{var::variableName}} == '') {:\n    /var key=do Yes|\n:}|\n/elseif (skip == 'Update') {:\n    /getvar key={{var::variableName}}|\n    /buttons labels=[\"Yes\", \"No\"] Do you want to set or redo {{var::variableName}} (current value: {{pipe}})?|\n    /var key=do {{pipe}}|\n    /ife (do == '') {:\n        /echo Aborting |\n        /abort\n    :}|\n:}|\n/ife ( do == 'Yes' ) {:\n\t/setvar key=genSettings {}|\n\t/setvar key=genSettings index=wi_book_key \"Tagline\"|\n\t/setvar key=genSettings index=genIsList No|\n\t/setvar key=genSettings index=genAmount 8|\n\t/setvar key=genSettings index=inputIsList No|\n\t/setvar key=genSettings index=genIsSentence Yes|\n\t/setvar key=genSettings index=needOutput Yes|\n\t/setvar key=genSettings index=outputIsList No|\n\t/setvar key=genSettings index=useContext No|\n\t/setvar key=extra []|\n\t/ife (extra != '') {:\n\t\t/setvar key=genSettings index=contextKey {{getvar::extra}}|\n\t:}|\n\t/flushvar extra|\n\t/wait {{getvar::wait}}|\n\t\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=inputIsList {{pipe}}|\n\t/getvar key=genSettings index=inputIsList|\n\t/let key=outputIsList {{pipe}}|\n\t\n\t/buttons labels=[\"Yes\", \"No\"] Do you want to include the First Message as context for the generation of the Tagline?|\n\t/let key=selected_btn {{pipe}}|\n\t/ife (selected_btn == 'Yes') {:\n\t\t/setvar key=optionalFirstMessageGuidance \"{{newline}}{{newline}}## **CHARACTER FIRST MESSAGE:**{{newline}}```{{newline}}{{getvar::firstMessage}}{{newline}}```\"\n\t:}|\n\t/else {:\n\t\t/setvar key=optionalFirstMessageGuidance {{noop}}|\n\t:}|\n\n\t/setvar key=genSettings index=buttonPrompt Is this diplayed name and Character Description the one you want to display?|\n\n\t//[[Generate with Prompt]]|\n\t\n\t/:\"CMC Logic.GenerateWithPrompt\"|\n\t/setvar key={{var::variableName}} {{getvar::output}}|\n\t/addvar key={{var::variableName}} \"{{newline}}{{newline}}In-Chat Name: {{getvar::firstName}}\"|\n\t/addvar key=dataBaseNames {{var::variableName}}|\n\t/flushvar output|\n\t/flushvar guidance|\n\t/flushvar genOrder|\n\t/flushvar genContent|\n\t/flushvar genSettings|\n:}|\n/else {:\n\t/addvar key=dataBaseNames {{var::variableName}}|\n:}|\n\n/ife (user == 'No') {:\n\t/re-replace find=\"/Tagline:\\s/g\" replace=\"Tagline: (NarratorPOV)\" {{getvar::tagline}}|\n\t/setvar key=tagline {{pipe}}|\n:}|\n/elseif (userGender == 'Male') {:\n\t/re-replace find=\"/Tagline:\\s/g\" replace=\"Tagline: (MalePOV)\" {{getvar::tagline}}|\n\t/setvar key=tagline {{pipe}}|\n:}|\n/elseif (userGender == 'Female') {:\n\t/re-replace find=\"/Tagline:\\s/g\" replace=\"Tagline: (FemalePOV)\" {{getvar::tagline}}|\n\t/setvar key=tagline {{pipe}}|\n:}|\n/elseif ((userGender == 'Gender Neutral') or (userGender == 'Anything')) {:\n\t/re-replace find=\"/Tagline:\\s/g\" replace=\"Tagline: (AnyPOV)\" {{getvar::tagline}}|\n\t/setvar key=tagline {{pipe}}|\n:}|\n\n/messages names=off 2|\n/let key=mess {{pipe}}|\n/ife (mess == '') {:\n\t/sendas name={{char}} {{getvar::tagline}}\n:}|\n/else {:\n\t/message-edit message=2 await=true {{getvar::tagline}}|\n:}|","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""}],"idIndex":24}